server:
  - !channel
    port: 50051
    insecure-mode: true

description: >
  A standalone CAS using a SQLite index:
    - Unauthenticated plain HTTP at :50051
    - Single instance: [unnamed]
    - Index: sqlite:///./index.example.db
    - Hosted services:
       - ContentAddressableStorage
       - ByteStream

authorization:
  method: none

monitoring:
  enabled: false

instances:
  - name: ''
    description: |
      The unique '' instance.

    connections:
      - !sql-connection &sql
        connection-string: sqlite:///./index.example.db
        automigrate: yes

    storages:
      - !disk-storage &disk-store
        path: example-cas/
      - !sql-index &my-index
        sql: *sql
        storage: *disk-store

    services:
      - !cas
        storage: *my-index

      - !bytestream
        storage: *my-index
