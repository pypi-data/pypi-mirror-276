import{s as be,z as he,A as _e,h as C,d as _,j as g,i as I,r as b,C as fe,p as Xe,X as xe,w as me,P as et,W as tt,o as lt,a as z,c as P,f as M,g as V,E as at,F as st,G as nt,H as rt,K as ge,l as H,m as W,n as U,Q as Te,u as pe,R as ve}from"./scheduler.96ee3362.js";import{S as ke,i as $e,f as ot,b as G,d as Y,m as J,a as D,t as O,e as K,g as re,c as oe}from"./index.7d87350f.js";import{e as ee}from"./each.8122eab6.js";import{f as it}from"./updater.31a4828a.js";import{b as ft,c as ut,M as ct}from"./menu-trigger.f5ee63a5.js";import{C as dt}from"./Selector.svelte_svelte_type_style_lang.62e5bd7d.js";import{g as mt,p as ht,c as _t,d as gt}from"./index.01b4d1e3.js";import{M as ie,m as pt,u as vt,e as wt}from"./index.bd50bea7.js";import{a as x}from"./Toaster.svelte_svelte_type_style_lang.e88c75e4.js";import{s as bt,k as ze}from"./index.9217c1fa.js";import{b as kt}from"./index.5a400d83.js";import{T as we}from"./Tooltip.534e2f98.js";function $t(s){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(l){e=_e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=C(e);t=_e(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),n.forEach(_),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","m4.5 12.75 6 6 9-13.5"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",s[1]),g(e,"stroke","currentColor"),g(e,"class",s[0])},m(l,n){I(l,e,n),b(e,t)},p(l,[n]){n&2&&g(e,"stroke-width",l[1]),n&1&&g(e,"class",l[0])},i:fe,o:fe,d(l){l&&_(e)}}}function yt(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:n="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class Et extends ke{constructor(e){super(),$e(this,e,yt,$t,be,{className:0,strokeWidth:1})}}function Dt(s){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(l){e=_e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=C(e);t=_e(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),n.forEach(_),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",s[1]),g(e,"stroke","currentColor"),g(e,"class",s[0])},m(l,n){I(l,e,n),b(e,t)},p(l,[n]){n&2&&g(e,"stroke-width",l[1]),n&1&&g(e,"class",l[0])},i:fe,o:fe,d(l){l&&_(e)}}}function Mt(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:n="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class Vt extends ke{constructor(e){super(),$e(this,e,Mt,Dt,be,{className:0,strokeWidth:1})}}function Pe(s,e,t){const l=s.slice();return l[27]=e[t],l}function Le(s,e,t){const l=s.slice();return l[30]=e[t],l}function Be(s,e,t){const l=s.slice();return l[33]=e[t],l}function Se(s,e,t){const l=s.slice();return l[33]=e[t],l}function It(s){let e;return{c(){e=H(s[1])},l(t){e=W(t,s[1])},m(t,l){I(t,e,l)},p(t,l){l[0]&2&&U(e,t[1])},d(t){t&&_(e)}}}function Ct(s){let e=s[7].label+"",t;return{c(){t=H(e)},l(l){t=W(l,e)},m(l,n){I(l,t,n)},p(l,n){n[0]&128&&e!==(e=l[7].label+"")&&U(t,e)},d(l){l&&_(t)}}}function Nt(s){let e,t,l,n;function r(c,v){return c[7]?Ct:It}let a=r(s),i=a(s);return l=new dt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=M("div"),i.c(),t=z(),G(l.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var v=C(e);i.l(v),t=P(v),Y(l.$$.fragment,v),v.forEach(_),this.h()},h(){g(e,"class","flex w-full text-left px-0.5 outline-none bg-transparent truncate text-lg font-semibold placeholder-gray-400 focus:outline-none")},m(c,v){I(c,e,v),i.m(e,null),b(e,t),J(l,e,null),n=!0},p(c,v){a===(a=r(c))&&i?i.p(c,v):(i.d(1),i=a(c),i&&(i.c(),i.m(e,t)))},i(c){n||(D(l.$$.fragment,c),n=!0)},o(c){O(l.$$.fragment,c),n=!1},d(c){c&&_(e),i.d(),K(l)}}}function je(s){let e,t,l,n,r,a,i,c,v;return t=new Vt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=M("div"),G(t.$$.fragment),l=z(),n=M("input"),r=z(),a=M("hr"),this.h()},l(d){e=V(d,"DIV",{class:!0});var m=C(e);Y(t.$$.fragment,m),l=P(m),n=V(m,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),m.forEach(_),r=P(d),a=V(d,"HR",{class:!0}),this.h()},h(){g(n,"id","model-search-input"),g(n,"class","w-full text-sm bg-transparent outline-none"),g(n,"placeholder",s[3]),g(n,"autocomplete","off"),g(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-3"),g(a,"class","border-gray-100 dark:border-gray-800")},m(d,m){I(d,e,m),J(t,e,null),b(e,l),b(e,n),Te(n,s[5]),I(d,r,m),I(d,a,m),i=!0,c||(v=pe(n,"input",s[19]),c=!0)},p(d,m){(!i||m[0]&8)&&g(n,"placeholder",d[3]),m[0]&32&&n.value!==d[5]&&Te(n,d[5])},i(d){i||(D(t.$$.fragment,d),i=!0)},o(d){O(t.$$.fragment,d),i=!1},d(d){d&&(_(e),_(r),_(a)),K(t),c=!1,v()}}}function Ae(s){let e,t,l=s[11].t("No results found")+"",n;return{c(){e=M("div"),t=M("div"),n=H(l),this.h()},l(r){e=V(r,"DIV",{});var a=C(e);t=V(a,"DIV",{class:!0});var i=C(t);n=W(i,l),i.forEach(_),a.forEach(_),this.h()},h(){g(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(r,a){I(r,e,a),b(e,t),b(t,n)},p(r,a){a[0]&2048&&l!==(l=r[11].t("No results found")+"")&&U(n,l)},d(r){r&&_(e)}}}function He(s){var n,r;let e,t=ee((r=(n=s[30].model)==null?void 0:n.info)==null?void 0:r.meta.tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=We(Se(s,t,a));return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var i=C(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(_),this.h()},h(){g(e,"class","flex gap-0.5 self-start h-full mb-0.5 -translate-x-1")},m(a,i){I(a,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,i){var c,v;if(i[0]&512){t=ee((v=(c=a[30].model)==null?void 0:c.info)==null?void 0:v.meta.tags);let d;for(d=0;d<t.length;d+=1){const m=Se(a,t,d);l[d]?l[d].p(m,i):(l[d]=We(m),l[d].c(),l[d].m(e,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=t.length}},d(a){a&&_(e),ge(l,a)}}}function We(s){let e,t=s[33].name+"",l,n;return{c(){e=M("div"),l=H(t),n=z(),this.h()},l(r){e=V(r,"DIV",{class:!0});var a=C(e);l=W(a,t),n=P(a),a.forEach(_),this.h()},h(){g(e,"class","text-xs font-black px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,a){I(r,e,a),b(e,l),b(e,n)},p(r,a){a[0]&512&&t!==(t=r[33].name+"")&&U(l,t)},d(r){r&&_(e)}}}function qe(s){var n,r,a,i,c,v;let e,t,l;return t=new we({props:{content:`${(r=(n=s[30].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((i=(a=s[30].model.ollama)==null?void 0:a.details)==null?void 0:i.quantization_level)+" ":""}${(c=s[30].model.ollama)!=null&&c.size?`(${(((v=s[30].model.ollama)==null?void 0:v.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Ot]},$$scope:{ctx:s}}}),{c(){e=M("div"),G(t.$$.fragment),this.h()},l(d){e=V(d,"DIV",{class:!0});var m=C(e);Y(t.$$.fragment,m),m.forEach(_),this.h()},h(){g(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(d,m){I(d,e,m),J(t,e,null),l=!0},p(d,m){var k,B,y,E,w,p;const N={};m[0]&512&&(N.content=`${(B=(k=d[30].model.ollama)==null?void 0:k.details)!=null&&B.quantization_level?((E=(y=d[30].model.ollama)==null?void 0:y.details)==null?void 0:E.quantization_level)+" ":""}${(w=d[30].model.ollama)!=null&&w.size?`(${(((p=d[30].model.ollama)==null?void 0:p.size)/1024**3).toFixed(1)}GB)`:""}`),m[0]&33554944&&(N.$$scope={dirty:m,ctx:d}),t.$set(N)},i(d){l||(D(t.$$.fragment,d),l=!0)},o(d){O(t.$$.fragment,d),l=!1},d(d){d&&_(e),K(t)}}}function Ot(s){var n,r;let e,t=(((r=(n=s[30].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=M("span"),l=H(t),this.h()},l(a){e=V(a,"SPAN",{class:!0});var i=C(e);l=W(i,t),i.forEach(_),this.h()},h(){g(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,i){I(a,e,i),b(e,l)},p(a,i){var c,v;i[0]&512&&t!==(t=(((v=(c=a[30].model.ollama)==null?void 0:c.details)==null?void 0:v.parameter_size)??"")+"")&&U(l,t)},d(a){a&&_(e)}}}function Ze(s){var n,r;let e,t=ee((r=(n=s[30].model)==null?void 0:n.info)==null?void 0:r.meta.tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=Re(Be(s,t,a));return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var i=C(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(_),this.h()},h(){g(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px]")},m(a,i){I(a,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,i){var c,v;if(i[0]&512){t=ee((v=(c=a[30].model)==null?void 0:c.info)==null?void 0:v.meta.tags);let d;for(d=0;d<t.length;d+=1){const m=Be(a,t,d);l[d]?l[d].p(m,i):(l[d]=Re(m),l[d].c(),l[d].m(e,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=t.length}},d(a){a&&_(e),ge(l,a)}}}function Re(s){let e,t=s[33].name+"",l,n;return{c(){e=M("div"),l=H(t),n=z(),this.h()},l(r){e=V(r,"DIV",{class:!0});var a=C(e);l=W(a,t),n=P(a),a.forEach(_),this.h()},h(){g(e,"class","text-xs font-black px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,a){I(r,e,a),b(e,l),b(e,n)},p(r,a){a[0]&512&&t!==(t=r[33].name+"")&&U(l,t)},d(r){r&&_(e)}}}function Ue(s){let e,t;return e=new we({props:{content:"External",$$slots:{default:[Tt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Tt(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-6escqw"&&(e.innerHTML=t),this.h()},h(){g(e,"class","")},m(l,n){I(l,e,n)},p:fe,d(l){l&&_(e)}}}function Fe(s){var l,n,r;let e,t;return e=new we({props:{content:`${ze((r=(n=(l=s[30].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>")}`,$$slots:{default:[zt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){J(e,a,i),t=!0},p(a,i){var v,d,m;const c={};i[0]&512&&(c.content=`${ze((m=(d=(v=a[30].model)==null?void 0:v.info)==null?void 0:d.meta)==null?void 0:m.description).replaceAll(`
`,"<br>")}`),i[0]&33554432&&(c.$$scope={dirty:i,ctx:a}),e.$set(c)},i(a){t||(D(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function zt(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1dtpc81"&&(e.innerHTML=t),this.h()},h(){g(e,"class","")},m(l,n){I(l,e,n)},p:fe,d(l){l&&_(e)}}}function Ge(s){let e,t,l;return t=new Et({}),{c(){e=M("div"),G(t.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=C(e);Y(t.$$.fragment,r),r.forEach(_),this.h()},h(){g(e,"class","ml-auto pl-2")},m(n,r){I(n,e,r),J(t,e,null),l=!0},i(n){l||(D(t.$$.fragment,n),l=!0)},o(n){O(t.$$.fragment,n),l=!1},d(n){n&&_(e),K(t)}}}function Ye(s){var Q,F,te,ce,de,h,Z,q,j,le,ae,X,T;let e,t,l,n,r,a,i=s[30].label+"",c,v,d,m,N,k,B,y,E,w=s[12]&&(((ce=(te=(F=(Q=s[30])==null?void 0:Q.model)==null?void 0:F.info)==null?void 0:te.meta)==null?void 0:ce.tags)??[]).length>0&&He(s),p=s[30].model.owned_by==="ollama"&&(((h=(de=s[30].model.ollama)==null?void 0:de.details)==null?void 0:h.parameter_size)??"")!==""&&qe(s),$=!s[12]&&(((le=(j=(q=(Z=s[30])==null?void 0:Z.model)==null?void 0:q.info)==null?void 0:j.meta)==null?void 0:le.tags)??[]).length>0&&Ze(s),o=s[30].model.owned_by==="openai"&&Ue(s),f=((T=(X=(ae=s[30].model)==null?void 0:ae.info)==null?void 0:X.meta)==null?void 0:T.description)&&Fe(s),u=s[0]===s[30].value&&Ge();function L(){return s[20](s[30])}return{c(){e=M("button"),t=M("div"),w&&w.c(),l=z(),n=M("div"),r=M("div"),a=M("div"),c=H(i),v=z(),p&&p.c(),d=z(),$&&$.c(),m=z(),o&&o.c(),N=z(),f&&f.c(),k=z(),u&&u.c(),this.h()},l(A){e=V(A,"BUTTON",{"aria-label":!0,class:!0});var S=C(e);t=V(S,"DIV",{class:!0});var se=C(t);w&&w.l(se),l=P(se),n=V(se,"DIV",{class:!0});var R=C(n);r=V(R,"DIV",{class:!0});var ne=C(r);a=V(ne,"DIV",{class:!0});var ue=C(a);c=W(ue,i),ue.forEach(_),v=P(ne),p&&p.l(ne),ne.forEach(_),d=P(R),$&&$.l(R),m=P(R),o&&o.l(R),N=P(R),f&&f.l(R),R.forEach(_),se.forEach(_),k=P(S),u&&u.l(S),S.forEach(_),this.h()},h(){g(a,"class","line-clamp-1"),g(r,"class","flex items-center"),g(n,"class","flex items-center gap-2"),g(t,"class","flex flex-col"),g(e,"aria-label","model-item"),g(e,"class","flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(A,S){I(A,e,S),b(e,t),w&&w.m(t,null),b(t,l),b(t,n),b(n,r),b(r,a),b(a,c),b(r,v),p&&p.m(r,null),b(n,d),$&&$.m(n,null),b(n,m),o&&o.m(n,null),b(n,N),f&&f.m(n,null),b(e,k),u&&u.m(e,null),B=!0,y||(E=pe(e,"click",L),y=!0)},p(A,S){var se,R,ne,ue,ye,Ee,De,Me,Ve,Ie,Ce,Ne,Oe;s=A,s[12]&&(((ue=(ne=(R=(se=s[30])==null?void 0:se.model)==null?void 0:R.info)==null?void 0:ne.meta)==null?void 0:ue.tags)??[]).length>0?w?w.p(s,S):(w=He(s),w.c(),w.m(t,l)):w&&(w.d(1),w=null),(!B||S[0]&512)&&i!==(i=s[30].label+"")&&U(c,i),s[30].model.owned_by==="ollama"&&(((Ee=(ye=s[30].model.ollama)==null?void 0:ye.details)==null?void 0:Ee.parameter_size)??"")!==""?p?(p.p(s,S),S[0]&512&&D(p,1)):(p=qe(s),p.c(),D(p,1),p.m(r,null)):p&&(re(),O(p,1,1,()=>{p=null}),oe()),!s[12]&&(((Ie=(Ve=(Me=(De=s[30])==null?void 0:De.model)==null?void 0:Me.info)==null?void 0:Ve.meta)==null?void 0:Ie.tags)??[]).length>0?$?$.p(s,S):($=Ze(s),$.c(),$.m(n,m)):$&&($.d(1),$=null),s[30].model.owned_by==="openai"?o?S[0]&512&&D(o,1):(o=Ue(s),o.c(),D(o,1),o.m(n,N)):o&&(re(),O(o,1,1,()=>{o=null}),oe()),(Oe=(Ne=(Ce=s[30].model)==null?void 0:Ce.info)==null?void 0:Ne.meta)!=null&&Oe.description?f?(f.p(s,S),S[0]&512&&D(f,1)):(f=Fe(s),f.c(),D(f,1),f.m(n,null)):f&&(re(),O(f,1,1,()=>{f=null}),oe()),s[0]===s[30].value?u?S[0]&513&&D(u,1):(u=Ge(),u.c(),D(u,1),u.m(e,null)):u&&(re(),O(u,1,1,()=>{u=null}),oe())},i(A){B||(D(p),D(o),D(f),D(u),B=!0)},o(A){O(p),O(o),O(f),O(u),B=!1},d(A){A&&_(e),w&&w.d(),p&&p.d(),$&&$.d(),o&&o.d(),f&&f.d(),u&&u.d(),y=!1,E()}}}function Je(s){let e,t=s[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[5]})+"",l,n,r;return{c(){e=M("button"),l=H(t),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var i=C(e);l=W(i,t),i.forEach(_),this.h()},h(){g(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(a,i){I(a,e,i),b(e,l),n||(r=pe(e,"click",s[21]),n=!0)},p(a,i){i[0]&2080&&t!==(t=a[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[5]})+"")&&U(l,t)},d(a){a&&_(e),n=!1,r()}}}function Ke(s){let e,t=s[10][s[27]].digest+"",l;return{c(){e=M("div"),l=H(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=C(e);l=W(r,t),r.forEach(_),this.h()},h(){g(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){I(n,e,r),b(e,l)},p(n,r){r[0]&1024&&t!==(t=n[10][n[27]].digest+"")&&U(l,t)},d(n){n&&_(e)}}}function Pt(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function r(){return s[22](s[27])}return{c(){e=M("button"),e.innerHTML=t,this.h()},l(a){e=V(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","text-gray-800 dark:text-gray-100")},m(a,i){I(a,e,i),l||(n=pe(e,"click",r),l=!0)},p(a,i){s=a},d(a){a&&_(e),l=!1,n()}}}function Qe(s){let e,t,l,n=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,r,a,i,c,v=s[27]+"",d,m,N="pullProgress"in s[10][s[27]]?`(${s[10][s[27]].pullProgress}%)`:"",k,B,y,E,w,p,$,o="digest"in s[10][s[27]]&&s[10][s[27]].digest&&Ke(s);return w=new we({props:{content:s[11].t("Cancel"),$$slots:{default:[Pt]},$$scope:{ctx:s}}}),{c(){e=M("div"),t=M("div"),l=M("div"),l.innerHTML=n,r=z(),a=M("div"),i=M("div"),c=H('Downloading "'),d=H(v),m=H('" '),k=H(N),B=z(),o&&o.c(),y=z(),E=M("div"),G(w.$$.fragment),p=z(),this.h()},l(f){e=V(f,"DIV",{class:!0});var u=C(e);t=V(u,"DIV",{class:!0});var L=C(t);l=V(L,"DIV",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-102rp4j"&&(l.innerHTML=n),r=P(L),a=V(L,"DIV",{class:!0});var Q=C(a);i=V(Q,"DIV",{class:!0});var F=C(i);c=W(F,'Downloading "'),d=W(F,v),m=W(F,'" '),k=W(F,N),F.forEach(_),B=P(Q),o&&o.l(Q),Q.forEach(_),L.forEach(_),y=P(u),E=V(u,"DIV",{class:!0});var te=C(E);Y(w.$$.fragment,te),te.forEach(_),p=P(u),u.forEach(_),this.h()},h(){g(l,"class","-ml-2 mr-2.5 translate-y-0.5"),g(i,"class","line-clamp-1"),g(a,"class","flex flex-col self-start"),g(t,"class","flex"),g(E,"class","mr-2 translate-y-0.5"),g(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(f,u){I(f,e,u),b(e,t),b(t,l),b(t,r),b(t,a),b(a,i),b(i,c),b(i,d),b(i,m),b(i,k),b(a,B),o&&o.m(a,null),b(e,y),b(e,E),J(w,E,null),b(e,p),$=!0},p(f,u){(!$||u[0]&1024)&&v!==(v=f[27]+"")&&U(d,v),(!$||u[0]&1024)&&N!==(N="pullProgress"in f[10][f[27]]?`(${f[10][f[27]].pullProgress}%)`:"")&&U(k,N),"digest"in f[10][f[27]]&&f[10][f[27]].digest?o?o.p(f,u):(o=Ke(f),o.c(),o.m(a,null)):o&&(o.d(1),o=null);const L={};u[0]&2048&&(L.content=f[11].t("Cancel")),u[0]&33555456&&(L.$$scope={dirty:u,ctx:f}),w.$set(L)},i(f){$||(D(w.$$.fragment,f),$=!0)},o(f){O(w.$$.fragment,f),$=!1},d(f){f&&_(e),o&&o.d(),K(w)}}}function Lt(s){let e,t,l,n=!(s[5].trim()in s[10])&&s[5]&&s[8]&&s[13].role==="admin",r,a,i,c,v,d,m=s[2]&&je(s),N=ee(s[9]),k=[];for(let o=0;o<N.length;o+=1)k[o]=Ye(Le(s,N,o));const B=o=>O(k[o],1,1,()=>{k[o]=null});let y=null;N.length||(y=Ae(s));let E=n&&Je(s),w=ee(Object.keys(s[10])),p=[];for(let o=0;o<w.length;o+=1)p[o]=Qe(Pe(s,w,o));const $=o=>O(p[o],1,1,()=>{p[o]=null});return{c(){m&&m.c(),e=z(),t=M("div");for(let o=0;o<k.length;o+=1)k[o].c();y&&y.c(),l=z(),E&&E.c(),r=z();for(let o=0;o<p.length;o+=1)p[o].c();a=z(),i=M("div"),c=z(),v=M("div"),this.h()},l(o){m&&m.l(o),e=P(o),t=V(o,"DIV",{class:!0});var f=C(t);for(let u=0;u<k.length;u+=1)k[u].l(f);y&&y.l(f),l=P(f),E&&E.l(f),r=P(f);for(let u=0;u<p.length;u+=1)p[u].l(f);f.forEach(_),a=P(o),i=V(o,"DIV",{class:!0}),C(i).forEach(_),c=P(o),v=V(o,"DIV",{class:!0}),C(v).forEach(_),this.h()},h(){g(t,"class","px-3 my-2 max-h-64 overflow-y-auto scrollbar-hidden svelte-141e0sl"),g(i,"class","hidden w-[42rem]"),g(v,"class","hidden w-[32rem]")},m(o,f){m&&m.m(o,f),I(o,e,f),I(o,t,f);for(let u=0;u<k.length;u+=1)k[u]&&k[u].m(t,null);y&&y.m(t,null),b(t,l),E&&E.m(t,null),b(t,r);for(let u=0;u<p.length;u+=1)p[u]&&p[u].m(t,null);I(o,a,f),I(o,i,f),I(o,c,f),I(o,v,f),d=!0},p(o,f){if(o[2]?m?(m.p(o,f),f[0]&4&&D(m,1)):(m=je(o),m.c(),D(m,1),m.m(e.parentNode,e)):m&&(re(),O(m,1,1,()=>{m=null}),oe()),f[0]&6721){N=ee(o[9]);let u;for(u=0;u<N.length;u+=1){const L=Le(o,N,u);k[u]?(k[u].p(L,f),D(k[u],1)):(k[u]=Ye(L),k[u].c(),D(k[u],1),k[u].m(t,l))}for(re(),u=N.length;u<k.length;u+=1)B(u);oe(),!N.length&&y?y.p(o,f):N.length?y&&(y.d(1),y=null):(y=Ae(o),y.c(),y.m(t,l))}if(f[0]&9504&&(n=!(o[5].trim()in o[10])&&o[5]&&o[8]&&o[13].role==="admin"),n?E?E.p(o,f):(E=Je(o),E.c(),E.m(t,r)):E&&(E.d(1),E=null),f[0]&68608){w=ee(Object.keys(o[10]));let u;for(u=0;u<w.length;u+=1){const L=Pe(o,w,u);p[u]?(p[u].p(L,f),D(p[u],1)):(p[u]=Qe(L),p[u].c(),D(p[u],1),p[u].m(t,null))}for(re(),u=w.length;u<p.length;u+=1)$(u);oe()}},i(o){if(!d){D(m);for(let f=0;f<N.length;f+=1)D(k[f]);for(let f=0;f<w.length;f+=1)D(p[f]);d=!0}},o(o){O(m),k=k.filter(Boolean);for(let f=0;f<k.length;f+=1)O(k[f]);p=p.filter(Boolean);for(let f=0;f<p.length;f+=1)O(p[f]);d=!1},d(o){o&&(_(e),_(t),_(a),_(i),_(c),_(v)),m&&m.d(o),ge(k,o),y&&y.d(),E&&E.d(),ge(p,o)}}}function Bt(s){let e;const t=s[18].default,l=at(t,s,s[25],null),n=l||Lt(s);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){l?l.p&&(!e||a[0]&33554432)&&st(l,t,r,r[25],e?rt(t,r[25],a,null):nt(r[25]),null):n&&n.p&&(!e||a[0]&16237)&&n.p(r,e?a:[-1,-1])},i(r){e||(D(n,r),e=!0)},o(r){O(n,r),e=!1},d(r){n&&n.d(r)}}}function St(s){let e,t,l,n;return e=new ut({props:{class:"relative w-full","aria-label":s[1],$$slots:{default:[Nt]},$$scope:{ctx:s}}}),l=new ct({props:{class:" z-40 "+(s[12]?"w-full":`${s[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none ",transition:it,side:s[12]?"bottom":"bottom-start",sideOffset:4,$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment),t=z(),G(l.$$.fragment)},l(r){Y(e.$$.fragment,r),t=P(r),Y(l.$$.fragment,r)},m(r,a){J(e,r,a),I(r,t,a),J(l,r,a),n=!0},p(r,a){const i={};a[0]&2&&(i["aria-label"]=r[1]),a[0]&33554562&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const c={};a[0]&4112&&(c.class=" z-40 "+(r[12]?"w-full":`${r[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none "),a[0]&4096&&(c.side=r[12]?"bottom":"bottom-start"),a[0]&33570669&&(c.$$scope={dirty:a,ctx:r}),l.$set(c)},i(r){n||(D(e.$$.fragment,r),D(l.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),O(l.$$.fragment,r),n=!1},d(r){r&&_(t),K(e,r),K(l,r)}}}function jt(s){let e,t,l;function n(a){s[24](a)}let r={onOpenChange:s[23],$$slots:{default:[St]},$$scope:{ctx:s}};return s[6]!==void 0&&(r.open=s[6]),e=new ft({props:r}),Xe.push(()=>ot(e,"open",n)),{c(){G(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){J(e,a,i),l=!0},p(a,i){const c={};i[0]&32&&(c.onOpenChange=a[23]),i[0]&33570815&&(c.$$scope={dirty:i,ctx:a}),!t&&i[0]&64&&(t=!0,c.open=a[6],xe(()=>t=!1)),e.$set(c)},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){O(e.$$.fragment,a),l=!1},d(a){K(e,a)}}}function At(s,e,t){let l,n,r,a,i;me(s,ie,h=>t(10,n=h)),me(s,pt,h=>t(12,a=h)),me(s,vt,h=>t(13,i=h));let{$$slots:c={},$$scope:v}=e;const d=et("i18n");me(s,d,h=>t(11,r=h)),tt();let{value:m=""}=e,{placeholder:N="Select a model"}=e,{searchEnabled:k=!0}=e,{searchPlaceholder:B=r.t("Search a model")}=e,{items:y=[]}=e,{className:E="w-[30rem]"}=e,w=!1,p="",$="",o=null;const f=async()=>{const h=$.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(n),n[h]){x.error(r.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:h}));return}if(Object.keys(n).length===3){x.error(r.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const Z=await ht(localStorage.token,h,"0").catch(q=>(x.error(q),null));if(Z){const q=Z.body.pipeThrough(new TextDecoderStream).pipeThrough(bt(`
`)).getReader();for(;;)try{const{value:j,done:le}=await q.read();if(le)break;let ae=j.split(`
`);for(const X of ae)if(X!==""){let T=JSON.parse(X);if(console.log(T),T.error)throw T.error;if(T.detail)throw T.detail;if(T.id&&(ie.set({...n,[h]:{...n[h],requestId:T.id,reader:q,done:!1}}),console.log(T)),T.status)if(T.digest){let A=0;T.completed?A=Math.round(T.completed/T.total*1e3)/10:A=100,ie.set({...n,[h]:{...n[h],pullProgress:A,digest:T.digest}})}else x.success(T.status),ie.set({...n,[h]:{...n[h],done:T.status==="success"}})}}catch(j){console.log(j),typeof j!="string"&&(j=j.message),x.error(j)}n[h].done?(x.success(r.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:h})),wt.set(await kt(localStorage.token))):x.error(r.t("Download canceled")),delete n[h],ie.set({...n})}};lt(async()=>{t(8,o=await mt(localStorage.token).catch(h=>!1))});const u=async h=>{const{reader:Z,requestId:q}=n[h];Z&&(await Z.cancel(),await _t(localStorage.token,q),delete n[h],ie.set({...n}),await gt(localStorage.token,h),x.success(`${h} download has been canceled`))};function L(){$=this.value,t(5,$)}const Q=h=>{t(0,m=h.value),t(6,w=!1)},F=()=>{f()},te=h=>{u(h)},ce=async()=>{t(5,$=""),window.setTimeout(()=>{var h;return(h=document.getElementById("model-search-input"))==null?void 0:h.focus()},0)};function de(h){w=h,t(6,w)}return s.$$set=h=>{"value"in h&&t(0,m=h.value),"placeholder"in h&&t(1,N=h.placeholder),"searchEnabled"in h&&t(2,k=h.searchEnabled),"searchPlaceholder"in h&&t(3,B=h.searchPlaceholder),"items"in h&&t(17,y=h.items),"className"in h&&t(4,E=h.className),"$$scope"in h&&t(25,v=h.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&131073&&t(7,p=y.find(h=>h.value===m)??""),s.$$.dirty[0]&131104&&t(9,l=y.filter(h=>{var Z,q,j,le,ae,X;return($?h.value.toLowerCase().includes($.toLowerCase())||h.label.toLowerCase().includes($.toLowerCase())||(((j=(q=(Z=h.model)==null?void 0:Z.info)==null?void 0:q.meta)==null?void 0:j.tags)??[]).some(T=>T.name.toLowerCase().includes($.toLowerCase())):!0)&&!(((X=(ae=(le=h.model)==null?void 0:le.info)==null?void 0:ae.meta)==null?void 0:X.hidden)??!1)}))},[m,N,k,B,E,$,w,p,o,l,n,r,a,i,d,f,u,y,c,L,Q,F,te,ce,de,v]}class Xt extends ke{constructor(e){super(),$e(this,e,At,jt,be,{value:0,placeholder:1,searchEnabled:2,searchPlaceholder:3,items:17,className:4},null,[-1,-1])}}export{Xt as S};
//# sourceMappingURL=Selector.7e37d522.js.map
