import{s as Gs,f as u,a as b,l as V,g as d,h as f,c as w,R as At,m as T,d as c,j as o,Q as $,U as Ks,i as O,r as n,V as Es,u as q,O as Qs,n as P,K as Hl,v as Xs,w as Is,P as xs,o as $s,p as Ys,X as ea,C as Ul,t as ta,T as la,z as Ds,A as Vs,S as Ts,e as Ss}from"../chunks/scheduler.96ee3362.js";import{S as sa,i as aa,b as Ll,d as Rl,m as zl,a as ye,t as Je,c as Ns,e as ql,f as ra,g as As}from"../chunks/index.7d87350f.js";import{e as pt}from"../chunks/each.8122eab6.js";import{a as Ps}from"../chunks/Toaster.svelte_svelte_type_style_lang.e88c75e4.js";import{g as na}from"../chunks/navigation.ac6ee7c0.js";import{e as Ms}from"../chunks/index.bd50bea7.js";import{a as oa}from"../chunks/index.0388d97d.js";import{b as ia}from"../chunks/index.5a400d83.js";import{A as ca}from"../chunks/AdvancedParams.ddf0c2e3.js";import{C as ua}from"../chunks/Checkbox.11c3278b.js";import{T as da}from"../chunks/Tags.a5450aa9.js";function Cs(s,e,t){const a=s.slice();return a[40]=e[t],a}function Os(s,e,t){const a=s.slice();return a[43]=e[t],a[44]=e,a[45]=t,a}function Bs(s,e,t){const a=s.slice();return a[46]=e[t],a}function fa(s){let e,t;return{c(){e=Ds("svg"),t=Ds("path"),this.h()},l(a){e=Vs(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=f(e);t=Vs(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),f(t).forEach(c),l.forEach(c),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-8")},m(a,l){O(a,e,l),n(e,t)},p:Ul,d(a){a&&c(e)}}}function pa(s){let e,t;return{c(){e=u("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ts(e.src,t=s[2].meta.profile_image_url)||o(e,"src",t),o(e,"alt","modelfile profile"),o(e,"class","rounded-full size-16 object-cover")},m(a,l){O(a,e,l)},p(a,l){l[0]&12&&!Ts(e.src,t=a[2].meta.profile_image_url)&&o(e,"src",t)},d(a){a&&c(e)}}}function js(s){let e,t=s[46].name+"",a,l;return{c(){e=u("option"),a=V(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var h=f(e);a=T(h,t),h.forEach(c),this.h()},h(){e.__value=l=s[46].id,$(e,e.__value),o(e,"class","text-gray-900")},m(r,h){O(r,e,h),n(e,a)},p(r,h){h[0]&8&&t!==(t=r[46].name+"")&&P(a,t),h[0]&8&&l!==(l=r[46].id)&&(e.__value=l,$(e,e.__value))},d(r){r&&c(e)}}}function _a(s){let e,t=s[11].t("Custom")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Custom")+"")&&P(a,t)},d(l){l&&c(e)}}}function ha(s){let e,t=s[11].t("Default")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Default")+"")&&P(a,t)},d(l){l&&c(e)}}}function Hs(s){let e,t,a,l;return{c(){e=u("input"),this.h()},l(r){e=d(r,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(e,"placeholder",t=s[11].t("Add a short description about what this model does"))},m(r,h){O(r,e,h),$(e,s[2].meta.description),a||(l=q(e,"input",s[24]),a=!0)},p(r,h){h[0]&2048&&t!==(t=r[11].t("Add a short description about what this model does"))&&o(e,"placeholder",t),h[0]&12&&e.value!==r[2].meta.description&&$(e,r[2].meta.description)},d(r){r&&c(e),a=!1,l()}}}function ma(s){let e,t=s[11].t("Show")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&P(a,t)},d(l){l&&c(e)}}}function va(s){let e,t=s[11].t("Hide")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&P(a,t)},d(l){l&&c(e)}}}function Us(s){let e,t,a,l;function r(g){s[27](g)}let h={};return s[10]!==void 0&&(h.params=s[10]),t=new ca({props:h}),Ys.push(()=>ra(t,"params",r)),t.$on("change",s[28]),{c(){e=u("div"),Ll(t.$$.fragment),this.h()},l(g){e=d(g,"DIV",{class:!0});var y=f(e);Rl(t.$$.fragment,y),y.forEach(c),this.h()},h(){o(e,"class","my-2")},m(g,y){O(g,e,y),zl(t,e,null),l=!0},p(g,y){const R={};!a&&y[0]&1024&&(a=!0,R.params=g[10],ea(()=>a=!1)),t.$set(R)},i(g){l||(ye(t.$$.fragment,g),l=!0)},o(g){Je(t.$$.fragment,g),l=!1},d(g){g&&c(e),ql(t)}}}function ga(s){let e,t=s[11].t("Custom")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Custom")+"")&&P(a,t)},d(l){l&&c(e)}}}function ba(s){let e,t=s[11].t("Default")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Default")+"")&&P(a,t)},d(l){l&&c(e)}}}function Ls(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),At(e)!=="svelte-1syph4x"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-1 px-2 text-xs flex rounded transition"),o(e,"type","button")},m(r,h){O(r,e,h),a||(l=q(e,"click",s[30]),a=!0)},p:Ul,d(r){r&&c(e),a=!1,l()}}}function Rs(s){let e;function t(r,h){return r[2].meta.suggestion_prompts.length>0?ka:wa}let a=t(s),l=a(s);return{c(){e=u("div"),l.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var h=f(e);l.l(h),h.forEach(c),this.h()},h(){o(e,"class","flex flex-col space-y-1 mt-2")},m(r,h){O(r,e,h),l.m(e,null)},p(r,h){a===(a=t(r))&&l?l.p(r,h):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&c(e),l.d()}}}function wa(s){let e,t="No suggestion prompts";return{c(){e=u("div"),e.textContent=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),At(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-center")},m(a,l){O(a,e,l)},p:Ul,d(a){a&&c(e)}}}function ka(s){let e,t=pt(s[2].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=zs(Os(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=Ss()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=Ss()},m(l,r){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(l,r);O(l,e,r)},p(l,r){if(r[0]&2052){t=pt(l[2].meta.suggestion_prompts);let h;for(h=0;h<t.length;h+=1){const g=Os(l,t,h);a[h]?a[h].p(g,r):(a[h]=zs(g),a[h].c(),a[h].m(e.parentNode,e))}for(;h<a.length;h+=1)a[h].d(1);a.length=t.length}},d(l){l&&c(e),Hl(a,l)}}}function zs(s){let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,y,R;function S(){s[31].call(t,s[44],s[45])}function j(){return s[32](s[45])}return{c(){e=u("div"),t=u("input"),l=b(),r=u("button"),r.innerHTML=h,g=b(),this.h()},l(v){e=d(v,"DIV",{class:!0});var D=f(e);t=d(D,"INPUT",{class:!0,placeholder:!0}),l=w(D),r=d(D,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),At(r)!=="svelte-svd6gc"&&(r.innerHTML=h),g=w(D),D.forEach(c),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),o(t,"placeholder",a=s[11].t("Write a prompt suggestion (e.g. Who are you?)")),o(r,"class","px-2"),o(r,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(v,D){O(v,e,D),n(e,t),$(t,s[43].content),n(e,l),n(e,r),n(e,g),y||(R=[q(t,"input",S),q(r,"click",j)],y=!0)},p(v,D){s=v,D[0]&2048&&a!==(a=s[11].t("Write a prompt suggestion (e.g. Who are you?)"))&&o(t,"placeholder",a),D[0]&12&&t.value!==s[43].content&&$(t,s[43].content)},d(v){v&&c(e),y=!1,Xs(R)}}}function qs(s){let e,t,a,l,r=s[11].t(s[40])+"",h,g,y;function R(...S){return s[33](s[40],...S)}return t=new ua({props:{state:s[1][s[40]]?"checked":"unchecked"}}),t.$on("change",R),{c(){e=u("div"),Ll(t.$$.fragment),a=b(),l=u("div"),h=V(r),g=b(),this.h()},l(S){e=d(S,"DIV",{class:!0});var j=f(e);Rl(t.$$.fragment,j),a=w(j),l=d(j,"DIV",{class:!0});var v=f(l);h=T(v,r),v.forEach(c),g=w(j),j.forEach(c),this.h()},h(){o(l,"class","py-0.5 text-sm w-full capitalize"),o(e,"class","flex items-center gap-2")},m(S,j){O(S,e,j),zl(t,e,null),n(e,a),n(e,l),n(l,h),n(e,g),y=!0},p(S,j){s=S;const v={};j[0]&2&&(v.state=s[1][s[40]]?"checked":"unchecked"),t.$set(v),(!y||j[0]&2050)&&r!==(r=s[11].t(s[40])+"")&&P(h,r)},i(S){y||(ye(t.$$.fragment,S),y=!0)},o(S){Je(t.$$.fragment,S),y=!1},d(S){S&&c(e),ql(t)}}}function ya(s){let e,t=s[11].t("Show")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&P(a,t)},d(l){l&&c(e)}}}function Ea(s){let e,t=s[11].t("Hide")+"",a;return{c(){e=u("span"),a=V(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=f(e);a=T(r,t),r.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&P(a,t)},d(l){l&&c(e)}}}function Fs(s){let e,t,a;return{c(){e=u("div"),t=u("textarea"),this.h()},l(l){e=d(l,"DIV",{});var r=f(e);t=d(r,"TEXTAREA",{class:!0,rows:!0}),f(t).forEach(c),r.forEach(c),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(t,"rows","10"),t.value=a=JSON.stringify(s[2],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){O(l,e,r),n(e,t)},p(l,r){r[0]&12&&a!==(a=JSON.stringify(l[2],null,2))&&(t.value=a)},d(l){l&&c(e)}}}function Js(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),At(e)!=="svelte-qf5fty"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-1.5 self-center")},m(a,l){O(a,e,l)},d(a){a&&c(e)}}}function Ia(s){var Gl,Kl;let e,t,a,l,r,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',g,y,R=s[11].t("Back")+"",S,j,v,D,N,B,p,ee,te,le,pe,Oe=s[11].t("Name")+"",We,_t,ht,Be,G,Xe,mt,ce,_e,je=s[11].t("Model ID")+"",Ye,vt,gt,He,K,Ze,bt,ue,Ee,Ue=s[11].t("Base Model (From)")+"",Ge,m,E,C,H,de=s[11].t("Select a base model")+"",Ke,Le,Z,Q,Ie,Re=s[11].t("Description")+"",Qe,ul,he,dl,fl,Pt,pl,De,xe,$e,wt=s[11].t("Model Params")+"",Mt,_l,se,Ve,et,kt=s[11].t("System Prompt")+"",Ct,hl,yt,fe,ml,Te,tt,Et=s[11].t("Advanced Params")+"",Ot,vl,me,gl,bl,Bt,wl,ve,ge,Se,lt,It=s[11].t("Prompt suggestions")+"",jt,kl,be,yl,El,Il,Ne,st,at,Dt=s[11].t("Capabilities")+"",Ht,Dl,ze,Vl,Ae,rt,nt,Vt=s[11].t("Tags")+"",Ut,Tl,ot,Pe,Sl,we,Me,it,Tt=s[11].t("JSON Preview")+"",Lt,Nl,ke,Al,Pl,ct,x,ut,St=s[11].t("Save & Create")+"",Rt,Ml,zt,M,Cl,Fl;function Jl(i,_){return i[2].meta.profile_image_url?pa:fa}let qt=Jl(s),ae=qt(s),dt=pt(s[3].filter(Ws)),z=[];for(let i=0;i<dt.length;i+=1)z[i]=js(Bs(s,dt,i));function Wl(i,_){return i[2].meta.description===null?ha:_a}let Ft=Wl(s),re=Ft(s),F=s[2].meta.description!==null&&Hs(s);function Xl(i,_){return i[6]?va:ma}let Jt=Xl(s),ne=Jt(s),U=s[6]&&Us(s);function Yl(i,_){return i[2].meta.suggestion_prompts===null?ba:ga}let Wt=Yl(s),oe=Wt(s),J=s[2].meta.suggestion_prompts!==null&&Ls(s),W=s[2].meta.suggestion_prompts&&Rs(s),qe=pt(Object.keys(s[1])),A=[];for(let i=0;i<qe.length;i+=1)A[i]=qs(Cs(s,qe,i));const Zs=i=>Je(A[i],1,1,()=>{A[i]=null});Pe=new da({props:{tags:((Kl=(Gl=s[2])==null?void 0:Gl.meta)==null?void 0:Kl.tags)??[],deleteTag:s[34],addTag:s[35]}});function Zl(i,_){return i[7]?Ea:ya}let Xt=Zl(s),ie=Xt(s),X=s[7]&&Fs(s),Y=s[8]&&Js();return{c(){e=u("div"),t=u("input"),a=b(),l=u("button"),r=u("div"),r.innerHTML=h,g=b(),y=u("div"),S=V(R),j=b(),v=u("form"),D=u("div"),N=u("div"),B=u("button"),ae.c(),ee=b(),te=u("div"),le=u("div"),pe=u("div"),We=V(Oe),_t=V("*"),ht=b(),Be=u("div"),G=u("input"),mt=b(),ce=u("div"),_e=u("div"),Ye=V(je),vt=V("*"),gt=b(),He=u("div"),K=u("input"),bt=b(),ue=u("div"),Ee=u("div"),Ge=V(Ue),m=b(),E=u("div"),C=u("select"),H=u("option"),Ke=V(de);for(let i=0;i<z.length;i+=1)z[i].c();Le=b(),Z=u("div"),Q=u("div"),Ie=u("div"),Qe=V(Re),ul=b(),he=u("button"),re.c(),dl=b(),F&&F.c(),fl=b(),Pt=u("hr"),pl=b(),De=u("div"),xe=u("div"),$e=u("div"),Mt=V(wt),_l=b(),se=u("div"),Ve=u("div"),et=u("div"),Ct=V(kt),hl=b(),yt=u("div"),fe=u("textarea"),ml=b(),Te=u("div"),tt=u("div"),Ot=V(Et),vl=b(),me=u("button"),ne.c(),gl=b(),U&&U.c(),bl=b(),Bt=u("hr"),wl=b(),ve=u("div"),ge=u("div"),Se=u("div"),lt=u("div"),jt=V(It),kl=b(),be=u("button"),oe.c(),yl=b(),J&&J.c(),El=b(),W&&W.c(),Il=b(),Ne=u("div"),st=u("div"),at=u("div"),Ht=V(Dt),Dl=b(),ze=u("div");for(let i=0;i<A.length;i+=1)A[i].c();Vl=b(),Ae=u("div"),rt=u("div"),nt=u("div"),Ut=V(Vt),Tl=b(),ot=u("div"),Ll(Pe.$$.fragment),Sl=b(),we=u("div"),Me=u("div"),it=u("div"),Lt=V(Tt),Nl=b(),ke=u("button"),ie.c(),Al=b(),X&&X.c(),Pl=b(),ct=u("div"),x=u("button"),ut=u("div"),Rt=V(St),Ml=b(),Y&&Y.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var _=f(e);t=d(_,"INPUT",{type:!0,accept:!0}),a=w(_),l=d(_,"BUTTON",{class:!0});var L=f(l);r=d(L,"DIV",{class:!0,"data-svelte-h":!0}),At(r)!=="svelte-1klo87r"&&(r.innerHTML=h),g=w(L),y=d(L,"DIV",{class:!0});var Nt=f(y);S=T(Nt,R),Nt.forEach(c),L.forEach(c),j=w(_),v=d(_,"FORM",{class:!0});var I=f(v);D=d(I,"DIV",{class:!0});var k=f(D);N=d(k,"DIV",{class:!0});var Ce=f(N);B=d(Ce,"BUTTON",{class:!0,type:!0});var Ql=f(B);ae.l(Ql),Ql.forEach(c),Ce.forEach(c),k.forEach(c),ee=w(I),te=d(I,"DIV",{class:!0});var Yt=f(te);le=d(Yt,"DIV",{class:!0});var Zt=f(le);pe=d(Zt,"DIV",{class:!0});var Ol=f(pe);We=T(Ol,Oe),_t=T(Ol,"*"),Ol.forEach(c),ht=w(Zt),Be=d(Zt,"DIV",{});var xl=f(Be);G=d(xl,"INPUT",{class:!0,placeholder:!0}),xl.forEach(c),Zt.forEach(c),mt=w(Yt),ce=d(Yt,"DIV",{class:!0});var Gt=f(ce);_e=d(Gt,"DIV",{class:!0});var Bl=f(_e);Ye=T(Bl,je),vt=T(Bl,"*"),Bl.forEach(c),gt=w(Gt),He=d(Gt,"DIV",{});var $l=f(He);K=d($l,"INPUT",{class:!0,placeholder:!0}),$l.forEach(c),Gt.forEach(c),Yt.forEach(c),bt=w(I),ue=d(I,"DIV",{class:!0});var Kt=f(ue);Ee=d(Kt,"DIV",{class:!0});var es=f(Ee);Ge=T(es,Ue),es.forEach(c),m=w(Kt),E=d(Kt,"DIV",{});var ts=f(E);C=d(ts,"SELECT",{class:!0,placeholder:!0});var jl=f(C);H=d(jl,"OPTION",{class:!0});var ls=f(H);Ke=T(ls,de),ls.forEach(c);for(let Fe=0;Fe<z.length;Fe+=1)z[Fe].l(jl);jl.forEach(c),ts.forEach(c),Kt.forEach(c),Le=w(I),Z=d(I,"DIV",{class:!0});var Qt=f(Z);Q=d(Qt,"DIV",{class:!0});var xt=f(Q);Ie=d(xt,"DIV",{class:!0});var ss=f(Ie);Qe=T(ss,Re),ss.forEach(c),ul=w(xt),he=d(xt,"BUTTON",{class:!0,type:!0});var as=f(he);re.l(as),as.forEach(c),xt.forEach(c),dl=w(Qt),F&&F.l(Qt),Qt.forEach(c),fl=w(I),Pt=d(I,"HR",{class:!0}),pl=w(I),De=d(I,"DIV",{class:!0});var $t=f(De);xe=d($t,"DIV",{class:!0});var rs=f(xe);$e=d(rs,"DIV",{class:!0});var ns=f($e);Mt=T(ns,wt),ns.forEach(c),rs.forEach(c),_l=w($t),se=d($t,"DIV",{class:!0});var ft=f(se);Ve=d(ft,"DIV",{class:!0});var el=f(Ve);et=d(el,"DIV",{class:!0});var os=f(et);Ct=T(os,kt),os.forEach(c),hl=w(el),yt=d(el,"DIV",{});var is=f(yt);fe=d(is,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),f(fe).forEach(c),is.forEach(c),el.forEach(c),ml=w(ft),Te=d(ft,"DIV",{class:!0});var tl=f(Te);tt=d(tl,"DIV",{class:!0});var cs=f(tt);Ot=T(cs,Et),cs.forEach(c),vl=w(tl),me=d(tl,"BUTTON",{class:!0,type:!0});var us=f(me);ne.l(us),us.forEach(c),tl.forEach(c),gl=w(ft),U&&U.l(ft),ft.forEach(c),$t.forEach(c),bl=w(I),Bt=d(I,"HR",{class:!0}),wl=w(I),ve=d(I,"DIV",{class:!0});var ll=f(ve);ge=d(ll,"DIV",{class:!0});var sl=f(ge);Se=d(sl,"DIV",{class:!0});var al=f(Se);lt=d(al,"DIV",{class:!0});var ds=f(lt);jt=T(ds,It),ds.forEach(c),kl=w(al),be=d(al,"BUTTON",{class:!0,type:!0});var fs=f(be);oe.l(fs),fs.forEach(c),al.forEach(c),yl=w(sl),J&&J.l(sl),sl.forEach(c),El=w(ll),W&&W.l(ll),ll.forEach(c),Il=w(I),Ne=d(I,"DIV",{class:!0});var rl=f(Ne);st=d(rl,"DIV",{class:!0});var ps=f(st);at=d(ps,"DIV",{class:!0});var _s=f(at);Ht=T(_s,Dt),_s.forEach(c),ps.forEach(c),Dl=w(rl),ze=d(rl,"DIV",{class:!0});var hs=f(ze);for(let Fe=0;Fe<A.length;Fe+=1)A[Fe].l(hs);hs.forEach(c),rl.forEach(c),Vl=w(I),Ae=d(I,"DIV",{class:!0});var nl=f(Ae);rt=d(nl,"DIV",{class:!0});var ms=f(rt);nt=d(ms,"DIV",{class:!0});var vs=f(nt);Ut=T(vs,Vt),vs.forEach(c),ms.forEach(c),Tl=w(nl),ot=d(nl,"DIV",{class:!0});var gs=f(ot);Rl(Pe.$$.fragment,gs),gs.forEach(c),nl.forEach(c),Sl=w(I),we=d(I,"DIV",{class:!0});var ol=f(we);Me=d(ol,"DIV",{class:!0});var il=f(Me);it=d(il,"DIV",{class:!0});var bs=f(it);Lt=T(bs,Tt),bs.forEach(c),Nl=w(il),ke=d(il,"BUTTON",{class:!0,type:!0});var ws=f(ke);ie.l(ws),ws.forEach(c),il.forEach(c),Al=w(ol),X&&X.l(ol),ol.forEach(c),Pl=w(I),ct=d(I,"DIV",{class:!0});var ks=f(ct);x=d(ks,"BUTTON",{class:!0,type:!0});var cl=f(x);ut=d(cl,"DIV",{class:!0});var ys=f(ut);Rt=T(ys,St),ys.forEach(c),Ml=w(cl),Y&&Y.l(cl),cl.forEach(c),ks.forEach(c),I.forEach(c),_.forEach(c),this.h()},h(){o(t,"type","file"),t.hidden=!0,o(t,"accept","image/*"),o(r,"class","self-center"),o(y,"class","self-center font-medium text-sm"),o(l,"class","flex space-x-1"),o(B,"class",p=(s[2].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),o(B,"type","button"),o(N,"class","self-center"),o(D,"class","flex justify-center my-4"),o(pe,"class","text-sm font-semibold mb-2"),o(G,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(G,"placeholder",Xe=s[11].t("Name your model")),G.required=!0,o(le,"class","flex-1"),o(_e,"class","text-sm font-semibold mb-2"),o(K,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(K,"placeholder",Ze=s[11].t("Add a model id")),K.required=!0,o(ce,"class","flex-1"),o(te,"class","my-2 flex space-x-2"),o(Ee,"class","text-sm font-semibold mb-2"),H.__value=null,$(H,H.__value),o(H,"class","text-gray-900"),o(C,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(C,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),C.required=!0,s[2].base_model_id===void 0&&Ks(()=>s[22].call(C)),o(ue,"class","my-2"),o(Ie,"class","self-center text-sm font-semibold"),o(he,"class","p-1 text-xs flex rounded transition"),o(he,"type","button"),o(Q,"class","flex w-full justify-between items-center mb-1"),o(Z,"class","my-1"),o(Pt,"class","dark:border-gray-850 my-1"),o($e,"class","self-center text-sm font-semibold"),o(xe,"class","flex w-full justify-between"),o(et,"class","text-xs font-semibold mb-2"),o(fe,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),o(fe,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),o(fe,"rows","4"),o(Ve,"class","my-1"),o(tt,"class","self-center text-xs font-semibold"),o(me,"class","p-1 px-3 text-xs flex rounded transition"),o(me,"type","button"),o(Te,"class","flex w-full justify-between"),o(se,"class","mt-2"),o(De,"class","my-2"),o(Bt,"class","dark:border-gray-850 my-1"),o(lt,"class","self-center text-sm font-semibold"),o(be,"class","p-1 text-xs flex rounded transition"),o(be,"type","button"),o(Se,"class","flex w-full justify-between items-center"),o(ge,"class","flex w-full justify-between items-center"),o(ve,"class","my-1"),o(at,"class","self-center text-sm font-semibold"),o(st,"class","flex w-full justify-between mb-1"),o(ze,"class","flex flex-col"),o(Ne,"class","my-1"),o(nt,"class","self-center text-sm font-semibold"),o(rt,"class","flex w-full justify-between items-center"),o(ot,"class","mt-2"),o(Ae,"class","my-1"),o(it,"class","self-center text-sm font-semibold"),o(ke,"class","p-1 px-3 text-xs flex rounded transition"),o(ke,"type","button"),o(Me,"class","flex w-full justify-between mb-2"),o(we,"class","my-2 text-gray-300 dark:text-gray-700"),o(ut,"class","self-center font-medium"),o(x,"class",zt="text-sm px-3 py-2 transition rounded-xl "+(s[8]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),o(x,"type","submit"),x.disabled=s[8],o(ct,"class","my-2 flex justify-end mb-20"),o(v,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),o(e,"class","w-full max-h-full")},m(i,_){O(i,e,_),n(e,t),s[15](t),n(e,a),n(e,l),n(l,r),n(l,g),n(l,y),n(y,S),n(e,j),n(e,v),n(v,D),n(D,N),n(N,B),ae.m(B,null),n(v,ee),n(v,te),n(te,le),n(le,pe),n(pe,We),n(pe,_t),n(le,ht),n(le,Be),n(Be,G),$(G,s[0]),n(te,mt),n(te,ce),n(ce,_e),n(_e,Ye),n(_e,vt),n(ce,gt),n(ce,He),n(He,K),$(K,s[9]),n(v,bt),n(v,ue),n(ue,Ee),n(Ee,Ge),n(ue,m),n(ue,E),n(E,C),n(C,H),n(H,Ke);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(C,null);Es(C,s[2].base_model_id,!0),n(v,Le),n(v,Z),n(Z,Q),n(Q,Ie),n(Ie,Qe),n(Q,ul),n(Q,he),re.m(he,null),n(Z,dl),F&&F.m(Z,null),n(v,fl),n(v,Pt),n(v,pl),n(v,De),n(De,xe),n(xe,$e),n($e,Mt),n(De,_l),n(De,se),n(se,Ve),n(Ve,et),n(et,Ct),n(Ve,hl),n(Ve,yt),n(yt,fe),$(fe,s[2].params.system),n(se,ml),n(se,Te),n(Te,tt),n(tt,Ot),n(Te,vl),n(Te,me),ne.m(me,null),n(se,gl),U&&U.m(se,null),n(v,bl),n(v,Bt),n(v,wl),n(v,ve),n(ve,ge),n(ge,Se),n(Se,lt),n(lt,jt),n(Se,kl),n(Se,be),oe.m(be,null),n(ge,yl),J&&J.m(ge,null),n(ve,El),W&&W.m(ve,null),n(v,Il),n(v,Ne),n(Ne,st),n(st,at),n(at,Ht),n(Ne,Dl),n(Ne,ze);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(ze,null);n(v,Vl),n(v,Ae),n(Ae,rt),n(rt,nt),n(nt,Ut),n(Ae,Tl),n(Ae,ot),zl(Pe,ot,null),n(v,Sl),n(v,we),n(we,Me),n(Me,it),n(it,Lt),n(Me,Nl),n(Me,ke),ie.m(ke,null),n(we,Al),X&&X.m(we,null),n(v,Pl),n(v,ct),n(ct,x),n(x,ut),n(ut,Rt),n(x,Ml),Y&&Y.m(x,null),M=!0,Cl||(Fl=[q(t,"change",s[16]),q(t,"change",s[17]),q(l,"click",s[18]),q(B,"click",s[19]),q(G,"input",s[20]),q(K,"input",s[21]),q(C,"change",s[22]),q(he,"click",s[23]),q(fe,"input",s[25]),q(me,"click",s[26]),q(be,"click",s[29]),q(ke,"click",s[36]),q(v,"submit",Qs(s[37]))],Cl=!0)},p(i,_){var Nt,I;if((!M||_[0]&2048)&&R!==(R=i[11].t("Back")+"")&&P(S,R),qt===(qt=Jl(i))&&ae?ae.p(i,_):(ae.d(1),ae=qt(i),ae&&(ae.c(),ae.m(B,null))),(!M||_[0]&12&&p!==(p=(i[2].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&o(B,"class",p),(!M||_[0]&2048)&&Oe!==(Oe=i[11].t("Name")+"")&&P(We,Oe),(!M||_[0]&2048&&Xe!==(Xe=i[11].t("Name your model")))&&o(G,"placeholder",Xe),_[0]&1&&G.value!==i[0]&&$(G,i[0]),(!M||_[0]&2048)&&je!==(je=i[11].t("Model ID")+"")&&P(Ye,je),(!M||_[0]&2048&&Ze!==(Ze=i[11].t("Add a model id")))&&o(K,"placeholder",Ze),_[0]&512&&K.value!==i[9]&&$(K,i[9]),(!M||_[0]&2048)&&Ue!==(Ue=i[11].t("Base Model (From)")+"")&&P(Ge,Ue),(!M||_[0]&2048)&&de!==(de=i[11].t("Select a base model")+"")&&P(Ke,de),_[0]&8){dt=pt(i[3].filter(Ws));let k;for(k=0;k<dt.length;k+=1){const Ce=Bs(i,dt,k);z[k]?z[k].p(Ce,_):(z[k]=js(Ce),z[k].c(),z[k].m(C,null))}for(;k<z.length;k+=1)z[k].d(1);z.length=dt.length}if(_[0]&12&&Es(C,i[2].base_model_id),(!M||_[0]&2048)&&Re!==(Re=i[11].t("Description")+"")&&P(Qe,Re),Ft===(Ft=Wl(i))&&re?re.p(i,_):(re.d(1),re=Ft(i),re&&(re.c(),re.m(he,null))),i[2].meta.description!==null?F?F.p(i,_):(F=Hs(i),F.c(),F.m(Z,null)):F&&(F.d(1),F=null),(!M||_[0]&2048)&&wt!==(wt=i[11].t("Model Params")+"")&&P(Mt,wt),(!M||_[0]&2048)&&kt!==(kt=i[11].t("System Prompt")+"")&&P(Ct,kt),_[0]&12&&$(fe,i[2].params.system),(!M||_[0]&2048)&&Et!==(Et=i[11].t("Advanced Params")+"")&&P(Ot,Et),Jt===(Jt=Xl(i))&&ne?ne.p(i,_):(ne.d(1),ne=Jt(i),ne&&(ne.c(),ne.m(me,null))),i[6]?U?(U.p(i,_),_[0]&64&&ye(U,1)):(U=Us(i),U.c(),ye(U,1),U.m(se,null)):U&&(As(),Je(U,1,1,()=>{U=null}),Ns()),(!M||_[0]&2048)&&It!==(It=i[11].t("Prompt suggestions")+"")&&P(jt,It),Wt===(Wt=Yl(i))&&oe?oe.p(i,_):(oe.d(1),oe=Wt(i),oe&&(oe.c(),oe.m(be,null))),i[2].meta.suggestion_prompts!==null?J?J.p(i,_):(J=Ls(i),J.c(),J.m(ge,null)):J&&(J.d(1),J=null),i[2].meta.suggestion_prompts?W?W.p(i,_):(W=Rs(i),W.c(),W.m(ve,null)):W&&(W.d(1),W=null),(!M||_[0]&2048)&&Dt!==(Dt=i[11].t("Capabilities")+"")&&P(Ht,Dt),_[0]&2050){qe=pt(Object.keys(i[1]));let k;for(k=0;k<qe.length;k+=1){const Ce=Cs(i,qe,k);A[k]?(A[k].p(Ce,_),ye(A[k],1)):(A[k]=qs(Ce),A[k].c(),ye(A[k],1),A[k].m(ze,null))}for(As(),k=qe.length;k<A.length;k+=1)Zs(k);Ns()}(!M||_[0]&2048)&&Vt!==(Vt=i[11].t("Tags")+"")&&P(Ut,Vt);const L={};_[0]&4&&(L.tags=((I=(Nt=i[2])==null?void 0:Nt.meta)==null?void 0:I.tags)??[]),_[0]&4&&(L.deleteTag=i[34]),_[0]&4&&(L.addTag=i[35]),Pe.$set(L),(!M||_[0]&2048)&&Tt!==(Tt=i[11].t("JSON Preview")+"")&&P(Lt,Tt),Xt===(Xt=Zl(i))&&ie?ie.p(i,_):(ie.d(1),ie=Xt(i),ie&&(ie.c(),ie.m(ke,null))),i[7]?X?X.p(i,_):(X=Fs(i),X.c(),X.m(we,null)):X&&(X.d(1),X=null),(!M||_[0]&2048)&&St!==(St=i[11].t("Save & Create")+"")&&P(Rt,St),i[8]?Y||(Y=Js(),Y.c(),Y.m(x,null)):Y&&(Y.d(1),Y=null),(!M||_[0]&256&&zt!==(zt="text-sm px-3 py-2 transition rounded-xl "+(i[8]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&o(x,"class",zt),(!M||_[0]&256)&&(x.disabled=i[8])},i(i){if(!M){ye(U);for(let _=0;_<qe.length;_+=1)ye(A[_]);ye(Pe.$$.fragment,i),M=!0}},o(i){Je(U),A=A.filter(Boolean);for(let _=0;_<A.length;_+=1)Je(A[_]);Je(Pe.$$.fragment,i),M=!1},d(i){i&&c(e),s[15](null),ae.d(),Hl(z,i),re.d(),F&&F.d(),ne.d(),U&&U.d(),oe.d(),J&&J.d(),W&&W.d(),Hl(A,i),ql(Pe),ie.d(),X&&X.d(),Y&&Y.d(),Cl=!1,Xs(Fl)}}}const Ws=s=>!(s!=null&&s.preset);function Da(s,e,t){let a,l;Is(s,Ms,m=>t(3,a=m));const r=xs("i18n");Is(s,r,m=>t(11,l=m));let h,g,y=!1,R=!1,S=!1,j=!1,v="",D="",N={},B={vision:!0},p={id:"",base_model_id:null,name:"",meta:{profile_image_url:null,description:"",suggestion_prompts:[{content:""}]},params:{system:""}},ee=null;const te=async()=>{if(t(8,S=!0),t(2,p.id=v,p),t(2,p.name=D,p),t(2,p.meta.capabilities=B,p),t(2,p.params.stop=N.stop?N.stop.split(",").filter(m=>m.trim()):null,p),Object.keys(p.params).forEach(m=>{(p.params[m]===""||p.params[m]===null)&&delete p.params[m]}),a.find(m=>m.id===p.id))return Ps.error(`Error: A model with the ID '${p.id}' already exists. Please select a different ID to proceed.`),t(8,S=!1),j=!1,j;p&&await oa(localStorage.token,{...p,meta:{...p.meta,profile_image_url:p.meta.profile_image_url??"/favicon.png",suggestion_prompts:p.meta.suggestion_prompts?p.meta.suggestion_prompts.filter(E=>E.content!==""):null},params:{...p.params,...N}})&&(Ps.success("Model created successfully!"),await na("/workspace/models"),await Ms.set(await ia(localStorage.token))),t(8,S=!1),j=!1},le=async m=>{var E,C,H;t(0,D=m.name),await ta(),t(9,v=m.id),t(10,N={...N,...(E=m==null?void 0:m.info)==null?void 0:E.params}),t(10,N.stop=N!=null&&N.stop?((N==null?void 0:N.stop)??[]).join(","):null,N),t(1,B={...B,...((H=(C=m==null?void 0:m.info)==null?void 0:C.meta)==null?void 0:H.capabilities)??{}}),t(2,p={...p,...m.info})};$s(async()=>{if(window.addEventListener("message",async m=>{if(!["https://ollamahub.com","https://www.ollamahub.com","https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(m.origin))return;const E=JSON.parse(m.data);console.log(E),le(E)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model){const m=JSON.parse(sessionStorage.model);sessionStorage.removeItem("model"),console.log(m),le(m)}});function pe(m){Ys[m?"unshift":"push"](()=>{h=m,t(4,h)})}function Oe(){g=this.files,t(5,g)}const We=()=>{let m=new FileReader;m.onload=E=>{let C=`${E.target.result}`;const H=new Image;H.src=C,H.onload=function(){const de=document.createElement("canvas"),Ke=de.getContext("2d"),Le=H.width/H.height;let Z,Q;Le>1?(Z=100*Le,Q=100):(Z=100,Q=100/Le),de.width=100,de.height=100;const Ie=(100-Z)/2,Re=(100-Q)/2;Ke.drawImage(H,Ie,Re,Z,Q);const Qe=de.toDataURL("image/jpeg");t(2,p.meta.profile_image_url=Qe,p),t(5,g=null)}},g&&g.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(g[0].type)?m.readAsDataURL(g[0]):(console.log(`Unsupported File Type '${g[0].type}'.`),t(5,g=null))},_t=()=>{history.back()},ht=()=>{h.click()};function Be(){D=this.value,t(0,D)}function G(){v=this.value,t(9,v),t(0,D)}function Xe(){p.base_model_id=la(this),t(2,p)}const mt=()=>{p.meta.description===null?t(2,p.meta.description="",p):t(2,p.meta.description=null,p)};function ce(){p.meta.description=this.value,t(2,p)}function _e(){p.params.system=this.value,t(2,p)}const je=()=>{t(6,y=!y)};function Ye(m){N=m,t(10,N)}const vt=m=>{t(2,p.params={...p.params,...N},p)},gt=()=>{p.meta.suggestion_prompts===null?t(2,p.meta.suggestion_prompts=[{content:""}],p):t(2,p.meta.suggestion_prompts=null,p)},He=()=>{(p.meta.suggestion_prompts.length===0||p.meta.suggestion_prompts.at(-1).content!=="")&&t(2,p.meta.suggestion_prompts=[...p.meta.suggestion_prompts,{content:""}],p)};function K(m,E){m[E].content=this.value,t(2,p)}const Ze=m=>{p.meta.suggestion_prompts.splice(m,1),t(2,p)},bt=(m,E)=>{t(1,B[m]=E.detail==="checked",B)},ue=m=>{t(2,p.meta.tags=p.meta.tags.filter(E=>E.name!==m),p)},Ee=m=>{var E;console.log(m),((E=p==null?void 0:p.meta)==null?void 0:E.tags)??null?t(2,p.meta.tags=[...p.meta.tags,{name:m}],p):t(2,p.meta.tags=[{name:m}],p)},Ue=()=>{t(7,R=!R)},Ge=()=>{te()};return s.$$.update=()=>{var m,E,C;s.$$.dirty[0]&1&&D&&t(9,v=D.replace(/\s+/g,"-").toLowerCase()),s.$$.dirty[0]&16398&&(t(14,ee=a.find(H=>H.id===p.base_model_id)),console.log(ee),ee&&(ee.owned_by==="openai"?t(1,B.usage=((C=(E=(m=ee.info)==null?void 0:m.meta)==null?void 0:E.capabilities)==null?void 0:C.usage)??!1,B):delete B.usage,t(1,B),t(3,a),t(2,p),t(14,ee)))},[D,B,p,a,h,g,y,R,S,v,N,l,r,te,ee,pe,Oe,We,_t,ht,Be,G,Xe,mt,ce,_e,je,Ye,vt,gt,He,K,Ze,bt,ue,Ee,Ue,Ge]}class Ha extends sa{constructor(e){super(),aa(this,e,Da,Ia,Gs,{},null,[-1,-1])}}export{Ha as component};
//# sourceMappingURL=11.67ba3895.js.map
