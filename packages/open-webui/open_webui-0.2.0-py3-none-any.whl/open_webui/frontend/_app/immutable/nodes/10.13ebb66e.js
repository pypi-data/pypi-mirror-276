import{s as _n,z as Ge,A as Ue,h as C,d as p,j as f,i as $,r as g,C as cn,p as gr,X as Ar,P as vr,w as Ot,f as D,g as S,E as Nr,F as Pr,G as Hr,H as Br,a as A,c as N,l as pe,m as me,n as Ee,M as Fr,R as dt,Q as tr,u as wt,K as Lr,v as Rr,o as Vr,S as nr,t as jr}from"../chunks/scheduler.96ee3362.js";import{S as bn,i as wn,f as Yr,b as Ae,d as Ne,m as Pe,a as ue,t as ge,e as He,g as Xr,c as Wr}from"../chunks/index.7d87350f.js";import{g as zr}from"../chunks/globals.7f7f1b26.js";import{e as rr}from"../chunks/each.8122eab6.js";import{a as Mt}from"../chunks/Toaster.svelte_svelte_type_style_lang.e88c75e4.js";import{f as Gr}from"../chunks/FileSaver.min.898eb36f.js";import{m as Ur,e as xt,W as Zr}from"../chunks/index.1c88c2a8.js";import{d as qr,u as Cn,a as Jr}from"../chunks/index.8f02e35e.js";import"../chunks/sha256.8dba905a.js";import{g as Kr}from"../chunks/navigation.2e2afbde.js";import{b as en}from"../chunks/index.fa495424.js";import{f as Qr}from"../chunks/updater.31a4828a.js";import{D as eo,M as tn}from"../chunks/Dropdown.d3bf0ddf.js";import{M as to}from"../chunks/menu-trigger.f5ee63a5.js";import{S as no,D as ro,G as oo}from"../chunks/DocumentDuplicate.1d385588.js";import{T as io}from"../chunks/Tooltip.534e2f98.js";/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function or(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function We(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?or(Object(n),!0).forEach(function(t){ao(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ln(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ln=function(e){return typeof e}:ln=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(r)}function ao(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function qe(){return qe=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},qe.apply(this,arguments)}function lo(r,e){if(r==null)return{};var n={},t=Object.keys(r),o,i;for(i=0;i<t.length;i++)o=t[i],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function so(r,e){if(r==null)return{};var n=lo(r,e),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)t=i[o],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}var uo="1.15.2";function Ze(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var Je=Ze(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rt=Ze(/Edge/i),ir=Ze(/firefox/i),Pt=Ze(/safari/i)&&!Ze(/chrome/i)&&!Ze(/android/i),_r=Ze(/iP(ad|od|hone)/i),br=Ze(/chrome/i)&&Ze(/android/i),wr={capture:!1,passive:!1};function F(r,e,n){r.addEventListener(e,n,!Je&&wr)}function H(r,e,n){r.removeEventListener(e,n,!Je&&wr)}function hn(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function fo(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function Ve(r,e,n,t){if(r){n=n||document;do{if(e!=null&&(e[0]===">"?r.parentNode===n&&hn(r,e):hn(r,e))||t&&r===n)return r;if(r===n)break}while(r=fo(r))}return null}var ar=/\s+/g;function xe(r,e,n){if(r&&e)if(r.classList)r.classList[n?"add":"remove"](e);else{var t=(" "+r.className+" ").replace(ar," ").replace(" "+e+" "," ");r.className=(t+(n?" "+e:"")).replace(ar," ")}}function k(r,e,n){var t=r&&r.style;if(t){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(n=r.currentStyle),e===void 0?n:n[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=n+(typeof n=="string"?"":"px")}}function Dt(r,e){var n="";if(typeof r=="string")n=r;else do{var t=k(r,"transform");t&&t!=="none"&&(n=t+" "+n)}while(!e&&(r=r.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Er(r,e,n){if(r){var t=r.getElementsByTagName(e),o=0,i=t.length;if(n)for(;o<i;o++)n(t[o],o);return t}return[]}function Xe(){var r=document.scrollingElement;return r||document.documentElement}function oe(r,e,n,t,o){if(!(!r.getBoundingClientRect&&r!==window)){var i,l,a,s,d,h,u;if(r!==window&&r.parentNode&&r!==Xe()?(i=r.getBoundingClientRect(),l=i.top,a=i.left,s=i.bottom,d=i.right,h=i.height,u=i.width):(l=0,a=0,s=window.innerHeight,d=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(e||n)&&r!==window&&(o=o||r.parentNode,!Je))do if(o&&o.getBoundingClientRect&&(k(o,"transform")!=="none"||n&&k(o,"position")!=="static")){var c=o.getBoundingClientRect();l-=c.top+parseInt(k(o,"border-top-width")),a-=c.left+parseInt(k(o,"border-left-width")),s=l+i.height,d=a+i.width;break}while(o=o.parentNode);if(t&&r!==window){var b=Dt(o||r),w=b&&b.a,E=b&&b.d;b&&(l/=E,a/=w,u/=w,h/=E,s=l+h,d=a+u)}return{top:l,left:a,bottom:s,right:d,width:u,height:h}}}function lr(r,e,n){for(var t=nt(r,!0),o=oe(r)[e];t;){var i=oe(t)[n],l=void 0;if(n==="top"||n==="left"?l=o>=i:l=o<=i,!l)return t;if(t===Xe())break;t=nt(t,!1)}return!1}function St(r,e,n,t){for(var o=0,i=0,l=r.children;i<l.length;){if(l[i].style.display!=="none"&&l[i]!==I.ghost&&(t||l[i]!==I.dragged)&&Ve(l[i],n.draggable,r,!1)){if(o===e)return l[i];o++}i++}return null}function jn(r,e){for(var n=r.lastElementChild;n&&(n===I.ghost||k(n,"display")==="none"||e&&!hn(n,e));)n=n.previousElementSibling;return n||null}function Fe(r,e){var n=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==I.clone&&(!e||hn(r,e))&&n++;return n}function sr(r){var e=0,n=0,t=Xe();if(r)do{var o=Dt(r),i=o.a,l=o.d;e+=r.scrollLeft*i,n+=r.scrollTop*l}while(r!==t&&(r=r.parentNode));return[e,n]}function co(r,e){for(var n in r)if(r.hasOwnProperty(n)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===r[n][t])return Number(n)}return-1}function nt(r,e){if(!r||!r.getBoundingClientRect)return Xe();var n=r,t=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=k(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Xe();if(t||e)return n;t=!0}}while(n=n.parentNode);return Xe()}function ho(r,e){if(r&&e)for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function Tn(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Ht;function yr(r,e){return function(){if(!Ht){var n=arguments,t=this;n.length===1?r.call(t,n[0]):r.apply(t,n),Ht=setTimeout(function(){Ht=void 0},e)}}}function po(){clearTimeout(Ht),Ht=void 0}function Dr(r,e,n){r.scrollLeft+=e,r.scrollTop+=n}function Sr(r){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):n?n(r).clone(!0)[0]:r.cloneNode(!0)}function kr(r,e,n){var t={};return Array.from(r.children).forEach(function(o){var i,l,a,s;if(!(!Ve(o,e.draggable,r,!1)||o.animated||o===n)){var d=oe(o);t.left=Math.min((i=t.left)!==null&&i!==void 0?i:1/0,d.left),t.top=Math.min((l=t.top)!==null&&l!==void 0?l:1/0,d.top),t.right=Math.max((a=t.right)!==null&&a!==void 0?a:-1/0,d.right),t.bottom=Math.max((s=t.bottom)!==null&&s!==void 0?s:-1/0,d.bottom)}}),t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}var $e="Sortable"+new Date().getTime();function mo(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(o){if(!(k(o,"display")==="none"||o===I.ghost)){r.push({target:o,rect:oe(o)});var i=We({},r[r.length-1].rect);if(o.thisAnimationDuration){var l=Dt(o,!0);l&&(i.top-=l.f,i.left-=l.e)}o.fromRect=i}})}},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(co(r,{target:t}),1)},animateAll:function(t){var o=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,l=0;r.forEach(function(a){var s=0,d=a.target,h=d.fromRect,u=oe(d),c=d.prevFromRect,b=d.prevToRect,w=a.rect,E=Dt(d,!0);E&&(u.top-=E.f,u.left-=E.e),d.toRect=u,d.thisAnimationDuration&&Tn(c,u)&&!Tn(h,u)&&(w.top-u.top)/(w.left-u.left)===(h.top-u.top)/(h.left-u.left)&&(s=vo(w,c,b,o.options)),Tn(u,h)||(d.prevFromRect=h,d.prevToRect=u,s||(s=o.options.animation),o.animate(d,w,u,s)),s&&(i=!0,l=Math.max(l,s),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},s),d.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},l):typeof t=="function"&&t(),r=[]},animate:function(t,o,i,l){if(l){k(t,"transition",""),k(t,"transform","");var a=Dt(this.el),s=a&&a.a,d=a&&a.d,h=(o.left-i.left)/(s||1),u=(o.top-i.top)/(d||1);t.animatingX=!!h,t.animatingY=!!u,k(t,"transform","translate3d("+h+"px,"+u+"px,0)"),this.forRepaintDummy=go(t),k(t,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),k(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){k(t,"transition",""),k(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},l)}}}}function go(r){return r.offsetWidth}function vo(r,e,n,t){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*t.animation}var _t=[],Mn={initializeByDefault:!0},Vt={mount:function(e){for(var n in Mn)Mn.hasOwnProperty(n)&&!(n in e)&&(e[n]=Mn[n]);_t.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),_t.push(e)},pluginEvent:function(e,n,t){var o=this;this.eventCanceled=!1,t.cancel=function(){o.eventCanceled=!0};var i=e+"Global";_t.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][i]&&n[l.pluginName][i](We({sortable:n},t)),n.options[l.pluginName]&&n[l.pluginName][e]&&n[l.pluginName][e](We({sortable:n},t)))})},initializePlugins:function(e,n,t,o){_t.forEach(function(a){var s=a.pluginName;if(!(!e.options[s]&&!a.initializeByDefault)){var d=new a(e,n,e.options);d.sortable=e,d.options=e.options,e[s]=d,qe(t,d.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var l=this.modifyOption(e,i,e.options[i]);typeof l<"u"&&(e.options[i]=l)}},getEventProperties:function(e,n){var t={};return _t.forEach(function(o){typeof o.eventProperties=="function"&&qe(t,o.eventProperties.call(n[o.pluginName],e))}),t},modifyOption:function(e,n,t){var o;return _t.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(e[i.pluginName],t))}),o}};function _o(r){var e=r.sortable,n=r.rootEl,t=r.name,o=r.targetEl,i=r.cloneEl,l=r.toEl,a=r.fromEl,s=r.oldIndex,d=r.newIndex,h=r.oldDraggableIndex,u=r.newDraggableIndex,c=r.originalEvent,b=r.putSortable,w=r.extraEventProperties;if(e=e||n&&n[$e],!!e){var E,R=e.options,X="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!Je&&!Rt?E=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(t,!0,!0)),E.to=l||n,E.from=a||n,E.item=o||n,E.clone=i,E.oldIndex=s,E.newIndex=d,E.oldDraggableIndex=h,E.newDraggableIndex=u,E.originalEvent=c,E.pullMode=b?b.lastPutMode:void 0;var B=We(We({},w),Vt.getEventProperties(t,e));for(var W in B)E[W]=B[W];n&&n.dispatchEvent(E),R[X]&&R[X].call(e,E)}}var bo=["evt"],Ce=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=t.evt,i=so(t,bo);Vt.pluginEvent.bind(I)(e,n,We({dragEl:m,parentEl:K,ghostEl:T,rootEl:G,nextEl:ft,lastDownEl:sn,cloneEl:Z,cloneHidden:tt,dragStarted:$t,putSortable:se,activeSortable:I.active,originalEvent:o,oldIndex:yt,oldDraggableIndex:Bt,newIndex:Oe,newDraggableIndex:et,hideGhostForTarget:Mr,unhideGhostForTarget:xr,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(a){we({sortable:n,name:a,originalEvent:o})}},i))};function we(r){_o(We({putSortable:se,cloneEl:Z,targetEl:m,rootEl:G,oldIndex:yt,oldDraggableIndex:Bt,newIndex:Oe,newDraggableIndex:et},r))}var m,K,T,G,ft,sn,Z,tt,yt,Oe,Bt,et,nn,se,Et=!1,pn=!1,mn=[],st,Re,xn,On,ur,dr,$t,bt,Ft,Lt=!1,rn=!1,un,he,$n=[],Fn=!1,gn=[],En=typeof document<"u",on=_r,fr=Rt||Je?"cssFloat":"float",wo=En&&!br&&!_r&&"draggable"in document.createElement("div"),Ir=function(){if(En){if(Je)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),Cr=function(e,n){var t=k(e),o=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=St(e,0,n),l=St(e,1,n),a=i&&k(i),s=l&&k(l),d=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+oe(i).width,h=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+oe(l).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||d>=o&&t[fr]==="none"||l&&t[fr]==="none"&&d+h>o)?"vertical":"horizontal"},Eo=function(e,n,t){var o=t?e.left:e.top,i=t?e.right:e.bottom,l=t?e.width:e.height,a=t?n.left:n.top,s=t?n.right:n.bottom,d=t?n.width:n.height;return o===a||i===s||o+l/2===a+d/2},yo=function(e,n){var t;return mn.some(function(o){var i=o[$e].options.emptyInsertThreshold;if(!(!i||jn(o))){var l=oe(o),a=e>=l.left-i&&e<=l.right+i,s=n>=l.top-i&&n<=l.bottom+i;if(a&&s)return t=o}}),t},Tr=function(e){function n(i,l){return function(a,s,d,h){var u=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(i==null&&(l||u))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return n(i(a,s,d,h),l)(a,s,d,h);var c=(l?a:s).options.group.name;return i===!0||typeof i=="string"&&i===c||i.join&&i.indexOf(c)>-1}}var t={},o=e.group;(!o||ln(o)!="object")&&(o={name:o}),t.name=o.name,t.checkPull=n(o.pull,!0),t.checkPut=n(o.put),t.revertClone=o.revertClone,e.group=t},Mr=function(){!Ir&&T&&k(T,"display","none")},xr=function(){!Ir&&T&&k(T,"display","")};En&&!br&&document.addEventListener("click",function(r){if(pn)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),pn=!1,!1},!0);var ut=function(e){if(m){e=e.touches?e.touches[0]:e;var n=yo(e.clientX,e.clientY);if(n){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.target=t.rootEl=n,t.preventDefault=void 0,t.stopPropagation=void 0,n[$e]._onDragOver(t)}}},Do=function(e){m&&m.parentNode[$e]._isOutsideThisEl(e.target)};function I(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=qe({},e),r[$e]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Cr(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:I.supportPointer!==!1&&"PointerEvent"in window&&!Pt,emptyInsertThreshold:5};Vt.initializePlugins(this,r,n);for(var t in n)!(t in e)&&(e[t]=n[t]);Tr(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:wo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?F(r,"pointerdown",this._onTapStart):(F(r,"mousedown",this._onTapStart),F(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(F(r,"dragover",this),F(r,"dragenter",this)),mn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qe(this,mo())}I.prototype={constructor:I,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(bt=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,m):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,t=this.el,o=this.options,i=o.preventOnFilter,l=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(a||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,h=o.filter;if(Oo(t),!m&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Pt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Ve(s,o.draggable,t,!1),!(s&&s.animated)&&sn!==s)){if(yt=Fe(s),Bt=Fe(s,o.draggable),typeof h=="function"){if(h.call(this,e,s,this)){we({sortable:n,rootEl:d,name:"filter",targetEl:s,toEl:t,fromEl:t}),Ce("filter",n,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(u){if(u=Ve(d,u.trim(),t,!1),u)return we({sortable:n,rootEl:u,name:"filter",targetEl:s,fromEl:t,toEl:t}),Ce("filter",n,{evt:e}),!0}),h)){i&&e.cancelable&&e.preventDefault();return}o.handle&&!Ve(d,o.handle,t,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,n,t){var o=this,i=o.el,l=o.options,a=i.ownerDocument,s;if(t&&!m&&t.parentNode===i){var d=oe(t);if(G=i,m=t,K=m.parentNode,ft=m.nextSibling,sn=t,nn=l.group,I.dragged=m,st={target:m,clientX:(n||e).clientX,clientY:(n||e).clientY},ur=st.clientX-d.left,dr=st.clientY-d.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,m.style["will-change"]="all",s=function(){if(Ce("delayEnded",o,{evt:e}),I.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!ir&&o.nativeDraggable&&(m.draggable=!0),o._triggerDragStart(e,n),we({sortable:o,name:"choose",originalEvent:e}),xe(m,l.chosenClass,!0)},l.ignore.split(",").forEach(function(h){Er(m,h.trim(),An)}),F(a,"dragover",ut),F(a,"mousemove",ut),F(a,"touchmove",ut),F(a,"mouseup",o._onDrop),F(a,"touchend",o._onDrop),F(a,"touchcancel",o._onDrop),ir&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),Ce("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Rt||Je))){if(I.eventCanceled){this._onDrop();return}F(a,"mouseup",o._disableDelayedDrag),F(a,"touchend",o._disableDelayedDrag),F(a,"touchcancel",o._disableDelayedDrag),F(a,"mousemove",o._delayedDragTouchMoveHandler),F(a,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&F(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&An(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._disableDelayedDrag),H(e,"touchend",this._disableDelayedDrag),H(e,"touchcancel",this._disableDelayedDrag),H(e,"mousemove",this._delayedDragTouchMoveHandler),H(e,"touchmove",this._delayedDragTouchMoveHandler),H(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?F(document,"pointermove",this._onTouchMove):n?F(document,"touchmove",this._onTouchMove):F(document,"mousemove",this._onTouchMove):(F(m,"dragend",this),F(G,"dragstart",this._onDragStart));try{document.selection?dn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Et=!1,G&&m){Ce("dragStarted",this,{evt:n}),this.nativeDraggable&&F(document,"dragover",Do);var t=this.options;!e&&xe(m,t.dragClass,!1),xe(m,t.ghostClass,!0),I.active=this,e&&this._appendGhost(),we({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Re){this._lastX=Re.clientX,this._lastY=Re.clientY,Mr();for(var e=document.elementFromPoint(Re.clientX,Re.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Re.clientX,Re.clientY),e!==n);)n=e;if(m.parentNode[$e]._isOutsideThisEl(e),n)do{if(n[$e]){var t=void 0;if(t=n[$e]._onDragOver({clientX:Re.clientX,clientY:Re.clientY,target:e,rootEl:n}),t&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);xr()}},_onTouchMove:function(e){if(st){var n=this.options,t=n.fallbackTolerance,o=n.fallbackOffset,i=e.touches?e.touches[0]:e,l=T&&Dt(T,!0),a=T&&l&&l.a,s=T&&l&&l.d,d=on&&he&&sr(he),h=(i.clientX-st.clientX+o.x)/(a||1)+(d?d[0]-$n[0]:0)/(a||1),u=(i.clientY-st.clientY+o.y)/(s||1)+(d?d[1]-$n[1]:0)/(s||1);if(!I.active&&!Et){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(T){l?(l.e+=h-(xn||0),l.f+=u-(On||0)):l={a:1,b:0,c:0,d:1,e:h,f:u};var c="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");k(T,"webkitTransform",c),k(T,"mozTransform",c),k(T,"msTransform",c),k(T,"transform",c),xn=h,On=u,Re=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!T){var e=this.options.fallbackOnBody?document.body:G,n=oe(m,!0,on,!0,e),t=this.options;if(on){for(he=e;k(he,"position")==="static"&&k(he,"transform")==="none"&&he!==document;)he=he.parentNode;he!==document.body&&he!==document.documentElement?(he===document&&(he=Xe()),n.top+=he.scrollTop,n.left+=he.scrollLeft):he=Xe(),$n=sr(he)}T=m.cloneNode(!0),xe(T,t.ghostClass,!1),xe(T,t.fallbackClass,!0),xe(T,t.dragClass,!0),k(T,"transition",""),k(T,"transform",""),k(T,"box-sizing","border-box"),k(T,"margin",0),k(T,"top",n.top),k(T,"left",n.left),k(T,"width",n.width),k(T,"height",n.height),k(T,"opacity","0.8"),k(T,"position",on?"absolute":"fixed"),k(T,"zIndex","100000"),k(T,"pointerEvents","none"),I.ghost=T,e.appendChild(T),k(T,"transform-origin",ur/parseInt(T.style.width)*100+"% "+dr/parseInt(T.style.height)*100+"%")}},_onDragStart:function(e,n){var t=this,o=e.dataTransfer,i=t.options;if(Ce("dragStart",this,{evt:e}),I.eventCanceled){this._onDrop();return}Ce("setupClone",this),I.eventCanceled||(Z=Sr(m),Z.removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),xe(Z,this.options.chosenClass,!1),I.clone=Z),t.cloneId=dn(function(){Ce("clone",t),!I.eventCanceled&&(t.options.removeCloneOnHide||G.insertBefore(Z,m),t._hideClone(),we({sortable:t,name:"clone"}))}),!n&&xe(m,i.dragClass,!0),n?(pn=!0,t._loopId=setInterval(t._emulateDragOver,50)):(H(document,"mouseup",t._onDrop),H(document,"touchend",t._onDrop),H(document,"touchcancel",t._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(t,o,m)),F(document,"drop",t),k(m,"transform","translateZ(0)")),Et=!0,t._dragStartId=dn(t._dragStarted.bind(t,n,e)),F(document,"selectstart",t),$t=!0,Pt&&k(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,t=e.target,o,i,l,a=this.options,s=a.group,d=I.active,h=nn===s,u=a.sort,c=se||d,b,w=this,E=!1;if(Fn)return;function R(te,P){Ce(te,w,We({evt:e,isOwner:h,axis:b?"vertical":"horizontal",revert:l,dragRect:o,targetRect:i,canSort:u,fromSortable:c,target:t,completed:B,onMove:function(de,_e){return an(G,n,m,o,de,oe(de),e,_e)},changed:W},P))}function X(){R("dragOverAnimationCapture"),w.captureAnimationState(),w!==c&&c.captureAnimationState()}function B(te){return R("dragOverCompleted",{insertion:te}),te&&(h?d._hideClone():d._showClone(w),w!==c&&(xe(m,se?se.options.ghostClass:d.options.ghostClass,!1),xe(m,a.ghostClass,!0)),se!==w&&w!==I.active?se=w:w===I.active&&se&&(se=null),c===w&&(w._ignoreWhileAnimating=t),w.animateAll(function(){R("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==c&&(c.animateAll(),c._ignoreWhileAnimating=null)),(t===m&&!m.animated||t===n&&!t.animated)&&(bt=null),!a.dragoverBubble&&!e.rootEl&&t!==document&&(m.parentNode[$e]._isOutsideThisEl(e.target),!te&&ut(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function W(){Oe=Fe(m),et=Fe(m,a.draggable),we({sortable:w,name:"change",toEl:n,newIndex:Oe,newDraggableIndex:et,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=Ve(t,a.draggable,n,!0),R("dragOver"),I.eventCanceled)return E;if(m.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||w._ignoreWhileAnimating===t)return B(!1);if(pn=!1,d&&!a.disabled&&(h?u||(l=K!==G):se===this||(this.lastPutMode=nn.checkPull(this,d,m,e))&&s.checkPut(this,d,m,e))){if(b=this._getDirection(e,t)==="vertical",o=oe(m),R("dragOverValid"),I.eventCanceled)return E;if(l)return K=G,X(),this._hideClone(),R("revert"),I.eventCanceled||(ft?G.insertBefore(m,ft):G.appendChild(m)),B(!0);var y=jn(n,a.draggable);if(!y||Co(e,b,this)&&!y.animated){if(y===m)return B(!1);if(y&&n===e.target&&(t=y),t&&(i=oe(t)),an(G,n,m,o,t,i,e,!!t)!==!1)return X(),y&&y.nextSibling?n.insertBefore(m,y.nextSibling):n.appendChild(m),K=n,W(),B(!0)}else if(y&&Io(e,b,this)){var V=St(n,0,a,!0);if(V===m)return B(!1);if(t=V,i=oe(t),an(G,n,m,o,t,i,e,!1)!==!1)return X(),n.insertBefore(m,V),K=n,W(),B(!0)}else if(t.parentNode===n){i=oe(t);var j=0,Q,ee=m.parentNode!==n,Y=!Eo(m.animated&&m.toRect||o,t.animated&&t.toRect||i,b),q=b?"top":"left",ie=lr(t,"top","top")||lr(m,"top","top"),ve=ie?ie.scrollTop:void 0;bt!==t&&(Q=i[q],Lt=!1,rn=!Y&&a.invertSwap||ee),j=To(e,t,i,b,Y?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,rn,bt===t);var L;if(j!==0){var le=Fe(m);do le-=j,L=K.children[le];while(L&&(k(L,"display")==="none"||L===T))}if(j===0||L===t)return B(!1);bt=t,Ft=j;var ye=t.nextElementSibling,_=!1;_=j===1;var M=an(G,n,m,o,t,i,e,_);if(M!==!1)return(M===1||M===-1)&&(_=M===1),Fn=!0,setTimeout(ko,30),X(),_&&!ye?n.appendChild(m):t.parentNode.insertBefore(m,_?ye:t),ie&&Dr(ie,0,ve-ie.scrollTop),K=m.parentNode,Q!==void 0&&!rn&&(un=Math.abs(Q-oe(t)[q])),W(),B(!0)}if(n.contains(m))return B(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){H(document,"mousemove",this._onTouchMove),H(document,"touchmove",this._onTouchMove),H(document,"pointermove",this._onTouchMove),H(document,"dragover",ut),H(document,"mousemove",ut),H(document,"touchmove",ut)},_offUpEvents:function(){var e=this.el.ownerDocument;H(e,"mouseup",this._onDrop),H(e,"touchend",this._onDrop),H(e,"pointerup",this._onDrop),H(e,"touchcancel",this._onDrop),H(document,"selectstart",this)},_onDrop:function(e){var n=this.el,t=this.options;if(Oe=Fe(m),et=Fe(m,t.draggable),Ce("drop",this,{evt:e}),K=m&&m.parentNode,Oe=Fe(m),et=Fe(m,t.draggable),I.eventCanceled){this._nulling();return}Et=!1,rn=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ln(this.cloneId),Ln(this._dragStartId),this.nativeDraggable&&(H(document,"drop",this),H(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pt&&k(document.body,"user-select",""),k(m,"transform",""),e&&($t&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),T&&T.parentNode&&T.parentNode.removeChild(T),(G===K||se&&se.lastPutMode!=="clone")&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),m&&(this.nativeDraggable&&H(m,"dragend",this),An(m),m.style["will-change"]="",$t&&!Et&&xe(m,se?se.options.ghostClass:this.options.ghostClass,!1),xe(m,this.options.chosenClass,!1),we({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),G!==K?(Oe>=0&&(we({rootEl:K,name:"add",toEl:K,fromEl:G,originalEvent:e}),we({sortable:this,name:"remove",toEl:K,originalEvent:e}),we({rootEl:K,name:"sort",toEl:K,fromEl:G,originalEvent:e}),we({sortable:this,name:"sort",toEl:K,originalEvent:e})),se&&se.save()):Oe!==yt&&Oe>=0&&(we({sortable:this,name:"update",toEl:K,originalEvent:e}),we({sortable:this,name:"sort",toEl:K,originalEvent:e})),I.active&&((Oe==null||Oe===-1)&&(Oe=yt,et=Bt),we({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ce("nulling",this),G=m=K=T=ft=Z=sn=tt=st=Re=$t=Oe=et=yt=Bt=bt=Ft=se=nn=I.dragged=I.ghost=I.clone=I.active=null,gn.forEach(function(e){e.checked=!0}),gn.length=xn=On=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":m&&(this._onDragOver(e),So(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,t=this.el.children,o=0,i=t.length,l=this.options;o<i;o++)n=t[o],Ve(n,l.draggable,this.el,!1)&&e.push(n.getAttribute(l.dataIdAttr)||xo(n));return e},sort:function(e,n){var t={},o=this.el;this.toArray().forEach(function(i,l){var a=o.children[l];Ve(a,this.options.draggable,o,!1)&&(t[i]=a)},this),n&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(o.removeChild(t[i]),o.appendChild(t[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ve(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var t=this.options;if(n===void 0)return t[e];var o=Vt.modifyOption(this,e,n);typeof o<"u"?t[e]=o:t[e]=n,e==="group"&&Tr(t)},destroy:function(){Ce("destroy",this);var e=this.el;e[$e]=null,H(e,"mousedown",this._onTapStart),H(e,"touchstart",this._onTapStart),H(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(e,"dragover",this),H(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mn.splice(mn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!tt){if(Ce("hideClone",this),I.eventCanceled)return;k(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),tt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(tt){if(Ce("showClone",this),I.eventCanceled)return;m.parentNode==G&&!this.options.group.revertClone?G.insertBefore(Z,m):ft?G.insertBefore(Z,ft):G.appendChild(Z),this.options.group.revertClone&&this.animate(m,Z),k(Z,"display",""),tt=!1}}};function So(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function an(r,e,n,t,o,i,l,a){var s,d=r[$e],h=d.options.onMove,u;return window.CustomEvent&&!Je&&!Rt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=r,s.dragged=n,s.draggedRect=t,s.related=o||e,s.relatedRect=i||oe(e),s.willInsertAfter=a,s.originalEvent=l,r.dispatchEvent(s),h&&(u=h.call(d,s,l)),u}function An(r){r.draggable=!1}function ko(){Fn=!1}function Io(r,e,n){var t=oe(St(n.el,0,n.options,!0)),o=kr(n.el,n.options,T),i=10;return e?r.clientX<o.left-i||r.clientY<t.top&&r.clientX<t.right:r.clientY<o.top-i||r.clientY<t.bottom&&r.clientX<t.left}function Co(r,e,n){var t=oe(jn(n.el,n.options.draggable)),o=kr(n.el,n.options,T),i=10;return e?r.clientX>o.right+i||r.clientY>t.bottom&&r.clientX>t.left:r.clientY>o.bottom+i||r.clientX>t.right&&r.clientY>t.top}function To(r,e,n,t,o,i,l,a){var s=t?r.clientY:r.clientX,d=t?n.height:n.width,h=t?n.top:n.left,u=t?n.bottom:n.right,c=!1;if(!l){if(a&&un<d*o){if(!Lt&&(Ft===1?s>h+d*i/2:s<u-d*i/2)&&(Lt=!0),Lt)c=!0;else if(Ft===1?s<h+un:s>u-un)return-Ft}else if(s>h+d*(1-o)/2&&s<u-d*(1-o)/2)return Mo(e)}return c=c||l,c&&(s<h+d*i/2||s>u-d*i/2)?s>h+d/2?1:-1:0}function Mo(r){return Fe(m)<Fe(r)?1:-1}function xo(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,n=e.length,t=0;n--;)t+=e.charCodeAt(n);return t.toString(36)}function Oo(r){gn.length=0;for(var e=r.getElementsByTagName("input"),n=e.length;n--;){var t=e[n];t.checked&&gn.push(t)}}function dn(r){return setTimeout(r,0)}function Ln(r){return clearTimeout(r)}En&&F(document,"touchmove",function(r){(I.active||Et)&&r.cancelable&&r.preventDefault()});I.utils={on:F,off:H,css:k,find:Er,is:function(e,n){return!!Ve(e,n,e,!1)},extend:ho,throttle:yr,closest:Ve,toggleClass:xe,clone:Sr,index:Fe,nextTick:dn,cancelNextTick:Ln,detectDirection:Cr,getChild:St};I.get=function(r){return r[$e]};I.mount=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(I.utils=We(We({},I.utils),t.utils)),Vt.mount(t)})};I.create=function(r,e){return new I(r,e)};I.version=uo;var re=[],At,Rn,Vn=!1,Nn,Pn,vn,Nt;function $o(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(n){var t=n.originalEvent;this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):this.options.supportPointer?F(document,"pointermove",this._handleFallbackAutoScroll):t.touches?F(document,"touchmove",this._handleFallbackAutoScroll):F(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var t=n.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):(H(document,"pointermove",this._handleFallbackAutoScroll),H(document,"touchmove",this._handleFallbackAutoScroll),H(document,"mousemove",this._handleFallbackAutoScroll)),cr(),fn(),po()},nulling:function(){vn=Rn=At=Vn=Nt=Nn=Pn=null,re.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,t){var o=this,i=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,l);if(vn=n,t||this.options.forceAutoScrollFallback||Rt||Je||Pt){Hn(n,this.options,a,t);var s=nt(a,!0);Vn&&(!Nt||i!==Nn||l!==Pn)&&(Nt&&cr(),Nt=setInterval(function(){var d=nt(document.elementFromPoint(i,l),!0);d!==s&&(s=d,fn()),Hn(n,o.options,d,t)},10),Nn=i,Pn=l)}else{if(!this.options.bubbleScroll||nt(a,!0)===Xe()){fn();return}Hn(n,this.options,nt(a,!1),!1)}}},qe(r,{pluginName:"scroll",initializeByDefault:!0})}function fn(){re.forEach(function(r){clearInterval(r.pid)}),re=[]}function cr(){clearInterval(Nt)}var Hn=yr(function(r,e,n,t){if(e.scroll){var o=(r.touches?r.touches[0]:r).clientX,i=(r.touches?r.touches[0]:r).clientY,l=e.scrollSensitivity,a=e.scrollSpeed,s=Xe(),d=!1,h;Rn!==n&&(Rn=n,fn(),At=e.scroll,h=e.scrollFn,At===!0&&(At=nt(n,!0)));var u=0,c=At;do{var b=c,w=oe(b),E=w.top,R=w.bottom,X=w.left,B=w.right,W=w.width,y=w.height,V=void 0,j=void 0,Q=b.scrollWidth,ee=b.scrollHeight,Y=k(b),q=b.scrollLeft,ie=b.scrollTop;b===s?(V=W<Q&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),j=y<ee&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(V=W<Q&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),j=y<ee&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));var ve=V&&(Math.abs(B-o)<=l&&q+W<Q)-(Math.abs(X-o)<=l&&!!q),L=j&&(Math.abs(R-i)<=l&&ie+y<ee)-(Math.abs(E-i)<=l&&!!ie);if(!re[u])for(var le=0;le<=u;le++)re[le]||(re[le]={});(re[u].vx!=ve||re[u].vy!=L||re[u].el!==b)&&(re[u].el=b,re[u].vx=ve,re[u].vy=L,clearInterval(re[u].pid),(ve!=0||L!=0)&&(d=!0,re[u].pid=setInterval((function(){t&&this.layer===0&&I.active._onTouchMove(vn);var ye=re[this.layer].vy?re[this.layer].vy*a:0,_=re[this.layer].vx?re[this.layer].vx*a:0;typeof h=="function"&&h.call(I.dragged.parentNode[$e],_,ye,r,vn,re[this.layer].el)!=="continue"||Dr(re[this.layer].el,_,ye)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&c!==s&&(c=nt(c,!1)));Vn=d}},30),Or=function(e){var n=e.originalEvent,t=e.putSortable,o=e.dragEl,i=e.activeSortable,l=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(n){var d=t||i;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,u=document.elementFromPoint(h.clientX,h.clientY);s(),d&&!d.el.contains(u)&&(l("spill"),this.onSpill({dragEl:o,putSortable:t}))}};function Yn(){}Yn.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var o=St(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),t&&t.animateAll()},drop:Or};qe(Yn,{pluginName:"revertOnSpill"});function Xn(){}Xn.prototype={onSpill:function(e){var n=e.dragEl,t=e.putSortable,o=t||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Or};qe(Xn,{pluginName:"removeOnSpill"});I.mount(new $o);I.mount(Xn,Yn);function Ao(r){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),this.h()},l(t){e=Ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var o=C(e);n=Ue(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(p),o.forEach(p),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"d","M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",r[1]),f(e,"stroke","currentColor"),f(e,"class",r[0])},m(t,o){$(t,e,o),g(e,n)},p(t,[o]){o&2&&f(e,"stroke-width",t[1]),o&1&&f(e,"class",t[0])},i:cn,o:cn,d(t){t&&p(e)}}}function No(r,e,n){let{className:t="w-4 h-4"}=e,{strokeWidth:o="1.5"}=e;return r.$$set=i=>{"className"in i&&n(0,t=i.className),"strokeWidth"in i&&n(1,o=i.strokeWidth)},[t,o]}class Po extends bn{constructor(e){super(),wn(this,e,No,Ao,_n,{className:0,strokeWidth:1})}}function Ho(r){let e;const n=r[9].default,t=Nr(n,r,r[16],null);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,i){t&&t.m(o,i),e=!0},p(o,i){t&&t.p&&(!e||i&65536)&&Pr(t,n,o,o[16],e?Br(n,o[16],i,null):Hr(o[16]),null)},i(o){e||(ue(t,o),e=!0)},o(o){ge(t,o),e=!1},d(o){t&&t.d(o)}}}function Bo(r){let e,n;return e=new io({props:{content:r[7].t("More"),$$slots:{default:[Ho]},$$scope:{ctx:r}}}),{c(){Ae(e.$$.fragment)},l(t){Ne(e.$$.fragment,t)},m(t,o){Pe(e,t,o),n=!0},p(t,o){const i={};o&128&&(i.content=t[7].t("More")),o&65536&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(ue(e.$$.fragment,t),n=!0)},o(t){ge(e.$$.fragment,t),n=!1},d(t){He(e,t)}}}function Fo(r){let e,n,t,o=r[7].t("Share")+"",i,l;return e=new no({}),{c(){Ae(e.$$.fragment),n=A(),t=D("div"),i=pe(o),this.h()},l(a){Ne(e.$$.fragment,a),n=N(a),t=S(a,"DIV",{class:!0});var s=C(t);i=me(s,o),s.forEach(p),this.h()},h(){f(t,"class","flex items-center")},m(a,s){Pe(e,a,s),$(a,n,s),$(a,t,s),g(t,i),l=!0},p(a,s){(!l||s&128)&&o!==(o=a[7].t("Share")+"")&&Ee(i,o)},i(a){l||(ue(e.$$.fragment,a),l=!0)},o(a){ge(e.$$.fragment,a),l=!1},d(a){a&&(p(n),p(t)),He(e,a)}}}function Lo(r){let e,n,t,o=r[7].t("Clone")+"",i,l;return e=new ro({}),{c(){Ae(e.$$.fragment),n=A(),t=D("div"),i=pe(o),this.h()},l(a){Ne(e.$$.fragment,a),n=N(a),t=S(a,"DIV",{class:!0});var s=C(t);i=me(s,o),s.forEach(p),this.h()},h(){f(t,"class","flex items-center")},m(a,s){Pe(e,a,s),$(a,n,s),$(a,t,s),g(t,i),l=!0},p(a,s){(!l||s&128)&&o!==(o=a[7].t("Clone")+"")&&Ee(i,o)},i(a){l||(ue(e.$$.fragment,a),l=!0)},o(a){ge(e.$$.fragment,a),l=!1},d(a){a&&(p(n),p(t)),He(e,a)}}}function Ro(r){let e,n,t;return{c(){e=Ge("svg"),n=Ge("path"),t=Ge("path"),this.h()},l(o){e=Ue(o,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=C(e);n=Ue(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(p),t=Ue(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(p),i.forEach(p),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","size-4")},m(o,i){$(o,e,i),g(e,n),g(e,t)},d(o){o&&p(e)}}}function Vo(r){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),this.h()},l(t){e=Ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var o=C(e);n=Ue(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(p),o.forEach(p),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"d","M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","size-4")},m(t,o){$(t,e,o),g(e,n)},d(t){t&&p(e)}}}function jo(r){var s,d,h;let e,n,t=r[7].t(((h=(d=(s=r[0])==null?void 0:s.info)==null?void 0:d.meta)==null?void 0:h.hidden)??!1?"Show Model":"Hide Model")+"",o;function i(u,c){var b,w,E;return((E=(w=(b=u[0])==null?void 0:b.info)==null?void 0:w.meta)==null?void 0:E.hidden)??!1?Vo:Ro}let l=i(r),a=l(r);return{c(){a.c(),e=A(),n=D("div"),o=pe(t),this.h()},l(u){a.l(u),e=N(u),n=S(u,"DIV",{class:!0});var c=C(n);o=me(c,t),c.forEach(p),this.h()},h(){f(n,"class","flex items-center")},m(u,c){a.m(u,c),$(u,e,c),$(u,n,c),g(n,o)},p(u,c){var b,w,E;l!==(l=i(u))&&(a.d(1),a=l(u),a&&(a.c(),a.m(e.parentNode,e))),c&129&&t!==(t=u[7].t(((E=(w=(b=u[0])==null?void 0:b.info)==null?void 0:w.meta)==null?void 0:E.hidden)??!1?"Show Model":"Hide Model")+"")&&Ee(o,t)},d(u){u&&(p(e),p(n)),a.d(u)}}}function Yo(r){let e,n,t,o=r[7].t("Delete")+"",i,l;return e=new oo({props:{strokeWidth:"2"}}),{c(){Ae(e.$$.fragment),n=A(),t=D("div"),i=pe(o),this.h()},l(a){Ne(e.$$.fragment,a),n=N(a),t=S(a,"DIV",{class:!0});var s=C(t);i=me(s,o),s.forEach(p),this.h()},h(){f(t,"class","flex items-center")},m(a,s){Pe(e,a,s),$(a,n,s),$(a,t,s),g(t,i),l=!0},p(a,s){(!l||s&128)&&o!==(o=a[7].t("Delete")+"")&&Ee(i,o)},i(a){l||(ue(e.$$.fragment,a),l=!0)},o(a){ge(e.$$.fragment,a),l=!1},d(a){a&&(p(n),p(t)),He(e,a)}}}function Xo(r){let e,n,t,o,i,l,a,s,d,h;return e=new tn({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Fo]},$$scope:{ctx:r}}}),e.$on("click",r[10]),t=new tn({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Lo]},$$scope:{ctx:r}}}),t.$on("click",r[11]),i=new tn({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[jo]},$$scope:{ctx:r}}}),i.$on("click",r[12]),d=new tn({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Yo]},$$scope:{ctx:r}}}),d.$on("click",r[13]),{c(){Ae(e.$$.fragment),n=A(),Ae(t.$$.fragment),o=A(),Ae(i.$$.fragment),l=A(),a=D("hr"),s=A(),Ae(d.$$.fragment),this.h()},l(u){Ne(e.$$.fragment,u),n=N(u),Ne(t.$$.fragment,u),o=N(u),Ne(i.$$.fragment,u),l=N(u),a=S(u,"HR",{class:!0}),s=N(u),Ne(d.$$.fragment,u),this.h()},h(){f(a,"class","border-gray-100 dark:border-gray-800 my-1")},m(u,c){Pe(e,u,c),$(u,n,c),Pe(t,u,c),$(u,o,c),Pe(i,u,c),$(u,l,c),$(u,a,c),$(u,s,c),Pe(d,u,c),h=!0},p(u,c){const b={};c&65664&&(b.$$scope={dirty:c,ctx:u}),e.$set(b);const w={};c&65664&&(w.$$scope={dirty:c,ctx:u}),t.$set(w);const E={};c&65665&&(E.$$scope={dirty:c,ctx:u}),i.$set(E);const R={};c&65664&&(R.$$scope={dirty:c,ctx:u}),d.$set(R)},i(u){h||(ue(e.$$.fragment,u),ue(t.$$.fragment,u),ue(i.$$.fragment,u),ue(d.$$.fragment,u),h=!0)},o(u){ge(e.$$.fragment,u),ge(t.$$.fragment,u),ge(i.$$.fragment,u),ge(d.$$.fragment,u),h=!1},d(u){u&&(p(n),p(o),p(l),p(a),p(s)),He(e,u),He(t,u),He(i,u),He(d,u)}}}function Wo(r){let e,n,t;return n=new to({props:{class:"w-full max-w-[160px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Qr,$$slots:{default:[Xo]},$$scope:{ctx:r}}}),{c(){e=D("div"),Ae(n.$$.fragment),this.h()},l(o){e=S(o,"DIV",{slot:!0});var i=C(e);Ne(n.$$.fragment,i),i.forEach(p),this.h()},h(){f(e,"slot","content")},m(o,i){$(o,e,i),Pe(n,e,null),t=!0},p(o,i){const l={};i&65695&&(l.$$scope={dirty:i,ctx:o}),n.$set(l)},i(o){t||(ue(n.$$.fragment,o),t=!0)},o(o){ge(n.$$.fragment,o),t=!1},d(o){o&&p(e),He(n)}}}function zo(r){let e,n,t;function o(l){r[14](l)}let i={$$slots:{content:[Wo],default:[Bo]},$$scope:{ctx:r}};return r[6]!==void 0&&(i.show=r[6]),e=new eo({props:i}),gr.push(()=>Yr(e,"show",o)),e.$on("change",r[15]),{c(){Ae(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,a){Pe(e,l,a),t=!0},p(l,[a]){const s={};a&65695&&(s.$$scope={dirty:a,ctx:l}),!n&&a&64&&(n=!0,s.show=l[6],Ar(()=>n=!1)),e.$set(s)},i(l){t||(ue(e.$$.fragment,l),t=!0)},o(l){ge(e.$$.fragment,l),t=!1},d(l){He(e,l)}}}function Go(r,e,n){let t,{$$slots:o={},$$scope:i}=e;const l=vr("i18n");Ot(r,l,y=>n(7,t=y));let{model:a}=e,{shareHandler:s}=e,{cloneHandler:d}=e,{hideHandler:h}=e,{deleteHandler:u}=e,{onClose:c}=e,b=!1;const w=()=>{s()},E=()=>{d()},R=()=>{h()},X=()=>{u()};function B(y){b=y,n(6,b)}const W=y=>{y.detail===!1&&c()};return r.$$set=y=>{"model"in y&&n(0,a=y.model),"shareHandler"in y&&n(1,s=y.shareHandler),"cloneHandler"in y&&n(2,d=y.cloneHandler),"hideHandler"in y&&n(3,h=y.hideHandler),"deleteHandler"in y&&n(4,u=y.deleteHandler),"onClose"in y&&n(5,c=y.onClose),"$$scope"in y&&n(16,i=y.$$scope)},[a,s,d,h,u,c,b,t,l,o,w,E,R,X,B,W,i]}class Uo extends bn{constructor(e){super(),wn(this,e,Go,zo,_n,{model:0,shareHandler:1,cloneHandler:2,hideHandler:3,deleteHandler:4,onClose:5})}}const{document:Bn}=zr;function hr(r,e,n){const t=r.slice();return t[30]=e[n],t}function Zo(r){let e,n,t;return n=new Po({props:{className:"size-5"}}),{c(){e=D("button"),Ae(n.$$.fragment),this.h()},l(o){e=S(o,"BUTTON",{class:!0,type:!0});var i=C(e);Ne(n.$$.fragment,i),i.forEach(p),this.h()},h(){f(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),f(e,"type","button")},m(o,i){$(o,e,i),Pe(n,e,null),t=!0},p:cn,i(o){t||(ue(n.$$.fragment,o),t=!0)},o(o){ge(n.$$.fragment,o),t=!1},d(o){o&&p(e),He(n)}}}function pr(r){var te,P,ne,de,_e,Te;let e,n,t,o,i,l,a,s,d,h,u=r[30].name+"",c,b,w,E=((ne=(P=(te=r[30])==null?void 0:te.info)==null?void 0:P.meta)!=null&&ne.description?(Te=(_e=(de=r[30])==null?void 0:de.info)==null?void 0:_e.meta)==null?void 0:Te.description:r[30].id)+"",R,X,B,W,y,V,j,Q,ee,Y,q,ie,ve,L;function le(){return r[16](r[30])}function ye(){return r[17](r[30])}function _(){return r[18](r[30])}function M(){return r[19](r[30])}return q=new Uo({props:{model:r[30],shareHandler:le,cloneHandler:ye,hideHandler:_,deleteHandler:M,onClose:Jo,$$slots:{default:[Zo]},$$scope:{ctx:r}}}),{c(){e=D("div"),n=D("a"),t=D("div"),o=D("div"),i=D("img"),s=A(),d=D("div"),h=D("div"),c=pe(u),b=A(),w=D("div"),R=pe(E),W=A(),y=D("div"),V=D("a"),j=Ge("svg"),Q=Ge("path"),Y=A(),Ae(q.$$.fragment),ie=A(),this.h()},l(ae){e=S(ae,"DIV",{class:!0,id:!0});var O=C(e);n=S(O,"A",{class:!0,href:!0});var J=C(n);t=S(J,"DIV",{class:!0});var De=C(t);o=S(De,"DIV",{class:!0});var Me=C(o);i=S(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(p),De.forEach(p),s=N(J),d=S(J,"DIV",{class:!0});var Se=C(d);h=S(Se,"DIV",{class:!0});var fe=C(h);c=me(fe,u),fe.forEach(p),b=N(Se),w=S(Se,"DIV",{class:!0});var Le=C(w);R=me(Le,E),Le.forEach(p),Se.forEach(p),J.forEach(p),W=N(O),y=S(O,"DIV",{class:!0});var ke=C(y);V=S(ke,"A",{class:!0,type:!0,href:!0});var be=C(V);j=Ue(be,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Be=C(j);Q=Ue(Be,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(Q).forEach(p),Be.forEach(p),be.forEach(p),Y=N(ke),Ne(q.$$.fragment,ke),ke.forEach(p),ie=N(O),O.forEach(p),this.h()},h(){var ae,O,J,De,Me,Se,fe,Le,ke;nr(i.src,l=((J=(O=(ae=r[30])==null?void 0:ae.info)==null?void 0:O.meta)==null?void 0:J.profile_image_url)??"/favicon.png")||f(i,"src",l),f(i,"alt","modelfile profile"),f(i,"class","rounded-full w-full h-auto object-cover"),f(o,"class",a="rounded-full bg-stone-700 "+(((Se=(Me=(De=r[30])==null?void 0:De.info)==null?void 0:Me.meta)==null?void 0:Se.hidden)??!1?"brightness-90 dark:brightness-50":"")),f(t,"class","self-start w-8 pt-0.5"),f(h,"class","font-bold line-clamp-1"),f(w,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),f(d,"class",X="flex-1 self-center "+(((ke=(Le=(fe=r[30])==null?void 0:fe.info)==null?void 0:Le.meta)==null?void 0:ke.hidden)??!1?"text-gray-500":"")),f(n,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),f(n,"href",B=`/?models=${encodeURIComponent(r[30].id)}`),f(Q,"stroke-linecap","round"),f(Q,"stroke-linejoin","round"),f(Q,"d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"),f(j,"xmlns","http://www.w3.org/2000/svg"),f(j,"fill","none"),f(j,"viewBox","0 0 24 24"),f(j,"stroke-width","1.5"),f(j,"stroke","currentColor"),f(j,"class","w-4 h-4"),f(V,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),f(V,"type","button"),f(V,"href",ee=`/workspace/models/edit?id=${encodeURIComponent(r[30].id)}`),f(y,"class","flex flex-row gap-0.5 self-center"),f(e,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),f(e,"id",ve="model-item-"+r[30].id)},m(ae,O){$(ae,e,O),g(e,n),g(n,t),g(t,o),g(o,i),g(n,s),g(n,d),g(d,h),g(h,c),g(d,b),g(d,w),g(w,R),g(e,W),g(e,y),g(y,V),g(V,j),g(j,Q),g(y,Y),Pe(q,y,null),g(e,ie),L=!0},p(ae,O){var De,Me,Se,fe,Le,ke,be,Be,Ke,rt,ct,je,kt,ht,ot;r=ae,(!L||O[0]&24&&!nr(i.src,l=((Se=(Me=(De=r[30])==null?void 0:De.info)==null?void 0:Me.meta)==null?void 0:Se.profile_image_url)??"/favicon.png"))&&f(i,"src",l),(!L||O[0]&24&&a!==(a="rounded-full bg-stone-700 "+(((ke=(Le=(fe=r[30])==null?void 0:fe.info)==null?void 0:Le.meta)==null?void 0:ke.hidden)??!1?"brightness-90 dark:brightness-50":"")))&&f(o,"class",a),(!L||O[0]&24)&&u!==(u=r[30].name+"")&&Ee(c,u),(!L||O[0]&24)&&E!==(E=((Ke=(Be=(be=r[30])==null?void 0:be.info)==null?void 0:Be.meta)!=null&&Ke.description?(je=(ct=(rt=r[30])==null?void 0:rt.info)==null?void 0:ct.meta)==null?void 0:je.description:r[30].id)+"")&&Ee(R,E),(!L||O[0]&24&&X!==(X="flex-1 self-center "+(((ot=(ht=(kt=r[30])==null?void 0:kt.info)==null?void 0:ht.meta)==null?void 0:ot.hidden)??!1?"text-gray-500":"")))&&f(d,"class",X),(!L||O[0]&24&&B!==(B=`/?models=${encodeURIComponent(r[30].id)}`))&&f(n,"href",B),(!L||O[0]&24&&ee!==(ee=`/workspace/models/edit?id=${encodeURIComponent(r[30].id)}`))&&f(V,"href",ee);const J={};O[0]&24&&(J.model=r[30]),O[0]&24&&(J.shareHandler=le),O[0]&24&&(J.cloneHandler=ye),O[0]&24&&(J.hideHandler=_),O[0]&24&&(J.deleteHandler=M),O[1]&4&&(J.$$scope={dirty:O,ctx:r}),q.$set(J),(!L||O[0]&24&&ve!==(ve="model-item-"+r[30].id))&&f(e,"id",ve)},i(ae){L||(ue(q.$$.fragment,ae),L=!0)},o(ae){ge(q.$$.fragment,ae),L=!1},d(ae){ae&&p(e),He(q)}}}function mr(r){let e,n,t=r[0].length+"",o,i,l,a,s,d='<div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg></div>',h,u;return{c(){e=D("div"),n=D("div"),o=pe(t),i=pe(" Local Modelfiles Detected"),l=A(),a=D("div"),s=D("button"),s.innerHTML=d,this.h()},l(c){e=S(c,"DIV",{class:!0});var b=C(e);n=S(b,"DIV",{class:!0});var w=C(n);o=me(w,t),i=me(w," Local Modelfiles Detected"),w.forEach(p),l=N(b),a=S(b,"DIV",{class:!0});var E=C(a);s=S(E,"BUTTON",{class:!0,"data-svelte-h":!0}),dt(s)!=="svelte-vns8li"&&(s.innerHTML=d),E.forEach(p),b.forEach(p),this.h()},h(){f(n,"class","self-center text-sm font-medium mr-4"),f(s,"class","self-center w-fit text-sm p-1.5 border dark:border-gray-600 rounded-xl flex"),f(a,"class","flex space-x-1"),f(e,"class","flex")},m(c,b){$(c,e,b),g(e,n),g(n,o),g(n,i),g(e,l),g(e,a),g(a,s),h||(u=wt(s,"click",r[25]),h=!0)},p(c,b){b[0]&1&&t!==(t=c[0].length+"")&&Ee(o,t)},d(c){c&&p(e),h=!1,u()}}}function qo(r){let e,n,t,o=r[6].t("Models")+"",i,l,a,s,d,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',u,c,b,w,E,R='<a class="px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1" href="/workspace/models/create"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg></a>',X,B,W,y,V,j='<div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div>',Q,ee,Y,q=r[6].t("Create a model")+"",ie,ve,L,le=r[6].t("Customize models for a specific purpose")+"",ye,_,M,te,P,ne,de,_e,Te,ae,O,J,De=r[6].t("Import Models")+"",Me,Se,fe,Le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',ke,be,Be,Ke=r[6].t("Export Models")+"",rt,ct,je,kt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',ht,ot,ze,pt,It=r[6].t("Made by OpenWebUI Community")+"",jt,yn,Ye,it,Wn='<div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div>',Dn,Qe,mt,Ct=r[6].t("Discover a model")+"",Yt,Sn,gt,Tt=r[6].t("Discover, download, and explore model presets")+"",Xt,Ie,kn,zn;Bn.title=e=`
		`+r[6].t("Models")+" | "+r[7]+`
	`;let at=rr(r[3].filter(r[15])),z=[];for(let v=0;v<at.length;v+=1)z[v]=pr(hr(r,at,v));const $r=v=>ge(z[v],1,1,()=>{z[v]=null});let ce=r[0].length>0&&mr(r);return{c(){n=A(),t=D("div"),i=pe(o),l=A(),a=D("div"),s=D("div"),d=D("div"),d.innerHTML=h,u=A(),c=D("input"),w=A(),E=D("div"),E.innerHTML=R,X=A(),B=D("hr"),W=A(),y=D("a"),V=D("div"),V.innerHTML=j,Q=A(),ee=D("div"),Y=D("div"),ie=pe(q),ve=A(),L=D("div"),ye=pe(le),_=A(),M=D("hr"),te=A(),P=D("div");for(let v=0;v<z.length;v+=1)z[v].c();ne=A(),de=D("div"),_e=D("div"),Te=D("input"),ae=A(),O=D("button"),J=D("div"),Me=pe(De),Se=A(),fe=D("div"),fe.innerHTML=Le,ke=A(),be=D("button"),Be=D("div"),rt=pe(Ke),ct=A(),je=D("div"),je.innerHTML=kt,ht=A(),ce&&ce.c(),ot=A(),ze=D("div"),pt=D("div"),jt=pe(It),yn=A(),Ye=D("a"),it=D("div"),it.innerHTML=Wn,Dn=A(),Qe=D("div"),mt=D("div"),Yt=pe(Ct),Sn=A(),gt=D("div"),Xt=pe(Tt),this.h()},l(v){Fr("svelte-rjeobo",Bn.head).forEach(p),n=N(v),t=S(v,"DIV",{class:!0});var U=C(t);i=me(U,o),U.forEach(p),l=N(v),a=S(v,"DIV",{class:!0});var lt=C(a);s=S(lt,"DIV",{class:!0});var Wt=C(s);d=S(Wt,"DIV",{class:!0,"data-svelte-h":!0}),dt(d)!=="svelte-v38fm1"&&(d.innerHTML=h),u=N(Wt),c=S(Wt,"INPUT",{class:!0,placeholder:!0}),Wt.forEach(p),w=N(lt),E=S(lt,"DIV",{"data-svelte-h":!0}),dt(E)!=="svelte-1w57wjs"&&(E.innerHTML=R),lt.forEach(p),X=N(v),B=S(v,"HR",{class:!0}),W=N(v),y=S(v,"A",{class:!0,href:!0});var zt=C(y);V=S(zt,"DIV",{class:!0,"data-svelte-h":!0}),dt(V)!=="svelte-z1nu7b"&&(V.innerHTML=j),Q=N(zt),ee=S(zt,"DIV",{class:!0});var Gt=C(ee);Y=S(Gt,"DIV",{class:!0});var Gn=C(Y);ie=me(Gn,q),Gn.forEach(p),ve=N(Gt),L=S(Gt,"DIV",{class:!0});var Un=C(L);ye=me(Un,le),Un.forEach(p),Gt.forEach(p),zt.forEach(p),_=N(v),M=S(v,"HR",{class:!0}),te=N(v),P=S(v,"DIV",{class:!0,id:!0});var Zn=C(P);for(let In=0;In<z.length;In+=1)z[In].l(Zn);Zn.forEach(p),ne=N(v),de=S(v,"DIV",{class:!0});var Ut=C(de);_e=S(Ut,"DIV",{class:!0});var vt=C(_e);Te=S(vt,"INPUT",{id:!0,type:!0,accept:!0}),ae=N(vt),O=S(vt,"BUTTON",{class:!0});var Zt=C(O);J=S(Zt,"DIV",{class:!0});var qn=C(J);Me=me(qn,De),qn.forEach(p),Se=N(Zt),fe=S(Zt,"DIV",{class:!0,"data-svelte-h":!0}),dt(fe)!=="svelte-1q70n51"&&(fe.innerHTML=Le),Zt.forEach(p),ke=N(vt),be=S(vt,"BUTTON",{class:!0});var qt=C(be);Be=S(qt,"DIV",{class:!0});var Jn=C(Be);rt=me(Jn,Ke),Jn.forEach(p),ct=N(qt),je=S(qt,"DIV",{class:!0,"data-svelte-h":!0}),dt(je)!=="svelte-k7l80i"&&(je.innerHTML=kt),qt.forEach(p),vt.forEach(p),ht=N(Ut),ce&&ce.l(Ut),Ut.forEach(p),ot=N(v),ze=S(v,"DIV",{class:!0});var Jt=C(ze);pt=S(Jt,"DIV",{class:!0});var Kn=C(pt);jt=me(Kn,It),Kn.forEach(p),yn=N(Jt),Ye=S(Jt,"A",{class:!0,href:!0,target:!0});var Kt=C(Ye);it=S(Kt,"DIV",{class:!0,"data-svelte-h":!0}),dt(it)!=="svelte-1fv49yn"&&(it.innerHTML=Wn),Dn=N(Kt),Qe=S(Kt,"DIV",{class:!0});var Qt=C(Qe);mt=S(Qt,"DIV",{class:!0});var Qn=C(mt);Yt=me(Qn,Ct),Qn.forEach(p),Sn=N(Qt),gt=S(Qt,"DIV",{class:!0});var er=C(gt);Xt=me(er,Tt),er.forEach(p),Qt.forEach(p),Kt.forEach(p),Jt.forEach(p),this.h()},h(){f(t,"class","text-lg font-semibold mb-3"),f(d,"class","self-center ml-1 mr-3"),f(c,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),f(c,"placeholder",b=r[6].t("Search Models")),f(s,"class","flex flex-1"),f(a,"class","flex w-full space-x-2"),f(B,"class","dark:border-gray-850 my-2.5"),f(V,"class","self-center w-10"),f(Y,"class","font-bold"),f(L,"class","text-sm"),f(ee,"class","self-center"),f(y,"class","flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2"),f(y,"href","/workspace/models/create"),f(M,"class","dark:border-gray-850"),f(P,"class","my-2 mb-5"),f(P,"id","model-list"),f(Te,"id","models-import-input"),f(Te,"type","file"),f(Te,"accept",".json"),Te.hidden=!0,f(J,"class","self-center mr-2 font-medium"),f(fe,"class","self-center"),f(O,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),f(Be,"class","self-center mr-2 font-medium"),f(je,"class","self-center"),f(be,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),f(_e,"class","flex space-x-1"),f(de,"class","flex justify-end w-full mb-3"),f(pt,"class","text-lg font-semibold mb-3"),f(it,"class","self-center w-10"),f(mt,"class","font-bold"),f(gt,"class","text-sm"),f(Qe,"class","self-center"),f(Ye,"class","flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2"),f(Ye,"href","https://openwebui.com/"),f(Ye,"target","_blank"),f(ze,"class","my-16")},m(v,x){$(v,n,x),$(v,t,x),g(t,i),$(v,l,x),$(v,a,x),g(a,s),g(s,d),g(s,u),g(s,c),tr(c,r[4]),g(a,w),g(a,E),$(v,X,x),$(v,B,x),$(v,W,x),$(v,y,x),g(y,V),g(y,Q),g(y,ee),g(ee,Y),g(Y,ie),g(ee,ve),g(ee,L),g(L,ye),$(v,_,x),$(v,M,x),$(v,te,x),$(v,P,x);for(let U=0;U<z.length;U+=1)z[U]&&z[U].m(P,null);$(v,ne,x),$(v,de,x),g(de,_e),g(_e,Te),r[20](Te),g(_e,ae),g(_e,O),g(O,J),g(J,Me),g(O,Se),g(O,fe),g(_e,ke),g(_e,be),g(be,Be),g(Be,rt),g(be,ct),g(be,je),g(de,ht),ce&&ce.m(de,null),$(v,ot,x),$(v,ze,x),g(ze,pt),g(pt,jt),g(ze,yn),g(ze,Ye),g(Ye,it),g(Ye,Dn),g(Ye,Qe),g(Qe,mt),g(mt,Yt),g(Qe,Sn),g(Qe,gt),g(gt,Xt),Ie=!0,kn||(zn=[wt(c,"input",r[14]),wt(Te,"change",r[21]),wt(Te,"change",r[22]),wt(O,"click",r[23]),wt(be,"click",r[24])],kn=!0)},p(v,x){if((!Ie||x[0]&192)&&e!==(e=`
		`+v[6].t("Models")+" | "+v[7]+`
	`)&&(Bn.title=e),(!Ie||x[0]&64)&&o!==(o=v[6].t("Models")+"")&&Ee(i,o),(!Ie||x[0]&64&&b!==(b=v[6].t("Search Models")))&&f(c,"placeholder",b),x[0]&16&&c.value!==v[4]&&tr(c,v[4]),(!Ie||x[0]&64)&&q!==(q=v[6].t("Create a model")+"")&&Ee(ie,q),(!Ie||x[0]&64)&&le!==(le=v[6].t("Customize models for a specific purpose")+"")&&Ee(ye,le),x[0]&7704){at=rr(v[3].filter(v[15]));let U;for(U=0;U<at.length;U+=1){const lt=hr(v,at,U);z[U]?(z[U].p(lt,x),ue(z[U],1)):(z[U]=pr(lt),z[U].c(),ue(z[U],1),z[U].m(P,null))}for(Xr(),U=at.length;U<z.length;U+=1)$r(U);Wr()}(!Ie||x[0]&64)&&De!==(De=v[6].t("Import Models")+"")&&Ee(Me,De),(!Ie||x[0]&64)&&Ke!==(Ke=v[6].t("Export Models")+"")&&Ee(rt,Ke),v[0].length>0?ce?ce.p(v,x):(ce=mr(v),ce.c(),ce.m(de,null)):ce&&(ce.d(1),ce=null),(!Ie||x[0]&64)&&It!==(It=v[6].t("Made by OpenWebUI Community")+"")&&Ee(jt,It),(!Ie||x[0]&64)&&Ct!==(Ct=v[6].t("Discover a model")+"")&&Ee(Yt,Ct),(!Ie||x[0]&64)&&Tt!==(Tt=v[6].t("Discover, download, and explore model presets")+"")&&Ee(Xt,Tt)},i(v){if(!Ie){for(let x=0;x<at.length;x+=1)ue(z[x]);Ie=!0}},o(v){z=z.filter(Boolean);for(let x=0;x<z.length;x+=1)ge(z[x]);Ie=!1},d(v){v&&(p(n),p(t),p(l),p(a),p(X),p(B),p(W),p(y),p(_),p(M),p(te),p(P),p(ne),p(de),p(ot),p(ze)),Lr(z,v),r[20](null),ce&&ce.d(),kn=!1,Rr(zn)}}}const Jo=()=>{};function Ko(r,e,n){let t,o,i,l;Ot(r,Ur,_=>n(27,t=_)),Ot(r,xt,_=>n(5,o=_)),Ot(r,Zr,_=>n(7,l=_));const{saveAs:a}=Gr,s=vr("i18n");Ot(r,s,_=>n(6,i=_));let d=[],h,u,c=[],b="";const w=async _=>{if(console.log(_.info),!(_!=null&&_.info))return Mt.error(i.t("{{ owner }}: You cannot delete a base model",{owner:_.owned_by.toUpperCase()})),null;await qr(localStorage.token,_.id)&&Mt.success(i.t("Deleted {{name}}",{name:_.id})),await xt.set(await en(localStorage.token)),n(3,c=o)},E=async _=>{var M;if((((M=_==null?void 0:_.info)==null?void 0:M.base_model_id)??null)===null){Mt.error(i.t("You cannot clone a base model"));return}else sessionStorage.model=JSON.stringify({..._,id:`${_.id}-clone`,name:`${_.name} (Clone)`}),Kr("/workspace/models/create")},R=async _=>{Mt.success(i.t("Redirecting you to OpenWebUI Community"));const M="https://openwebui.com",te=await window.open(`${M}/models/create`,"_blank");window.addEventListener("message",P=>{P.origin===M&&P.data==="loaded"&&te.postMessage(JSON.stringify(_),"*")},!1)},X=async _=>{var P;let M=_.info;M||(M={id:_.id,name:_.name,meta:{suggestion_prompts:null},params:{}}),M.meta={...M.meta,hidden:!(((P=M==null?void 0:M.meta)==null?void 0:P.hidden)??!1)},console.log(M),await Cn(localStorage.token,M.id,M)&&Mt.success(i.t("Model {{name}} is now {{status}}",{name:M.id,status:M.meta.hidden?"hidden":"visible"})),await xt.set(await en(localStorage.token)),n(3,c=o)},B=async _=>{let M=new Blob([JSON.stringify(_)],{type:"application/json"});a(M,`models-export-${Date.now()}.json`)},W=async()=>{const _=Array.from(document.getElementById("model-list").children).map(M=>M.id.replace("model-item-",""));for(const[M,te]of _.entries()){const P=o.find(ne=>ne.id===te);if(P){let ne=P.info;ne||(ne={id:P.id,name:P.name,meta:{position:M},params:{}}),ne.meta={...ne.meta,position:M},await Cn(localStorage.token,ne.id,ne)}}await jr(),await xt.set(await en(localStorage.token))};Vr(async()=>{n(3,c=o),n(0,d=JSON.parse(localStorage.getItem("modelfiles")??"[]")),d&&console.log(d),t||new I(document.getElementById("model-list"),{animation:150,onUpdate:async _=>{console.log(_),W()}})});function y(){b=this.value,n(4,b)}const V=_=>b===""||_.name.toLowerCase().includes(b.toLowerCase()),j=_=>{R(_)},Q=_=>{E(_)},ee=_=>{X(_)},Y=_=>{w(_)};function q(_){gr[_?"unshift":"push"](()=>{u=_,n(2,u)})}function ie(){h=this.files,n(1,h)}return[d,h,u,c,b,o,i,l,s,w,E,R,X,B,y,V,j,Q,ee,Y,q,ie,()=>{console.log(h);let _=new FileReader;_.onload=async M=>{let te=JSON.parse(M.target.result);console.log(te);for(const P of te)((P==null?void 0:P.info)??!1)&&(o.find(ne=>ne.id===P.id)?await Cn(localStorage.token,P.id,P.info).catch(ne=>null):await Jr(localStorage.token,P.info).catch(ne=>null));await xt.set(await en(localStorage.token))},_.readAsText(h[0])},()=>{u.click()},async()=>{B(o)},async()=>{B(d),localStorage.removeItem("modelfiles"),n(0,d=JSON.parse(localStorage.getItem("modelfiles")??"[]"))}]}class Qo extends bn{constructor(e){super(),wn(this,e,Ko,qo,_n,{},null,[-1,-1])}}function ei(r){let e,n;return e=new Qo({}),{c(){Ae(e.$$.fragment)},l(t){Ne(e.$$.fragment,t)},m(t,o){Pe(e,t,o),n=!0},p:cn,i(t){n||(ue(e.$$.fragment,t),n=!0)},o(t){ge(e.$$.fragment,t),n=!1},d(t){He(e,t)}}}class vi extends bn{constructor(e){super(),wn(this,e,null,ei,_n,{})}}export{vi as component};
//# sourceMappingURL=10.13ebb66e.js.map
