import{s as Is,f as u,a as w,l as N,g as d,h as f,c as k,R as bt,m as S,d as c,j as n,Q as K,U as Ds,i as B,r as o,V as Gl,u as F,O as Vs,n as P,K as vl,v as vs,w as Kl,P as Ts,o as Ns,p as gs,X as Ss,C as gl,t as Ms,T as As,z as Ql,A as xl,S as $l,e as es}from"../chunks/scheduler.bc5a4ea8.js";import{S as Ps,i as Cs,a as Me,t as et,c as ts,f as Os,b as bs,d as ws,m as ks,e as ys,g as ls}from"../chunks/index.5e522d2c.js";import{e as tt}from"../chunks/each.eda84b85.js";import{a as ss}from"../chunks/Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{g as Bs}from"../chunks/navigation.a54d0b03.js";import{e as as}from"../chunks/index.a679fc74.js";import{a as Ls}from"../chunks/index.72175eab.js";import{b as Us}from"../chunks/index.955a9245.js";import{A as js}from"../chunks/AdvancedParams.a797b5e7.js";import{C as Hs}from"../chunks/Checkbox.f3d4e893.js";function rs(l,e,t){const a=l.slice();return a[37]=e[t],a}function os(l,e,t){const a=l.slice();return a[40]=e[t],a[41]=e,a[42]=t,a}function ns(l,e,t){const a=l.slice();return a[43]=e[t],a}function Rs(l){let e,t;return{c(){e=Ql("svg"),t=Ql("path"),this.h()},l(a){e=xl(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=f(e);t=xl(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),f(t).forEach(c),s.forEach(c),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-8")},m(a,s){B(a,e,s),o(e,t)},p:gl,d(a){a&&c(e)}}}function zs(l){let e,t;return{c(){e=u("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){$l(e.src,t=l[2].meta.profile_image_url)||n(e,"src",t),n(e,"alt","modelfile profile"),n(e,"class","rounded-full w-20 h-20 object-cover")},m(a,s){B(a,e,s)},p(a,s){s[0]&12&&!$l(e.src,t=a[2].meta.profile_image_url)&&n(e,"src",t)},d(a){a&&c(e)}}}function is(l){let e,t=l[43].name+"",a,s;return{c(){e=u("option"),a=N(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var _=f(e);a=S(_,t),_.forEach(c),this.h()},h(){e.__value=s=l[43].id,K(e,e.__value),n(e,"class","text-gray-900")},m(r,_){B(r,e,_),o(e,a)},p(r,_){_[0]&8&&t!==(t=r[43].name+"")&&P(a,t),_[0]&8&&s!==(s=r[43].id)&&(e.__value=s,K(e,e.__value))},d(r){r&&c(e)}}}function qs(l){let e,t=l[11].t("Show")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Show")+"")&&P(a,t)},d(s){s&&c(e)}}}function Fs(l){let e,t=l[11].t("Hide")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Hide")+"")&&P(a,t)},d(s){s&&c(e)}}}function cs(l){let e,t,a,s;function r(b){l[26](b)}let _={};return l[10]!==void 0&&(_.params=l[10]),t=new js({props:_}),gs.push(()=>Os(t,"params",r)),t.$on("change",l[27]),{c(){e=u("div"),bs(t.$$.fragment),this.h()},l(b){e=d(b,"DIV",{class:!0});var y=f(e);ws(t.$$.fragment,y),y.forEach(c),this.h()},h(){n(e,"class","my-2")},m(b,y){B(b,e,y),ks(t,e,null),s=!0},p(b,y){const U={};!a&&y[0]&1024&&(a=!0,U.params=b[10],Ss(()=>a=!1)),t.$set(U)},i(b){s||(Me(t.$$.fragment,b),s=!0)},o(b){et(t.$$.fragment,b),s=!1},d(b){b&&c(e),ys(t)}}}function Js(l){let e,t=l[11].t("Custom")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Custom")+"")&&P(a,t)},d(s){s&&c(e)}}}function Ws(l){let e,t=l[11].t("Default")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Default")+"")&&P(a,t)},d(s){s&&c(e)}}}function us(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,s;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),bt(e)!=="svelte-1syph4x"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-1 px-2 text-xs flex rounded transition"),n(e,"type","button")},m(r,_){B(r,e,_),a||(s=F(e,"click",l[29]),a=!0)},p:gl,d(r){r&&c(e),a=!1,s()}}}function ds(l){let e;function t(r,_){return r[2].meta.suggestion_prompts.length>0?Ys:Xs}let a=t(l),s=a(l);return{c(){e=u("div"),s.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var _=f(e);s.l(_),_.forEach(c),this.h()},h(){n(e,"class","flex flex-col space-y-1 mt-2")},m(r,_){B(r,e,_),s.m(e,null)},p(r,_){a===(a=t(r))&&s?s.p(r,_):(s.d(1),s=a(r),s&&(s.c(),s.m(e,null)))},d(r){r&&c(e),s.d()}}}function Xs(l){let e,t="No suggestion prompts";return{c(){e=u("div"),e.textContent=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){n(e,"class","text-xs text-center")},m(a,s){B(a,e,s)},p:gl,d(a){a&&c(e)}}}function Ys(l){let e,t=tt(l[2].meta.suggestion_prompts),a=[];for(let s=0;s<t.length;s+=1)a[s]=fs(os(l,t,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=es()},l(s){for(let r=0;r<a.length;r+=1)a[r].l(s);e=es()},m(s,r){for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(s,r);B(s,e,r)},p(s,r){if(r[0]&2052){t=tt(s[2].meta.suggestion_prompts);let _;for(_=0;_<t.length;_+=1){const b=os(s,t,_);a[_]?a[_].p(b,r):(a[_]=fs(b),a[_].c(),a[_].m(e.parentNode,e))}for(;_<a.length;_+=1)a[_].d(1);a.length=t.length}},d(s){s&&c(e),vl(a,s)}}}function fs(l){let e,t,a,s,r,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,y,U;function I(){l[30].call(t,l[41],l[42])}function C(){return l[31](l[42])}return{c(){e=u("div"),t=u("input"),s=w(),r=u("button"),r.innerHTML=_,b=w(),this.h()},l(v){e=d(v,"DIV",{class:!0});var E=f(e);t=d(E,"INPUT",{class:!0,placeholder:!0}),s=k(E),r=d(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),bt(r)!=="svelte-svd6gc"&&(r.innerHTML=_),b=k(E),E.forEach(c),this.h()},h(){n(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),n(t,"placeholder",a=l[11].t("Write a prompt suggestion (e.g. Who are you?)")),n(r,"class","px-2"),n(r,"type","button"),n(e,"class","flex border dark:border-gray-600 rounded-lg")},m(v,E){B(v,e,E),o(e,t),K(t,l[40].content),o(e,s),o(e,r),o(e,b),y||(U=[F(t,"input",I),F(r,"click",C)],y=!0)},p(v,E){l=v,E[0]&2048&&a!==(a=l[11].t("Write a prompt suggestion (e.g. Who are you?)"))&&n(t,"placeholder",a),E[0]&12&&t.value!==l[40].content&&K(t,l[40].content)},d(v){v&&c(e),y=!1,vs(U)}}}function ps(l){let e,t,a,s,r=l[11].t(l[37])+"",_,b,y;function U(...I){return l[32](l[37],...I)}return t=new Hs({props:{state:l[1][l[37]]?"checked":"unchecked"}}),t.$on("change",U),{c(){e=u("div"),bs(t.$$.fragment),a=w(),s=u("div"),_=N(r),b=w(),this.h()},l(I){e=d(I,"DIV",{class:!0});var C=f(e);ws(t.$$.fragment,C),a=k(C),s=d(C,"DIV",{class:!0});var v=f(s);_=S(v,r),v.forEach(c),b=k(C),C.forEach(c),this.h()},h(){n(s,"class","py-1.5 text-sm w-full capitalize"),n(e,"class","flex items-center gap-2")},m(I,C){B(I,e,C),ks(t,e,null),o(e,a),o(e,s),o(s,_),o(e,b),y=!0},p(I,C){l=I;const v={};C[0]&2&&(v.state=l[1][l[37]]?"checked":"unchecked"),t.$set(v),(!y||C[0]&2050)&&r!==(r=l[11].t(l[37])+"")&&P(_,r)},i(I){y||(Me(t.$$.fragment,I),y=!0)},o(I){et(t.$$.fragment,I),y=!1},d(I){I&&c(e),ys(t)}}}function Zs(l){let e,t=l[11].t("Show")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Show")+"")&&P(a,t)},d(s){s&&c(e)}}}function Gs(l){let e,t=l[11].t("Hide")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){B(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Hide")+"")&&P(a,t)},d(s){s&&c(e)}}}function _s(l){let e,t,a;return{c(){e=u("div"),t=u("textarea"),this.h()},l(s){e=d(s,"DIV",{});var r=f(e);t=d(r,"TEXTAREA",{class:!0,rows:!0}),f(t).forEach(c),r.forEach(c),this.h()},h(){n(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(t,"rows","10"),t.value=a=JSON.stringify(l[2],null,2),t.disabled=!0,t.readOnly=!0},m(s,r){B(s,e,r),o(e,t)},p(s,r){r[0]&12&&a!==(a=JSON.stringify(s[2],null,2))&&(t.value=a)},d(s){s&&c(e)}}}function hs(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-qf5fty"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-1.5 self-center")},m(a,s){B(a,e,s)},d(a){a&&c(e)}}}function Ks(l){let e,t,a,s,r,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',b,y,U=l[11].t("Back")+"",I,C,v,E,D,A,h,x,$,ee,pe,Ae=l[11].t("Name")+"",je,lt,st,Pe,X,He,at,oe,_e,Ce=l[11].t("Model ID")+"",Re,rt,ot,Oe,Y,ze,nt,ne,m,M=l[11].t("Base Model (From)")+"",Q,W,ie,H,Z,ce=l[11].t("Select a base model")+"",he,it,ue,ye,ct=l[11].t("Description")+"",wt,Gt,ut,de,kt,Kt,Ee,qe,Fe,dt=l[11].t("Model Params")+"",yt,Qt,te,Ie,Je,ft=l[11].t("System Prompt")+"",Et,xt,pt,fe,$t,De,We,_t=l[11].t("Advanced Params")+"",It,el,me,tl,ll,ve,ge,Ve,Xe,ht=l[11].t("Prompt suggestions")+"",Dt,sl,be,al,rl,ol,Te,Ye,Ze,mt=l[11].t("Capabilities")+"",Vt,nl,Be,il,we,Ne,Ge,vt=l[11].t("JSON Preview")+"",Tt,cl,ke,ul,dl,Ke,G,Qe,gt=l[11].t("Save & Create")+"",Nt,fl,St,T,pl,bl;function wl(i,p){return i[2].meta.profile_image_url?zs:Rs}let Mt=wl(l),le=Mt(l),xe=tt(l[3].filter(ms)),j=[];for(let i=0;i<xe.length;i+=1)j[i]=is(ns(l,xe,i));function kl(i,p){return i[6]?Fs:qs}let At=kl(l),se=At(l),O=l[6]&&cs(l);function yl(i,p){return i[2].meta.suggestion_prompts===null?Ws:Js}let Pt=yl(l),ae=Pt(l),R=l[2].meta.suggestion_prompts!==null&&us(l),z=l[2].meta.suggestion_prompts&&ds(l),Le=tt(Object.keys(l[1])),V=[];for(let i=0;i<Le.length;i+=1)V[i]=ps(rs(l,Le,i));const Es=i=>et(V[i],1,1,()=>{V[i]=null});function El(i,p){return i[7]?Gs:Zs}let Ct=El(l),re=Ct(l),q=l[7]&&_s(l),J=l[8]&&hs();return{c(){e=u("div"),t=u("input"),a=w(),s=u("button"),r=u("div"),r.innerHTML=_,b=w(),y=u("div"),I=N(U),C=w(),v=u("form"),E=u("div"),D=u("div"),A=u("button"),le.c(),x=w(),$=u("div"),ee=u("div"),pe=u("div"),je=N(Ae),lt=N("*"),st=w(),Pe=u("div"),X=u("input"),at=w(),oe=u("div"),_e=u("div"),Re=N(Ce),rt=N("*"),ot=w(),Oe=u("div"),Y=u("input"),nt=w(),ne=u("div"),m=u("div"),Q=N(M),W=w(),ie=u("div"),H=u("select"),Z=u("option"),he=N(ce);for(let i=0;i<j.length;i+=1)j[i].c();it=w(),ue=u("div"),ye=u("div"),wt=N(ct),Gt=w(),ut=u("div"),de=u("input"),Kt=w(),Ee=u("div"),qe=u("div"),Fe=u("div"),yt=N(dt),Qt=w(),te=u("div"),Ie=u("div"),Je=u("div"),Et=N(ft),xt=w(),pt=u("div"),fe=u("textarea"),$t=w(),De=u("div"),We=u("div"),It=N(_t),el=w(),me=u("button"),se.c(),tl=w(),O&&O.c(),ll=w(),ve=u("div"),ge=u("div"),Ve=u("div"),Xe=u("div"),Dt=N(ht),sl=w(),be=u("button"),ae.c(),al=w(),R&&R.c(),rl=w(),z&&z.c(),ol=w(),Te=u("div"),Ye=u("div"),Ze=u("div"),Vt=N(mt),nl=w(),Be=u("div");for(let i=0;i<V.length;i+=1)V[i].c();il=w(),we=u("div"),Ne=u("div"),Ge=u("div"),Tt=N(vt),cl=w(),ke=u("button"),re.c(),ul=w(),q&&q.c(),dl=w(),Ke=u("div"),G=u("button"),Qe=u("div"),Nt=N(gt),fl=w(),J&&J.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var p=f(e);t=d(p,"INPUT",{type:!0,accept:!0}),a=k(p),s=d(p,"BUTTON",{class:!0});var g=f(s);r=d(g,"DIV",{class:!0,"data-svelte-h":!0}),bt(r)!=="svelte-1klo87r"&&(r.innerHTML=_),b=k(g),y=d(g,"DIV",{class:!0});var Se=f(y);I=S(Se,U),Se.forEach(c),g.forEach(c),C=k(p),v=d(p,"FORM",{class:!0});var L=f(v);E=d(L,"DIV",{class:!0});var Il=f(E);D=d(Il,"DIV",{class:!0});var Dl=f(D);A=d(Dl,"BUTTON",{class:!0,type:!0});var Vl=f(A);le.l(Vl),Vl.forEach(c),Dl.forEach(c),Il.forEach(c),x=k(L),$=d(L,"DIV",{class:!0});var Ot=f($);ee=d(Ot,"DIV",{class:!0});var Bt=f(ee);pe=d(Bt,"DIV",{class:!0});var _l=f(pe);je=S(_l,Ae),lt=S(_l,"*"),_l.forEach(c),st=k(Bt),Pe=d(Bt,"DIV",{});var Tl=f(Pe);X=d(Tl,"INPUT",{class:!0,placeholder:!0}),Tl.forEach(c),Bt.forEach(c),at=k(Ot),oe=d(Ot,"DIV",{class:!0});var Lt=f(oe);_e=d(Lt,"DIV",{class:!0});var hl=f(_e);Re=S(hl,Ce),rt=S(hl,"*"),hl.forEach(c),ot=k(Lt),Oe=d(Lt,"DIV",{});var Nl=f(Oe);Y=d(Nl,"INPUT",{class:!0,placeholder:!0}),Nl.forEach(c),Lt.forEach(c),Ot.forEach(c),nt=k(L),ne=d(L,"DIV",{class:!0});var Ut=f(ne);m=d(Ut,"DIV",{class:!0});var Sl=f(m);Q=S(Sl,M),Sl.forEach(c),W=k(Ut),ie=d(Ut,"DIV",{});var Ml=f(ie);H=d(Ml,"SELECT",{class:!0,placeholder:!0});var ml=f(H);Z=d(ml,"OPTION",{class:!0});var Al=f(Z);he=S(Al,ce),Al.forEach(c);for(let Ue=0;Ue<j.length;Ue+=1)j[Ue].l(ml);ml.forEach(c),Ml.forEach(c),Ut.forEach(c),it=k(L),ue=d(L,"DIV",{class:!0});var jt=f(ue);ye=d(jt,"DIV",{class:!0});var Pl=f(ye);wt=S(Pl,ct),Pl.forEach(c),Gt=k(jt),ut=d(jt,"DIV",{});var Cl=f(ut);de=d(Cl,"INPUT",{class:!0,placeholder:!0}),Cl.forEach(c),jt.forEach(c),Kt=k(L),Ee=d(L,"DIV",{class:!0});var Ht=f(Ee);qe=d(Ht,"DIV",{class:!0});var Ol=f(qe);Fe=d(Ol,"DIV",{class:!0});var Bl=f(Fe);yt=S(Bl,dt),Bl.forEach(c),Ol.forEach(c),Qt=k(Ht),te=d(Ht,"DIV",{class:!0});var $e=f(te);Ie=d($e,"DIV",{class:!0});var Rt=f(Ie);Je=d(Rt,"DIV",{class:!0});var Ll=f(Je);Et=S(Ll,ft),Ll.forEach(c),xt=k(Rt),pt=d(Rt,"DIV",{});var Ul=f(pt);fe=d(Ul,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),f(fe).forEach(c),Ul.forEach(c),Rt.forEach(c),$t=k($e),De=d($e,"DIV",{class:!0});var zt=f(De);We=d(zt,"DIV",{class:!0});var jl=f(We);It=S(jl,_t),jl.forEach(c),el=k(zt),me=d(zt,"BUTTON",{class:!0,type:!0});var Hl=f(me);se.l(Hl),Hl.forEach(c),zt.forEach(c),tl=k($e),O&&O.l($e),$e.forEach(c),Ht.forEach(c),ll=k(L),ve=d(L,"DIV",{class:!0});var qt=f(ve);ge=d(qt,"DIV",{class:!0});var Ft=f(ge);Ve=d(Ft,"DIV",{class:!0});var Jt=f(Ve);Xe=d(Jt,"DIV",{class:!0});var Rl=f(Xe);Dt=S(Rl,ht),Rl.forEach(c),sl=k(Jt),be=d(Jt,"BUTTON",{class:!0,type:!0});var zl=f(be);ae.l(zl),zl.forEach(c),Jt.forEach(c),al=k(Ft),R&&R.l(Ft),Ft.forEach(c),rl=k(qt),z&&z.l(qt),qt.forEach(c),ol=k(L),Te=d(L,"DIV",{class:!0});var Wt=f(Te);Ye=d(Wt,"DIV",{class:!0});var ql=f(Ye);Ze=d(ql,"DIV",{class:!0});var Fl=f(Ze);Vt=S(Fl,mt),Fl.forEach(c),ql.forEach(c),nl=k(Wt),Be=d(Wt,"DIV",{class:!0});var Jl=f(Be);for(let Ue=0;Ue<V.length;Ue+=1)V[Ue].l(Jl);Jl.forEach(c),Wt.forEach(c),il=k(L),we=d(L,"DIV",{class:!0});var Xt=f(we);Ne=d(Xt,"DIV",{class:!0});var Yt=f(Ne);Ge=d(Yt,"DIV",{class:!0});var Wl=f(Ge);Tt=S(Wl,vt),Wl.forEach(c),cl=k(Yt),ke=d(Yt,"BUTTON",{class:!0,type:!0});var Xl=f(ke);re.l(Xl),Xl.forEach(c),Yt.forEach(c),ul=k(Xt),q&&q.l(Xt),Xt.forEach(c),dl=k(L),Ke=d(L,"DIV",{class:!0});var Yl=f(Ke);G=d(Yl,"BUTTON",{class:!0,type:!0});var Zt=f(G);Qe=d(Zt,"DIV",{class:!0});var Zl=f(Qe);Nt=S(Zl,gt),Zl.forEach(c),fl=k(Zt),J&&J.l(Zt),Zt.forEach(c),Yl.forEach(c),L.forEach(c),p.forEach(c),this.h()},h(){n(t,"type","file"),t.hidden=!0,n(t,"accept","image/*"),n(r,"class","self-center"),n(y,"class","self-center font-medium text-sm"),n(s,"class","flex space-x-1"),n(A,"class",h=(l[2].meta.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),n(A,"type","button"),n(D,"class","self-center"),n(E,"class","flex justify-center my-4"),n(pe,"class","text-sm font-semibold mb-2"),n(X,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(X,"placeholder",He=l[11].t("Name your model")),X.required=!0,n(ee,"class","flex-1"),n(_e,"class","text-sm font-semibold mb-2"),n(Y,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(Y,"placeholder",ze=l[11].t("Add a model id")),Y.required=!0,n(oe,"class","flex-1"),n($,"class","my-2 flex space-x-2"),n(m,"class","text-sm font-semibold mb-2"),Z.__value=null,K(Z,Z.__value),n(Z,"class","text-gray-900"),n(H,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(H,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),H.required=!0,l[2].base_model_id===void 0&&Ds(()=>l[22].call(H)),n(ne,"class","my-2"),n(ye,"class","text-sm font-semibold mb-2"),n(de,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(de,"placeholder",kt=l[11].t("Add a short description about what this model does")),n(ue,"class","my-2"),n(Fe,"class","self-center text-sm font-semibold"),n(qe,"class","flex w-full justify-between"),n(Je,"class","text-xs font-semibold mb-2"),n(fe,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),n(fe,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),n(fe,"rows","4"),n(Ie,"class","my-1"),n(We,"class","self-center text-xs font-semibold"),n(me,"class","p-1 px-3 text-xs flex rounded transition"),n(me,"type","button"),n(De,"class","flex w-full justify-between"),n(te,"class","mt-2"),n(Ee,"class","my-2"),n(Xe,"class","self-center text-sm font-semibold"),n(be,"class","p-1 text-xs flex rounded transition"),n(be,"type","button"),n(Ve,"class","flex w-full justify-between items-center"),n(ge,"class","flex w-full justify-between items-center"),n(ve,"class","my-2"),n(Ze,"class","self-center text-sm font-semibold"),n(Ye,"class","flex w-full justify-between"),n(Be,"class","flex flex-col"),n(Te,"class","my-2"),n(Ge,"class","self-center text-sm font-semibold"),n(ke,"class","p-1 px-3 text-xs flex rounded transition"),n(ke,"type","button"),n(Ne,"class","flex w-full justify-between mb-2"),n(we,"class","my-2 text-gray-500"),n(Qe,"class","self-center font-medium"),n(G,"class",St="text-sm px-3 py-2 transition rounded-xl "+(l[8]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),n(G,"type","submit"),G.disabled=l[8],n(Ke,"class","my-2 flex justify-end mb-20"),n(v,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),n(e,"class","w-full max-h-full")},m(i,p){B(i,e,p),o(e,t),l[15](t),o(e,a),o(e,s),o(s,r),o(s,b),o(s,y),o(y,I),o(e,C),o(e,v),o(v,E),o(E,D),o(D,A),le.m(A,null),o(v,x),o(v,$),o($,ee),o(ee,pe),o(pe,je),o(pe,lt),o(ee,st),o(ee,Pe),o(Pe,X),K(X,l[0]),o($,at),o($,oe),o(oe,_e),o(_e,Re),o(_e,rt),o(oe,ot),o(oe,Oe),o(Oe,Y),K(Y,l[9]),o(v,nt),o(v,ne),o(ne,m),o(m,Q),o(ne,W),o(ne,ie),o(ie,H),o(H,Z),o(Z,he);for(let g=0;g<j.length;g+=1)j[g]&&j[g].m(H,null);Gl(H,l[2].base_model_id,!0),o(v,it),o(v,ue),o(ue,ye),o(ye,wt),o(ue,Gt),o(ue,ut),o(ut,de),K(de,l[2].meta.description),o(v,Kt),o(v,Ee),o(Ee,qe),o(qe,Fe),o(Fe,yt),o(Ee,Qt),o(Ee,te),o(te,Ie),o(Ie,Je),o(Je,Et),o(Ie,xt),o(Ie,pt),o(pt,fe),K(fe,l[2].params.system),o(te,$t),o(te,De),o(De,We),o(We,It),o(De,el),o(De,me),se.m(me,null),o(te,tl),O&&O.m(te,null),o(v,ll),o(v,ve),o(ve,ge),o(ge,Ve),o(Ve,Xe),o(Xe,Dt),o(Ve,sl),o(Ve,be),ae.m(be,null),o(ge,al),R&&R.m(ge,null),o(ve,rl),z&&z.m(ve,null),o(v,ol),o(v,Te),o(Te,Ye),o(Ye,Ze),o(Ze,Vt),o(Te,nl),o(Te,Be);for(let g=0;g<V.length;g+=1)V[g]&&V[g].m(Be,null);o(v,il),o(v,we),o(we,Ne),o(Ne,Ge),o(Ge,Tt),o(Ne,cl),o(Ne,ke),re.m(ke,null),o(we,ul),q&&q.m(we,null),o(v,dl),o(v,Ke),o(Ke,G),o(G,Qe),o(Qe,Nt),o(G,fl),J&&J.m(G,null),T=!0,pl||(bl=[F(t,"change",l[16]),F(t,"change",l[17]),F(s,"click",l[18]),F(A,"click",l[19]),F(X,"input",l[20]),F(Y,"input",l[21]),F(H,"change",l[22]),F(de,"input",l[23]),F(fe,"input",l[24]),F(me,"click",l[25]),F(be,"click",l[28]),F(ke,"click",l[33]),F(v,"submit",Vs(l[34]))],pl=!0)},p(i,p){if((!T||p[0]&2048)&&U!==(U=i[11].t("Back")+"")&&P(I,U),Mt===(Mt=wl(i))&&le?le.p(i,p):(le.d(1),le=Mt(i),le&&(le.c(),le.m(A,null))),(!T||p[0]&12&&h!==(h=(i[2].meta.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"))&&n(A,"class",h),(!T||p[0]&2048)&&Ae!==(Ae=i[11].t("Name")+"")&&P(je,Ae),(!T||p[0]&2048&&He!==(He=i[11].t("Name your model")))&&n(X,"placeholder",He),p[0]&1&&X.value!==i[0]&&K(X,i[0]),(!T||p[0]&2048)&&Ce!==(Ce=i[11].t("Model ID")+"")&&P(Re,Ce),(!T||p[0]&2048&&ze!==(ze=i[11].t("Add a model id")))&&n(Y,"placeholder",ze),p[0]&512&&Y.value!==i[9]&&K(Y,i[9]),(!T||p[0]&2048)&&M!==(M=i[11].t("Base Model (From)")+"")&&P(Q,M),(!T||p[0]&2048)&&ce!==(ce=i[11].t("Select a base model")+"")&&P(he,ce),p[0]&8){xe=tt(i[3].filter(ms));let g;for(g=0;g<xe.length;g+=1){const Se=ns(i,xe,g);j[g]?j[g].p(Se,p):(j[g]=is(Se),j[g].c(),j[g].m(H,null))}for(;g<j.length;g+=1)j[g].d(1);j.length=xe.length}if(p[0]&12&&Gl(H,i[2].base_model_id),(!T||p[0]&2048)&&ct!==(ct=i[11].t("Description")+"")&&P(wt,ct),(!T||p[0]&2048&&kt!==(kt=i[11].t("Add a short description about what this model does")))&&n(de,"placeholder",kt),p[0]&12&&de.value!==i[2].meta.description&&K(de,i[2].meta.description),(!T||p[0]&2048)&&dt!==(dt=i[11].t("Model Params")+"")&&P(yt,dt),(!T||p[0]&2048)&&ft!==(ft=i[11].t("System Prompt")+"")&&P(Et,ft),p[0]&12&&K(fe,i[2].params.system),(!T||p[0]&2048)&&_t!==(_t=i[11].t("Advanced Params")+"")&&P(It,_t),At===(At=kl(i))&&se?se.p(i,p):(se.d(1),se=At(i),se&&(se.c(),se.m(me,null))),i[6]?O?(O.p(i,p),p[0]&64&&Me(O,1)):(O=cs(i),O.c(),Me(O,1),O.m(te,null)):O&&(ls(),et(O,1,1,()=>{O=null}),ts()),(!T||p[0]&2048)&&ht!==(ht=i[11].t("Prompt suggestions")+"")&&P(Dt,ht),Pt===(Pt=yl(i))&&ae?ae.p(i,p):(ae.d(1),ae=Pt(i),ae&&(ae.c(),ae.m(be,null))),i[2].meta.suggestion_prompts!==null?R?R.p(i,p):(R=us(i),R.c(),R.m(ge,null)):R&&(R.d(1),R=null),i[2].meta.suggestion_prompts?z?z.p(i,p):(z=ds(i),z.c(),z.m(ve,null)):z&&(z.d(1),z=null),(!T||p[0]&2048)&&mt!==(mt=i[11].t("Capabilities")+"")&&P(Vt,mt),p[0]&2050){Le=tt(Object.keys(i[1]));let g;for(g=0;g<Le.length;g+=1){const Se=rs(i,Le,g);V[g]?(V[g].p(Se,p),Me(V[g],1)):(V[g]=ps(Se),V[g].c(),Me(V[g],1),V[g].m(Be,null))}for(ls(),g=Le.length;g<V.length;g+=1)Es(g);ts()}(!T||p[0]&2048)&&vt!==(vt=i[11].t("JSON Preview")+"")&&P(Tt,vt),Ct===(Ct=El(i))&&re?re.p(i,p):(re.d(1),re=Ct(i),re&&(re.c(),re.m(ke,null))),i[7]?q?q.p(i,p):(q=_s(i),q.c(),q.m(we,null)):q&&(q.d(1),q=null),(!T||p[0]&2048)&&gt!==(gt=i[11].t("Save & Create")+"")&&P(Nt,gt),i[8]?J||(J=hs(),J.c(),J.m(G,null)):J&&(J.d(1),J=null),(!T||p[0]&256&&St!==(St="text-sm px-3 py-2 transition rounded-xl "+(i[8]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&n(G,"class",St),(!T||p[0]&256)&&(G.disabled=i[8])},i(i){if(!T){Me(O);for(let p=0;p<Le.length;p+=1)Me(V[p]);T=!0}},o(i){et(O),V=V.filter(Boolean);for(let p=0;p<V.length;p+=1)et(V[p]);T=!1},d(i){i&&c(e),l[15](null),le.d(),vl(j,i),se.d(),O&&O.d(),ae.d(),R&&R.d(),z&&z.d(),vl(V,i),re.d(),q&&q.d(),J&&J.d(),pl=!1,vs(bl)}}}const ms=l=>!(l!=null&&l.preset);function Qs(l,e,t){let a,s;Kl(l,as,m=>t(3,a=m));const r=Ts("i18n");Kl(l,r,m=>t(11,s=m));let _,b,y=!1,U=!1,I=!1,C=!1,v="",E="",D={},A={vision:!0},h={id:"",base_model_id:null,name:"",meta:{profile_image_url:null,description:"",suggestion_prompts:[{content:""}]},params:{system:""}},x=null;const $=async()=>{if(t(8,I=!0),t(2,h.id=v,h),t(2,h.name=E,h),t(2,h.meta.capabilities=A,h),t(2,h.params.stop=D.stop?D.stop.split(",").filter(m=>m.trim()):null,h),a.find(m=>m.id===h.id))return ss.error(`Error: A model with the ID '${h.id}' already exists. Please select a different ID to proceed.`),t(8,I=!1),C=!1,C;h&&await Ls(localStorage.token,{...h,meta:{...h.meta,profile_image_url:h.meta.profile_image_url??"/favicon.png",suggestion_prompts:h.meta.suggestion_prompts?h.meta.suggestion_prompts.filter(M=>M.content!==""):null},params:{...h.params,...D}})&&(ss.success("Model created successfully!"),await Bs("/workspace/models"),await as.set(await Us(localStorage.token))),t(8,I=!1),C=!1},ee=async m=>{var M,Q,W;t(0,E=m.name),await Ms(),t(9,v=m.id),t(10,D={...D,...(M=m==null?void 0:m.info)==null?void 0:M.params}),t(10,D.stop=D!=null&&D.stop?((D==null?void 0:D.stop)??[]).join(","):null,D),t(1,A={...A,...((W=(Q=m==null?void 0:m.info)==null?void 0:Q.meta)==null?void 0:W.capabilities)??{}}),t(2,h={...h,...m.info})};Ns(async()=>{if(window.addEventListener("message",async m=>{if(!["https://ollamahub.com","https://www.ollamahub.com","https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(m.origin))return;const M=JSON.parse(m.data);console.log(M),ee(M)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model){const m=JSON.parse(sessionStorage.model);sessionStorage.removeItem("model"),console.log(m),ee(m)}});function pe(m){gs[m?"unshift":"push"](()=>{_=m,t(4,_)})}function Ae(){b=this.files,t(5,b)}const je=()=>{let m=new FileReader;m.onload=M=>{let Q=`${M.target.result}`;const W=new Image;W.src=Q,W.onload=function(){const ie=document.createElement("canvas"),H=ie.getContext("2d"),Z=W.width/W.height;let ce,he;Z>1?(ce=100*Z,he=100):(ce=100,he=100/Z),ie.width=100,ie.height=100;const it=(100-ce)/2,ue=(100-he)/2;H.drawImage(W,it,ue,ce,he);const ye=ie.toDataURL("image/jpeg");t(2,h.meta.profile_image_url=ye,h),t(5,b=null)}},b&&b.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(b[0].type)?m.readAsDataURL(b[0]):(console.log(`Unsupported File Type '${b[0].type}'.`),t(5,b=null))},lt=()=>{history.back()},st=()=>{_.click()};function Pe(){E=this.value,t(0,E)}function X(){v=this.value,t(9,v),t(0,E)}function He(){h.base_model_id=As(this),t(2,h)}function at(){h.meta.description=this.value,t(2,h)}function oe(){h.params.system=this.value,t(2,h)}const _e=()=>{t(6,y=!y)};function Ce(m){D=m,t(10,D)}const Re=m=>{t(2,h.params={...h.params,...D},h)},rt=()=>{h.meta.suggestion_prompts===null?t(2,h.meta.suggestion_prompts=[{content:""}],h):t(2,h.meta.suggestion_prompts=null,h)},ot=()=>{(h.meta.suggestion_prompts.length===0||h.meta.suggestion_prompts.at(-1).content!=="")&&t(2,h.meta.suggestion_prompts=[...h.meta.suggestion_prompts,{content:""}],h)};function Oe(m,M){m[M].content=this.value,t(2,h)}const Y=m=>{h.meta.suggestion_prompts.splice(m,1),t(2,h)},ze=(m,M)=>{t(1,A[m]=M.detail==="checked",A)},nt=()=>{t(7,U=!U)},ne=()=>{$()};return l.$$.update=()=>{var m,M,Q;l.$$.dirty[0]&1&&E&&t(9,v=E.replace(/\s+/g,"-").toLowerCase()),l.$$.dirty[0]&16398&&(t(14,x=a.find(W=>W.id===h.base_model_id)),console.log(x),x&&(x.owned_by==="openai"?t(1,A.usage=((Q=(M=(m=x.info)==null?void 0:m.meta)==null?void 0:M.capabilities)==null?void 0:Q.usage)??!1,A):delete A.usage,t(1,A),t(3,a),t(2,h),t(14,x)))},[E,A,h,a,_,b,y,U,I,v,D,s,r,$,x,pe,Ae,je,lt,st,Pe,X,He,at,oe,_e,Ce,Re,rt,ot,Oe,Y,ze,nt,ne]}class ia extends Ps{constructor(e){super(),Cs(this,e,Qs,Ks,Is,{},null,[-1,-1])}}export{ia as component};
//# sourceMappingURL=11.2c6c1307.js.map
