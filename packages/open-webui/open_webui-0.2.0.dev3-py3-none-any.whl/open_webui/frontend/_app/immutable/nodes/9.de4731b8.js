import{s as ot,p as ht,X as It,P as mt,w as lt,o as yt,f as u,l as P,a as I,g as d,h as m,m as j,d as c,c as x,R as Ce,j as r,i as le,r as a,Q as pe,u as re,O as Tt,n as Y,v as $e,U as ml,V as Ot,C as st,T as Ft,e as Nt,K as jt,z as Oe,A as Ne,$ as vt,M as xl}from"../chunks/scheduler.bc5a4ea8.js";import{S as ut,i as dt,f as xt,b as ze,d as qe,m as Fe,a as be,t as Ee,e as Ge,g as Ct,c as Bt}from"../chunks/index.5e522d2c.js";import{g as Vl}from"../chunks/globals.7f7f1b26.js";import{e as Vt}from"../chunks/each.eda84b85.js";import{a as ye}from"../chunks/Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{f as Tl}from"../chunks/FileSaver.min.898eb36f.js";import{n as Je,e as Ml,S as pl,r as gl,W as Sl}from"../chunks/index.a679fc74.js";import{u as Hl,g as nt,t as Gt,c as Pt,d as Qt}from"../chunks/index.67900b20.js";import{g as _l,s as Ll,c as Al,d as Cl,e as Bl,f as bl,h as Ol,i as Nl,j as wl,k as kl,u as yl,A as Ul}from"../chunks/AddFilesPlaceholder.3f26eb89.js";import{t as El}from"../chunks/index.9a95918f.js";import{C as Dl}from"../chunks/Checkbox.f3d4e893.js";import{M as Zt}from"../chunks/dayjs.min.8884afd3.js";import{T as Il}from"../chunks/Tags.220b3131.js";import"../chunks/sha256.8dba905a.js";function Pl(s){let e,t,l,o=s[3].t("Edit Doc")+"",n,i,f,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y,E,S=s[3].t("Name Tag")+"",V,L,D,M,H="#",J,W,F,se,K,B=s[3].t("Title")+"",ae,oe,R,$,ue,Z,G,N=s[3].t("Tags")+"",Q,ee,z,T,w,A,te=s[3].t("Save")+"",U,q,fe,ie;return z=new Il({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=u("div"),t=u("div"),l=u("div"),n=P(o),i=I(),f=u("button"),f.innerHTML=h,g=I(),v=u("div"),p=u("div"),_=u("form"),b=u("div"),y=u("div"),E=u("div"),V=P(S),L=I(),D=u("div"),M=u("div"),M.textContent=H,J=I(),W=u("input"),F=I(),se=u("div"),K=u("div"),ae=P(B),oe=I(),R=u("div"),$=u("input"),ue=I(),Z=u("div"),G=u("div"),Q=P(N),ee=I(),ze(z.$$.fragment),T=I(),w=u("div"),A=u("button"),U=P(te),this.h()},l(X){e=d(X,"DIV",{});var ne=m(e);t=d(ne,"DIV",{class:!0});var O=m(t);l=d(O,"DIV",{class:!0});var ce=m(l);n=j(ce,o),ce.forEach(c),i=x(O),f=d(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(f)!=="svelte-745w2y"&&(f.innerHTML=h),O.forEach(c),g=x(ne),v=d(ne,"DIV",{class:!0});var he=m(v);p=d(he,"DIV",{class:!0});var Ve=m(p);_=d(Ve,"FORM",{class:!0});var we=m(_);b=d(we,"DIV",{class:!0});var ke=m(b);y=d(ke,"DIV",{class:!0});var ge=m(y);E=d(ge,"DIV",{class:!0});var He=m(E);V=j(He,S),He.forEach(c),L=x(ge),D=d(ge,"DIV",{class:!0});var de=m(D);M=d(de,"DIV",{class:!0,"data-svelte-h":!0}),Ce(M)!=="svelte-113b805"&&(M.textContent=H),J=x(de),W=d(de,"INPUT",{class:!0,type:!0,autocomplete:!0}),de.forEach(c),ge.forEach(c),F=x(ke),se=d(ke,"DIV",{class:!0});var ve=m(se);K=d(ve,"DIV",{class:!0});var Le=m(K);ae=j(Le,B),Le.forEach(c),oe=x(ve),R=d(ve,"DIV",{class:!0});var je=m(R);$=d(je,"INPUT",{class:!0,type:!0,autocomplete:!0}),je.forEach(c),ve.forEach(c),ue=x(ke),Z=d(ke,"DIV",{class:!0});var Te=m(Z);G=d(Te,"DIV",{class:!0});var Me=m(G);Q=j(Me,N),Me.forEach(c),ee=x(Te),qe(z.$$.fragment,Te),Te.forEach(c),ke.forEach(c),T=x(we),w=d(we,"DIV",{class:!0});var Be=m(w);A=d(Be,"BUTTON",{class:!0,type:!0});var Ue=m(A);U=j(Ue,te),Ue.forEach(c),Be.forEach(c),we.forEach(c),Ve.forEach(c),he.forEach(c),ne.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(f,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(E,"class","mb-1 text-xs text-gray-500"),r(M,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(W,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(W,"type","text"),r(W,"autocomplete","off"),W.required=!0,r(D,"class","flex flex-1"),r(y,"class","flex flex-col w-full"),r(K,"class","mb-1 text-xs text-gray-500"),r($,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r($,"type","text"),r($,"autocomplete","off"),$.required=!0,r(R,"class","flex-1"),r(se,"class","flex flex-col w-full"),r(G,"class","mb-2 text-xs text-gray-500"),r(Z,"class","flex flex-col w-full"),r(b,"class","flex flex-col space-y-1.5"),r(A,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(A,"type","submit"),r(w,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,ne){le(X,e,ne),a(e,t),a(t,l),a(l,n),a(t,i),a(t,f),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(b,y),a(y,E),a(E,V),a(y,L),a(y,D),a(D,M),a(D,J),a(D,W),pe(W,s[2].name),a(b,F),a(b,se),a(se,K),a(K,ae),a(se,oe),a(se,R),a(R,$),pe($,s[2].title),a(b,ue),a(b,Z),a(Z,G),a(G,Q),a(Z,ee),Fe(z,Z,null),a(_,T),a(_,w),a(w,A),a(A,U),q=!0,fe||(ie=[re(f,"click",s[9]),re(W,"input",s[10]),re($,"input",s[11]),re(_,"submit",Tt(s[12]))],fe=!0)},p(X,ne){(!q||ne&8)&&o!==(o=X[3].t("Edit Doc")+"")&&Y(n,o),(!q||ne&8)&&S!==(S=X[3].t("Name Tag")+"")&&Y(V,S),ne&4&&W.value!==X[2].name&&pe(W,X[2].name),(!q||ne&8)&&B!==(B=X[3].t("Title")+"")&&Y(ae,B),ne&4&&$.value!==X[2].title&&pe($,X[2].title),(!q||ne&8)&&N!==(N=X[3].t("Tags")+"")&&Y(Q,N);const O={};ne&2&&(O.tags=X[1]),z.$set(O),(!q||ne&8)&&te!==(te=X[3].t("Save")+"")&&Y(U,te)},i(X){q||(be(z.$$.fragment,X),q=!0)},o(X){Ee(z.$$.fragment,X),q=!1},d(X){X&&c(e),Ge(z),fe=!1,$e(ie)}}}function jl(s){let e,t,l;function o(i){s[13](i)}let n={size:"sm",$$slots:{default:[Pl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new Zt({props:n}),ht.push(()=>xt(e,"show",o)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,f){Fe(e,i,f),l=!0},p(i,[f]){const h={};f&16399&&(h.$$scope={dirty:f,ctx:i}),!t&&f&1&&(t=!0,h.show=i[0],It(()=>t=!1)),e.$set(h)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function Zl(s,e,t){let l;const o=mt("i18n");lt(s,o,V=>t(3,l=V));let{show:n=!1}=e,{selectedDoc:i}=e,f=[],h={name:"",title:"",content:null};const g=async()=>{await Hl(localStorage.token,i.name,{title:h.title,name:h.name}).catch(L=>{ye.error(L)})&&(t(0,n=!1),Je.set(await nt(localStorage.token)))},v=async V=>{!f.find(L=>L.name===V)&&V!==""?(t(1,f=[...f,{name:V}]),await Gt(localStorage.token,h.name,{name:h.name,tags:f}),Je.set(await nt(localStorage.token))):console.log("tag already exists")},p=async V=>{t(1,f=f.filter(L=>L.name!==V)),await Gt(localStorage.token,h.name,{name:h.name,tags:f}),Je.set(await nt(localStorage.token))};yt(()=>{var V;i&&(t(2,h=JSON.parse(JSON.stringify(i))),t(1,f=((V=h==null?void 0:h.content)==null?void 0:V.tags)??[]))});const _=()=>{t(0,n=!1)};function b(){h.name=this.value,t(2,h)}function y(){h.title=this.value,t(2,h)}const E=()=>{g()};function S(V){n=V,t(0,n)}return s.$$set=V=>{"show"in V&&t(0,n=V.show),"selectedDoc"in V&&t(8,i=V.selectedDoc)},[n,f,h,l,o,g,v,p,i,_,b,y,E,S]}class Rl extends ut{constructor(e){super(),dt(this,e,Zl,jl,ot,{show:0,selectedDoc:8})}}function Wt(s,e,t){const l=s.slice();return l[36]=e[t],l}function Yt(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,o){le(l,e,o)},d(l){l&&c(e)}}}function Kt(s){let e,t,l,o,n,i,f,h;return{c(){e=u("div"),t=u("input"),o=I(),n=u("input"),this.h()},l(g){e=d(g,"DIV",{class:!0});var v=m(e);t=d(v,"INPUT",{class:!0,placeholder:!0}),o=x(v),n=d(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(c),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=s[11].t("API Base URL")),t.required=!0,r(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(n,"placeholder",i=s[11].t("API Key")),n.required=!0,r(e,"class","my-0.5 flex gap-2")},m(g,v){le(g,e,v),a(e,t),pe(t,s[9]),a(e,o),a(e,n),pe(n,s[8]),f||(h=[re(t,"input",s[22]),re(n,"input",s[23])],f=!0)},p(g,v){v[0]&2048&&l!==(l=g[11].t("API Base URL"))&&r(t,"placeholder",l),v[0]&512&&t.value!==g[9]&&pe(t,g[9]),v[0]&2048&&i!==(i=g[11].t("API Key"))&&r(n,"placeholder",i),v[0]&256&&n.value!==g[8]&&pe(n,g[8])},d(g){g&&c(e),f=!1,$e(h)}}}function zl(s){let e,t=s[11].t("Off")+"",l;return{c(){e=u("span"),l=P(t),this.h()},l(o){e=d(o,"SPAN",{class:!0});var n=m(e);l=j(n,t),n.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,n){le(o,e,n),a(e,l)},p(o,n){n[0]&2048&&t!==(t=o[11].t("Off")+"")&&Y(l,t)},d(o){o&&c(e)}}}function ql(s){let e,t=s[11].t("On")+"",l;return{c(){e=u("span"),l=P(t),this.h()},l(o){e=d(o,"SPAN",{class:!0});var n=m(e);l=j(n,t),n.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,n){le(o,e,n),a(e,l)},p(o,n){n[0]&2048&&t!==(t=o[11].t("On")+"")&&Y(l,t)},d(o){o&&c(e)}}}function Fl(s){let e,t,l,o,n,i,f,h=s[5]===""&&Xt(s);return{c(){e=u("div"),t=u("div"),l=u("input"),n=I(),h&&h.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var v=m(e);t=d(v,"DIV",{class:!0});var p=m(t);l=d(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),n=x(v),h&&h.l(v),v.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=s[11].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(g,v){le(g,e,v),a(e,t),a(t,l),pe(l,s[6]),a(e,n),h&&h.m(e,null),i||(f=re(l,"input",s[26]),i=!0)},p(g,v){v[0]&6208&&o!==(o=g[11].t("Set embedding model (e.g. {{model}})",{model:g[6].slice(-40)}))&&r(l,"placeholder",o),v[0]&4160&&l.value!==g[6]&&pe(l,g[6]),g[5]===""?h?h.p(g,v):(h=Xt(g),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(g){g&&c(e),h&&h.d(),i=!1,f()}}}function Gl(s){let e,t,l,o,n,i,f,h=!s[6]&&Jt(s),g=Vt(s[12].filter(tl)),v=[];for(let p=0;p<g.length;p+=1)v[p]=$t(Wt(s,g,p));return{c(){e=u("div"),t=u("div"),l=u("select"),h&&h.c(),o=Nt();for(let p=0;p<v.length;p+=1)v[p].c();this.h()},l(p){e=d(p,"DIV",{class:!0});var _=m(e);t=d(_,"DIV",{class:!0});var b=m(t);l=d(b,"SELECT",{class:!0,placeholder:!0});var y=m(l);h&&h.l(y),o=Nt();for(let E=0;E<v.length;E+=1)v[E].l(y);y.forEach(c),b.forEach(c),_.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",n=s[11].t("Select a model")),l.required=!0,s[6]===void 0&&ml(()=>s[25].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(p,_){le(p,e,_),a(e,t),a(t,l),h&&h.m(l,null),a(l,o);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(l,null);Ot(l,s[6],!0),i||(f=re(l,"change",s[25]),i=!0)},p(p,_){if(p[6]?h&&(h.d(1),h=null):h?h.p(p,_):(h=Jt(p),h.c(),h.m(l,o)),_[0]&4096){g=Vt(p[12].filter(tl));let b;for(b=0;b<g.length;b+=1){const y=Wt(p,g,b);v[b]?v[b].p(y,_):(v[b]=$t(y),v[b].c(),v[b].m(l,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}_[0]&2048&&n!==(n=p[11].t("Select a model"))&&r(l,"placeholder",n),_[0]&4160&&Ot(l,p[6])},d(p){p&&c(e),h&&h.d(),jt(v,p),i=!1,f()}}}function Xt(s){let e,t,l;function o(f,h){return f[2]?Wl:Ql}let n=o(s),i=n(s);return{c(){e=u("button"),i.c(),this.h()},l(f){e=d(f,"BUTTON",{class:!0});var h=m(e);i.l(h),h.forEach(c),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(f,h){le(f,e,h),i.m(e,null),t||(l=re(e,"click",s[27]),t=!0)},p(f,h){n!==(n=o(f))&&(i.d(1),i=n(f),i&&(i.c(),i.m(e,null))),h[0]&4&&(e.disabled=f[2])},d(f){f&&c(e),i.d(),t=!1,l()}}}function Ql(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Ne(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=m(e);t=Ne(n,"path",{d:!0}),m(t).forEach(c),l=Ne(n,"path",{d:!0}),m(l).forEach(c),n.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,n){le(o,e,n),a(e,t),a(e,l)},d(o){o&&c(e)}}}function Wl(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){le(l,e,o)},d(l){l&&c(e)}}}function Jt(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=u("option"),l=P(t),this.h()},l(o){e=d(o,"OPTION",{});var n=m(e);l=j(n,t),n.forEach(c),this.h()},h(){e.__value="",pe(e,e.__value),e.disabled=!0,e.selected=!0},m(o,n){le(o,e,n),a(e,l)},p(o,n){n[0]&2048&&t!==(t=o[11].t("Select a model")+"")&&Y(l,t)},d(o){o&&c(e)}}}function $t(s){let e,t=s[36].name+" ("+(s[36].size/1073741824).toFixed(1)+" GB)",l,o;return{c(){e=u("option"),l=P(t),this.h()},l(n){e=d(n,"OPTION",{class:!0});var i=m(e);l=j(i,t),i.forEach(c),this.h()},h(){e.__value=o=s[36].name,pe(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,i){le(n,e,i),a(e,l)},p(n,i){i[0]&4096&&t!==(t=n[36].name+" ("+(n[36].size/1024**3).toFixed(1)+" GB)")&&Y(l,t),i[0]&4096&&o!==(o=n[36].name)&&(e.__value=o,pe(e,e.__value))},d(n){n&&c(e)}}}function el(s){let e,t,l=s[11].t("Reranking Model")+"",o,n,i,f,h,g,v,p,_,b;function y(V,L){return V[3]?Kl:Yl}let E=y(s),S=E(s);return{c(){e=u("div"),t=u("div"),o=P(l),n=I(),i=u("div"),f=u("div"),h=u("input"),v=I(),p=u("button"),S.c(),this.h()},l(V){e=d(V,"DIV",{class:!0});var L=m(e);t=d(L,"DIV",{class:!0});var D=m(t);o=j(D,l),D.forEach(c),n=x(L),i=d(L,"DIV",{class:!0});var M=m(i);f=d(M,"DIV",{class:!0});var H=m(f);h=d(H,"INPUT",{class:!0,placeholder:!0}),H.forEach(c),v=x(M),p=d(M,"BUTTON",{class:!0});var J=m(p);S.l(J),J.forEach(c),M.forEach(c),L.forEach(c),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(h,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(h,"placeholder",g=s[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(f,"class","flex-1 mr-2"),r(p,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[3],r(i,"class","flex w-full"),r(e,"class","")},m(V,L){le(V,e,L),a(e,t),a(t,o),a(e,n),a(e,i),a(i,f),a(f,h),pe(h,s[7]),a(i,v),a(i,p),S.m(p,null),_||(b=[re(h,"input",s[28]),re(p,"click",s[29])],_=!0)},p(V,L){L[0]&2048&&l!==(l=V[11].t("Reranking Model")+"")&&Y(o,l),L[0]&2048&&g!==(g=V[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(h,"placeholder",g),L[0]&128&&h.value!==V[7]&&pe(h,V[7]),E!==(E=y(V))&&(S.d(1),S=E(V),S&&(S.c(),S.m(p,null))),L[0]&8&&(p.disabled=V[3])},d(V){V&&c(e),S.d(),_=!1,$e(b)}}}function Yl(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Ne(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=m(e);t=Ne(n,"path",{d:!0}),m(t).forEach(c),l=Ne(n,"path",{d:!0}),m(l).forEach(c),n.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(o,n){le(o,e,n),a(e,t),a(e,l)},d(o){o&&c(e)}}}function Kl(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,o){le(l,e,o)},d(l){l&&c(e)}}}function Xl(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',o,n,i=s[11].t("Reset Vector Storage")+"",f,h,g;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,o=I(),n=u("div"),f=P(i),this.h()},l(v){e=d(v,"BUTTON",{class:!0});var p=m(e);t=d(p,"DIV",{class:!0,"data-svelte-h":!0}),Ce(t)!=="svelte-16tyzd9"&&(t.innerHTML=l),o=x(p),n=d(p,"DIV",{class:!0});var _=m(n);f=j(_,i),_.forEach(c),p.forEach(c),this.h()},h(){r(t,"class","self-center mr-3"),r(n,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(v,p){le(v,e,p),a(e,t),a(e,o),a(e,n),a(n,f),h||(g=re(e,"click",s[32]),h=!0)},p(v,p){p[0]&2048&&i!==(i=v[11].t("Reset Vector Storage")+"")&&Y(f,i)},d(v){v&&c(e),h=!1,g()}}}function Jl(s){let e,t,l,o,n,i,f,h=s[11].t("Are you sure?")+"",g,v,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',y,E,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,L;return{c(){e=u("div"),t=u("div"),l=Oe("svg"),o=Oe("path"),n=Oe("path"),i=I(),f=u("span"),g=P(h),v=I(),p=u("div"),_=u("button"),_.innerHTML=b,y=I(),E=u("button"),E.innerHTML=S,this.h()},l(D){e=d(D,"DIV",{class:!0});var M=m(e);t=d(M,"DIV",{class:!0});var H=m(t);l=Ne(H,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var J=m(l);o=Ne(J,"path",{d:!0}),m(o).forEach(c),n=Ne(J,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(n).forEach(c),J.forEach(c),i=x(H),f=d(H,"SPAN",{});var W=m(f);g=j(W,h),W.forEach(c),H.forEach(c),v=x(M),p=d(M,"DIV",{class:!0});var F=m(p);_=d(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(_)!=="svelte-utedoe"&&(_.innerHTML=b),y=x(F),E=d(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(E)!=="svelte-x16t1b"&&(E.innerHTML=S),F.forEach(c),M.forEach(c),this.h()},h(){r(o,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),r(n,"fill-rule","evenodd"),r(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),r(n,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(_,"class","hover:text-white transition"),r(E,"class","hover:text-white transition"),r(p,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,M){le(D,e,M),a(e,t),a(t,l),a(l,o),a(l,n),a(t,i),a(t,f),a(f,g),a(e,v),a(e,p),a(p,_),a(p,y),a(p,E),V||(L=[re(_,"click",s[30]),re(E,"click",s[31])],V=!0)},p(D,M){M[0]&2048&&h!==(h=D[11].t("Are you sure?")+"")&&Y(g,h)},d(D){D&&c(e),V=!1,$e(L)}}}function $l(s){let e,t,l,o,n=s[11].t("General Settings")+"",i,f,h,g,v=s[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",p,_,b,y,E=s[11].t("Scan")+"",S,V,L,D,M,H,J=s[11].t("Embedding Model Engine")+"",W,F,se,K,B,ae=s[11].t("Default (SentenceTransformers)")+"",oe,R,$=s[11].t("Ollama")+"",ue,Z,G=s[11].t("OpenAI")+"",N,Q,ee,z,T,w=s[11].t("Hybrid Search")+"",A,te,U,q,fe,ie,X,ne,O,ce,he=s[11].t("Embedding Model")+"",Ve,we,ke,ge,He=s[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",de,ve,Le,je,Te,Me,Be,Ue,We=s[11].t("Save")+"",Qe,et,Ze,xe=s[1]&&Yt(),Se=s[5]==="openai"&&Kt(s);function De(k,C){return k[10].hybrid===!0?ql:zl}let Re=De(s),Ke=Re(s);function Mt(k,C){return k[5]==="ollama"?Gl:Fl}let Et=Mt(s),Ye=Et(s),me=s[10].hybrid===!0&&el(s);function at(k,C){return k[4]?Jl:Xl}let _e=at(s),Xe=_e(s);return{c(){e=u("form"),t=u("div"),l=u("div"),o=u("div"),i=P(n),f=I(),h=u("div"),g=u("div"),p=P(v),_=I(),b=u("button"),y=u("div"),S=P(E),V=I(),xe&&xe.c(),D=I(),M=u("div"),H=u("div"),W=P(J),F=I(),se=u("div"),K=u("select"),B=u("option"),oe=P(ae),R=u("option"),ue=P($),Z=u("option"),N=P(G),Q=I(),Se&&Se.c(),ee=I(),z=u("div"),T=u("div"),A=P(w),te=I(),U=u("button"),Ke.c(),q=I(),fe=u("hr"),ie=I(),X=u("div"),ne=I(),O=u("div"),ce=u("div"),Ve=P(he),we=I(),Ye.c(),ke=I(),ge=u("div"),de=P(He),ve=I(),me&&me.c(),Le=I(),je=u("hr"),Te=I(),Xe.c(),Me=I(),Be=u("div"),Ue=u("button"),Qe=P(We),this.h()},l(k){e=d(k,"FORM",{class:!0});var C=m(e);t=d(C,"DIV",{class:!0});var Ie=m(t);l=d(Ie,"DIV",{class:!0});var Pe=m(l);o=d(Pe,"DIV",{class:!0});var Ae=m(o);i=j(Ae,n),Ae.forEach(c),f=x(Pe),h=d(Pe,"DIV",{class:!0});var rt=m(h);g=d(rt,"DIV",{class:!0});var pt=m(g);p=j(pt,v),pt.forEach(c),_=x(rt),b=d(rt,"BUTTON",{class:!0,type:!0});var gt=m(b);y=d(gt,"DIV",{class:!0});var St=m(y);S=j(St,E),St.forEach(c),V=x(gt),xe&&xe.l(gt),gt.forEach(c),rt.forEach(c),D=x(Pe),M=d(Pe,"DIV",{class:!0});var ft=m(M);H=d(ft,"DIV",{class:!0});var _t=m(H);W=j(_t,J),_t.forEach(c),F=x(ft),se=d(ft,"DIV",{class:!0});var bt=m(se);K=d(bt,"SELECT",{class:!0,placeholder:!0});var wt=m(K);B=d(wt,"OPTION",{});var Ht=m(B);oe=j(Ht,ae),Ht.forEach(c),R=d(wt,"OPTION",{});var Lt=m(R);ue=j(Lt,$),Lt.forEach(c),Z=d(wt,"OPTION",{});var it=m(Z);N=j(it,G),it.forEach(c),wt.forEach(c),bt.forEach(c),ft.forEach(c),Q=x(Pe),Se&&Se.l(Pe),ee=x(Pe),z=d(Pe,"DIV",{class:!0});var ct=m(z);T=d(ct,"DIV",{class:!0});var At=m(T);A=j(At,w),At.forEach(c),te=x(ct),U=d(ct,"BUTTON",{class:!0,type:!0});var kt=m(U);Ke.l(kt),kt.forEach(c),ct.forEach(c),Pe.forEach(c),q=x(Ie),fe=d(Ie,"HR",{class:!0}),ie=x(Ie),X=d(Ie,"DIV",{class:!0}),m(X).forEach(c),ne=x(Ie),O=d(Ie,"DIV",{});var tt=m(O);ce=d(tt,"DIV",{class:!0});var Dt=m(ce);Ve=j(Dt,he),Dt.forEach(c),we=x(tt),Ye.l(tt),ke=x(tt),ge=d(tt,"DIV",{class:!0});var Rt=m(ge);de=j(Rt,He),Rt.forEach(c),ve=x(tt),me&&me.l(tt),tt.forEach(c),Le=x(Ie),je=d(Ie,"HR",{class:!0}),Te=x(Ie),Xe.l(Ie),Ie.forEach(c),Me=x(C),Be=d(C,"DIV",{class:!0});var zt=m(Be);Ue=d(zt,"BUTTON",{class:!0,type:!0});var qt=m(Ue);Qe=j(qt,We),qt.forEach(c),zt.forEach(c),C.forEach(c),this.h()},h(){r(o,"class","mb-0.5 text-sm font-medium"),r(g,"class","self-center text-xs font-medium"),r(y,"class","self-center font-medium"),r(b,"class",L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),r(b,"type","button"),b.disabled=s[1],r(h,"class","flex w-full justify-between"),r(H,"class","self-center text-xs font-medium"),B.__value="",pe(B,B.__value),R.__value="ollama",pe(R,R.__value),Z.__value="openai",pe(Z,Z.__value),r(K,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(K,"placeholder","Select an embedding model engine"),s[5]===void 0&&ml(()=>s[20].call(K)),r(se,"class","flex items-center relative"),r(M,"class","flex w-full justify-between"),r(T,"class","self-center text-xs font-medium"),r(U,"class","p-1 px-3 text-xs flex rounded transition"),r(U,"type","button"),r(z,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(fe,"class","dark:border-gray-700 my-1"),r(X,"class","space-y-2"),r(ce,"class","mb-2 text-sm font-medium"),r(ge,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(je,"class","dark:border-gray-700"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),r(Ue,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(Ue,"type","submit"),r(Be,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,C){le(k,e,C),a(e,t),a(t,l),a(l,o),a(o,i),a(l,f),a(l,h),a(h,g),a(g,p),a(h,_),a(h,b),a(b,y),a(y,S),a(b,V),xe&&xe.m(b,null),a(l,D),a(l,M),a(M,H),a(H,W),a(M,F),a(M,se),a(se,K),a(K,B),a(B,oe),a(K,R),a(R,ue),a(K,Z),a(Z,N),Ot(K,s[5],!0),a(l,Q),Se&&Se.m(l,null),a(l,ee),a(l,z),a(z,T),a(T,A),a(z,te),a(z,U),Ke.m(U,null),a(t,q),a(t,fe),a(t,ie),a(t,X),a(t,ne),a(t,O),a(O,ce),a(ce,Ve),a(O,we),Ye.m(O,null),a(O,ke),a(O,ge),a(ge,de),a(O,ve),me&&me.m(O,null),a(t,Le),a(t,je),a(t,Te),Xe.m(t,null),a(e,Me),a(e,Be),a(Be,Ue),a(Ue,Qe),et||(Ze=[re(b,"click",s[19]),re(K,"change",s[20]),re(K,"change",s[21]),re(U,"click",s[24]),re(e,"submit",Tt(s[33]))],et=!0)},p(k,C){C[0]&2048&&n!==(n=k[11].t("General Settings")+"")&&Y(i,n),C[0]&2048&&v!==(v=k[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&Y(p,v),C[0]&2048&&E!==(E=k[11].t("Scan")+"")&&Y(S,E),k[1]?xe||(xe=Yt(),xe.c(),xe.m(b,null)):xe&&(xe.d(1),xe=null),C[0]&2&&L!==(L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(k[1]?" cursor-not-allowed":""))&&r(b,"class",L),C[0]&2&&(b.disabled=k[1]),C[0]&2048&&J!==(J=k[11].t("Embedding Model Engine")+"")&&Y(W,J),C[0]&2048&&ae!==(ae=k[11].t("Default (SentenceTransformers)")+"")&&Y(oe,ae),C[0]&2048&&$!==($=k[11].t("Ollama")+"")&&Y(ue,$),C[0]&2048&&G!==(G=k[11].t("OpenAI")+"")&&Y(N,G),C[0]&32&&Ot(K,k[5]),k[5]==="openai"?Se?Se.p(k,C):(Se=Kt(k),Se.c(),Se.m(l,ee)):Se&&(Se.d(1),Se=null),C[0]&2048&&w!==(w=k[11].t("Hybrid Search")+"")&&Y(A,w),Re===(Re=De(k))&&Ke?Ke.p(k,C):(Ke.d(1),Ke=Re(k),Ke&&(Ke.c(),Ke.m(U,null))),C[0]&2048&&he!==(he=k[11].t("Embedding Model")+"")&&Y(Ve,he),Et===(Et=Mt(k))&&Ye?Ye.p(k,C):(Ye.d(1),Ye=Et(k),Ye&&(Ye.c(),Ye.m(O,ke))),C[0]&2048&&He!==(He=k[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&Y(de,He),k[10].hybrid===!0?me?me.p(k,C):(me=el(k),me.c(),me.m(O,null)):me&&(me.d(1),me=null),_e===(_e=at(k))&&Xe?Xe.p(k,C):(Xe.d(1),Xe=_e(k),Xe&&(Xe.c(),Xe.m(t,null))),C[0]&2048&&We!==(We=k[11].t("Save")+"")&&Y(Qe,We)},i:st,o:st,d(k){k&&c(e),xe&&xe.d(),Se&&Se.d(),Ke.d(),Ye.d(),me&&me.d(),Xe.d(),et=!1,$e(Ze)}}}const tl=s=>s.id&&!s.external;function es(s,e,t){let l,o;lt(s,Ml,T=>t(12,o=T));const n=mt("i18n");lt(s,n,T=>t(11,l=T));let{saveHandler:i}=e,f=!1,h=!1,g=!1,v=!1,p="",_="",b="",y="",E="",S={template:"",r:0,k:4,hybrid:!1};const V=async()=>{t(1,f=!0);const T=await Ll(localStorage.token);t(1,f=!1),T&&(await Je.set(await nt(localStorage.token)),ye.success(l.t("Scan complete!")))},L=async()=>{if(p===""&&_.split("/").length-1>1){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="ollama"&&_===""){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&_===""){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&y===""||E===""){ye.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",_),t(2,h=!0);const T=await Nl(localStorage.token,{embedding_engine:p,embedding_model:_,...p==="openai"?{openai_config:{key:y,url:E}}:{}}).catch(async w=>(ye.error(w),await H(),null));t(2,h=!1),T&&(console.log("embeddingModelUpdateHandler:",T),T.status===!0&&ye.success(l.t('Embedding model set to "{{embedding_model}}"',T),{duration:1e3*10}))},D=async()=>{console.log("Update reranking model attempt:",b),t(3,g=!0);const T=await Al(localStorage.token,{reranking_model:b}).catch(async w=>(ye.error(w),await J(),null));t(3,g=!1),T&&(console.log("rerankingModelUpdateHandler:",T),T.status===!0&&(b===""?ye.success(l.t("Reranking model disabled",T),{duration:1e3*10}):ye.success(l.t('Reranking model set to "{{reranking_model}}"',T),{duration:1e3*10})))},M=async()=>{L(),S.hybrid&&D()},H=async()=>{const T=await Cl(localStorage.token);T&&(t(5,p=T.embedding_engine),t(6,_=T.embedding_model),t(8,y=T.openai_config.key),t(9,E=T.openai_config.url))},J=async()=>{const T=await Bl(localStorage.token);T&&t(7,b=T.reranking_model)},W=async()=>{t(10,S.hybrid=!S.hybrid,S),t(10,S=await bl(localStorage.token,S))};yt(async()=>{await H(),await J(),t(10,S=await _l(localStorage.token))});const F=()=>{V(),console.log("check")};function se(){p=Ft(this),t(5,p)}const K=T=>{T.target.value==="ollama"?t(6,_=""):T.target.value==="openai"?t(6,_="text-embedding-3-small"):T.target.value===""&&t(6,_="sentence-transformers/all-MiniLM-L6-v2")};function B(){E=this.value,t(9,E)}function ae(){y=this.value,t(8,y)}const oe=()=>{W()};function R(){_=Ft(this),t(6,_)}function $(){_=this.value,t(6,_)}const ue=()=>{L()};function Z(){b=this.value,t(7,b)}const G=()=>{D()},N=()=>{Ol(localStorage.token).catch(w=>(ye.error(w),null))&&ye.success(l.t("Success")),t(4,v=!1)},Q=()=>{t(4,v=!1)},ee=()=>{t(4,v=!0)},z=()=>{M(),i()};return s.$$set=T=>{"saveHandler"in T&&t(0,i=T.saveHandler)},[i,f,h,g,v,p,_,b,y,E,S,l,o,n,V,L,D,M,W,F,se,K,B,ae,oe,R,$,ue,Z,G,N,Q,ee,z]}class ts extends ut{constructor(e){super(),dt(this,e,es,$l,ot,{saveHandler:0},null,[-1,-1])}}function ls(s){let e,t,l,o,n=s[4].t("Chunk Params")+"",i,f,h,g,v,p=s[4].t("Chunk Size")+"",_,b,y,E,S,V,L,D,M=s[4].t("Chunk Overlap")+"",H,J,W,F,se,K,B,ae,oe,R=s[4].t("PDF Extract Images (OCR)")+"",$,ue,Z,G=(s[3]?s[4].t("On"):s[4].t("Off"))+"",N,Q,ee,z,T=s[4].t("Save")+"",w,A,te;return{c(){e=u("form"),t=u("div"),l=u("div"),o=u("div"),i=P(n),f=I(),h=u("div"),g=u("div"),v=u("div"),_=P(p),b=I(),y=u("div"),E=u("input"),V=I(),L=u("div"),D=u("div"),H=P(M),J=I(),W=u("div"),F=u("input"),K=I(),B=u("div"),ae=u("div"),oe=u("div"),$=P(R),ue=I(),Z=u("button"),N=P(G),Q=I(),ee=u("div"),z=u("button"),w=P(T),this.h()},l(U){e=d(U,"FORM",{class:!0});var q=m(e);t=d(q,"DIV",{class:!0});var fe=m(t);l=d(fe,"DIV",{class:!0});var ie=m(l);o=d(ie,"DIV",{class:!0});var X=m(o);i=j(X,n),X.forEach(c),f=x(ie),h=d(ie,"DIV",{class:!0});var ne=m(h);g=d(ne,"DIV",{class:!0});var O=m(g);v=d(O,"DIV",{class:!0});var ce=m(v);_=j(ce,p),ce.forEach(c),b=x(O),y=d(O,"DIV",{class:!0});var he=m(y);E=d(he,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),he.forEach(c),O.forEach(c),V=x(ne),L=d(ne,"DIV",{class:!0});var Ve=m(L);D=d(Ve,"DIV",{class:!0});var we=m(D);H=j(we,M),we.forEach(c),J=x(Ve),W=d(Ve,"DIV",{class:!0});var ke=m(W);F=d(ke,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),ke.forEach(c),Ve.forEach(c),ne.forEach(c),K=x(ie),B=d(ie,"DIV",{class:!0});var ge=m(B);ae=d(ge,"DIV",{class:!0});var He=m(ae);oe=d(He,"DIV",{class:!0});var de=m(oe);$=j(de,R),de.forEach(c),ue=x(He),Z=d(He,"BUTTON",{class:!0,type:!0});var ve=m(Z);N=j(ve,G),ve.forEach(c),He.forEach(c),ge.forEach(c),ie.forEach(c),fe.forEach(c),Q=x(q),ee=d(q,"DIV",{class:!0});var Le=m(ee);z=d(Le,"BUTTON",{class:!0,type:!0});var je=m(z);w=j(je,T),je.forEach(c),Le.forEach(c),q.forEach(c),this.h()},h(){r(o,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(E,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(E,"type","number"),r(E,"placeholder",S=s[4].t("Enter Chunk Size")),r(E,"autocomplete","off"),r(E,"min","0"),r(y,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(D,"class","self-center text-xs font-medium min-w-fit"),r(F,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(F,"type","number"),r(F,"placeholder",se=s[4].t("Enter Chunk Overlap")),r(F,"autocomplete","off"),r(F,"min","0"),r(W,"class","self-center p-3"),r(L,"class","flex w-full"),r(h,"class","flex"),r(oe,"class","text-xs font-medium"),r(Z,"class","text-xs font-medium text-gray-500"),r(Z,"type","button"),r(ae,"class","flex justify-between items-center text-xs"),r(B,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(z,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(z,"type","submit"),r(ee,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(U,q){le(U,e,q),a(e,t),a(t,l),a(l,o),a(o,i),a(l,f),a(l,h),a(h,g),a(g,v),a(v,_),a(g,b),a(g,y),a(y,E),pe(E,s[1]),a(h,V),a(h,L),a(L,D),a(D,H),a(L,J),a(L,W),a(W,F),pe(F,s[2]),a(l,K),a(l,B),a(B,ae),a(ae,oe),a(oe,$),a(ae,ue),a(ae,Z),a(Z,N),a(e,Q),a(e,ee),a(ee,z),a(z,w),A||(te=[re(E,"input",s[7]),re(F,"input",s[8]),re(Z,"click",s[9]),re(e,"submit",Tt(s[10]))],A=!0)},p(U,[q]){q&16&&n!==(n=U[4].t("Chunk Params")+"")&&Y(i,n),q&16&&p!==(p=U[4].t("Chunk Size")+"")&&Y(_,p),q&16&&S!==(S=U[4].t("Enter Chunk Size"))&&r(E,"placeholder",S),q&2&&vt(E.value)!==U[1]&&pe(E,U[1]),q&16&&M!==(M=U[4].t("Chunk Overlap")+"")&&Y(H,M),q&16&&se!==(se=U[4].t("Enter Chunk Overlap"))&&r(F,"placeholder",se),q&4&&vt(F.value)!==U[2]&&pe(F,U[2]),q&16&&R!==(R=U[4].t("PDF Extract Images (OCR)")+"")&&Y($,R),q&24&&G!==(G=(U[3]?U[4].t("On"):U[4].t("Off"))+"")&&Y(N,G),q&16&&T!==(T=U[4].t("Save")+"")&&Y(w,T)},i:st,o:st,d(U){U&&c(e),A=!1,$e(te)}}}function ss(s,e,t){let l;const o=mt("i18n");lt(s,o,y=>t(4,l=y));let{saveHandler:n}=e,i=0,f=0,h=!0;const g=async()=>{await kl(localStorage.token,{pdf_extract_images:h,chunk:{chunk_overlap:f,chunk_size:i}})};yt(async()=>{const y=await wl(localStorage.token);y&&(t(3,h=y.pdf_extract_images),t(1,i=y.chunk.chunk_size),t(2,f=y.chunk.chunk_overlap))});function v(){i=vt(this.value),t(1,i)}function p(){f=vt(this.value),t(2,f)}const _=()=>{t(3,h=!h)},b=()=>{g(),n()};return s.$$set=y=>{"saveHandler"in y&&t(0,n=y.saveHandler)},[n,i,f,h,l,o,g,v,p,_,b]}class as extends ut{constructor(e){super(),dt(this,e,ss,ls,ot,{saveHandler:0})}}function ll(s){let e,t,l=s[2].t("Minimum Score")+"",o,n,i,f,h,g,v,p;return{c(){e=u("div"),t=u("div"),o=P(l),n=I(),i=u("div"),f=u("input"),this.h()},l(_){e=d(_,"DIV",{class:!0});var b=m(e);t=d(b,"DIV",{class:!0});var y=m(t);o=j(y,l),y.forEach(c),n=x(b),i=d(b,"DIV",{class:!0});var E=m(i);f=d(E,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),E.forEach(c),b.forEach(c),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(f,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(f,"type","number"),r(f,"step","0.01"),r(f,"placeholder",h=s[2].t("Enter Score")),r(f,"autocomplete","off"),r(f,"min","0.0"),r(f,"title",g=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(i,"class","self-center p-3"),r(e,"class","flex w-full")},m(_,b){le(_,e,b),a(e,t),a(t,o),a(e,n),a(e,i),a(i,f),pe(f,s[1].r),v||(p=re(f,"input",s[6]),v=!0)},p(_,b){b&4&&l!==(l=_[2].t("Minimum Score")+"")&&Y(o,l),b&4&&h!==(h=_[2].t("Enter Score"))&&r(f,"placeholder",h),b&4&&g!==(g=_[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(f,"title",g),b&2&&vt(f.value)!==_[1].r&&pe(f,_[1].r)},d(_){_&&c(e),v=!1,p()}}}function sl(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,o,n;return{c(){e=u("div"),l=P(t),o=I(),n=u("hr"),this.h()},l(i){e=d(i,"DIV",{class:!0});var f=m(e);l=j(f,t),f.forEach(c),o=x(i),n=d(i,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(n,"class","dark:border-gray-700 my-3")},m(i,f){le(i,e,f),a(e,l),le(i,o,f),le(i,n,f)},p(i,f){f&4&&t!==(t=i[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&Y(l,t)},d(i){i&&(c(e),c(o),c(n))}}}function rs(s){let e,t,l,o,n=s[2].t("Query Params")+"",i,f,h,g,v,p=s[2].t("Top K")+"",_,b,y,E,S,V,L,D,M,H,J=s[2].t("RAG Template")+"",W,F,se,K,B,ae,oe=s[2].t("Save")+"",R,$,ue,Z=s[1].hybrid===!0&&ll(s),G=s[1].hybrid===!0&&sl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),o=u("div"),i=P(n),f=I(),h=u("div"),g=u("div"),v=u("div"),_=P(p),b=I(),y=u("div"),E=u("input"),V=I(),Z&&Z.c(),L=I(),G&&G.c(),D=I(),M=u("div"),H=u("div"),W=P(J),F=I(),se=u("textarea"),K=I(),B=u("div"),ae=u("button"),R=P(oe),this.h()},l(N){e=d(N,"FORM",{class:!0});var Q=m(e);t=d(Q,"DIV",{class:!0});var ee=m(t);l=d(ee,"DIV",{class:!0});var z=m(l);o=d(z,"DIV",{class:!0});var T=m(o);i=j(T,n),T.forEach(c),f=x(z),h=d(z,"DIV",{class:!0});var w=m(h);g=d(w,"DIV",{class:!0});var A=m(g);v=d(A,"DIV",{class:!0});var te=m(v);_=j(te,p),te.forEach(c),b=x(A),y=d(A,"DIV",{class:!0});var U=m(y);E=d(U,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),U.forEach(c),A.forEach(c),V=x(w),Z&&Z.l(w),w.forEach(c),L=x(z),G&&G.l(z),D=x(z),M=d(z,"DIV",{});var q=m(M);H=d(q,"DIV",{class:!0});var fe=m(H);W=j(fe,J),fe.forEach(c),F=x(q),se=d(q,"TEXTAREA",{class:!0,rows:!0}),m(se).forEach(c),q.forEach(c),z.forEach(c),ee.forEach(c),K=x(Q),B=d(Q,"DIV",{class:!0});var ie=m(B);ae=d(ie,"BUTTON",{class:!0,type:!0});var X=m(ae);R=j(X,oe),X.forEach(c),ie.forEach(c),Q.forEach(c),this.h()},h(){r(o,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(E,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(E,"type","number"),r(E,"placeholder",S=s[2].t("Enter Top K")),r(E,"autocomplete","off"),r(E,"min","0"),r(y,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(h,"class","flex"),r(H,"class","mb-2.5 text-sm font-medium"),r(se,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r(se,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),r(ae,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(ae,"type","submit"),r(B,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(N,Q){le(N,e,Q),a(e,t),a(t,l),a(l,o),a(o,i),a(l,f),a(l,h),a(h,g),a(g,v),a(v,_),a(g,b),a(g,y),a(y,E),pe(E,s[1].k),a(h,V),Z&&Z.m(h,null),a(l,L),G&&G.m(l,null),a(l,D),a(l,M),a(M,H),a(H,W),a(M,F),a(M,se),pe(se,s[1].template),a(e,K),a(e,B),a(B,ae),a(ae,R),$||(ue=[re(E,"input",s[5]),re(se,"input",s[7]),re(e,"submit",Tt(s[8]))],$=!0)},p(N,[Q]){Q&4&&n!==(n=N[2].t("Query Params")+"")&&Y(i,n),Q&4&&p!==(p=N[2].t("Top K")+"")&&Y(_,p),Q&4&&S!==(S=N[2].t("Enter Top K"))&&r(E,"placeholder",S),Q&2&&vt(E.value)!==N[1].k&&pe(E,N[1].k),N[1].hybrid===!0?Z?Z.p(N,Q):(Z=ll(N),Z.c(),Z.m(h,null)):Z&&(Z.d(1),Z=null),N[1].hybrid===!0?G?G.p(N,Q):(G=sl(N),G.c(),G.m(l,D)):G&&(G.d(1),G=null),Q&4&&J!==(J=N[2].t("RAG Template")+"")&&Y(W,J),Q&2&&pe(se,N[1].template),Q&4&&oe!==(oe=N[2].t("Save")+"")&&Y(R,oe)},i:st,o:st,d(N){N&&c(e),Z&&Z.d(),G&&G.d(),$=!1,$e(ue)}}}function ns(s,e,t){let l;const o=mt("i18n");lt(s,o,_=>t(2,l=_));let{saveHandler:n}=e,i={template:"",r:0,k:4,hybrid:!1};const f=async()=>{t(1,i=await bl(localStorage.token,i))};yt(async()=>{t(1,i=await _l(localStorage.token))});function h(){i.k=vt(this.value),t(1,i)}function g(){i.r=vt(this.value),t(1,i)}function v(){i.template=this.value,t(1,i)}const p=()=>{f(),n()};return s.$$set=_=>{"saveHandler"in _&&t(0,n=_.saveHandler)},[n,i,l,o,f,h,g,v,p]}class os extends ut{constructor(e){super(),dt(this,e,ns,rs,ot,{saveHandler:0})}}function is(s){let e,t=s[3].t("Off")+"",l;return{c(){e=u("span"),l=P(t),this.h()},l(o){e=d(o,"SPAN",{class:!0});var n=m(e);l=j(n,t),n.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,n){le(o,e,n),a(e,l)},p(o,n){n&8&&t!==(t=o[3].t("Off")+"")&&Y(l,t)},d(o){o&&c(e)}}}function cs(s){let e,t=s[3].t("On")+"",l;return{c(){e=u("span"),l=P(t),this.h()},l(o){e=d(o,"SPAN",{class:!0});var n=m(e);l=j(n,t),n.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(o,n){le(o,e,n),a(e,l)},p(o,n){n&8&&t!==(t=o[3].t("On")+"")&&Y(l,t)},d(o){o&&c(e)}}}function us(s){let e,t,l,o,n=s[3].t("Web Loader Settings")+"",i,f,h,g,v,p=s[3].t("Bypass SSL verification for Websites")+"",_,b,y,E,S,V=s[3].t("Youtube Loader Settings")+"",L,D,M,H,J,W=s[3].t("Language")+"",F,se,K,B,ae,oe,R,$,ue=s[3].t("Save")+"",Z,G,N;function Q(T,w){return T[1]===!0?cs:is}let ee=Q(s),z=ee(s);return{c(){e=u("form"),t=u("div"),l=u("div"),o=u("div"),i=P(n),f=I(),h=u("div"),g=u("div"),v=u("div"),_=P(p),b=I(),y=u("button"),z.c(),E=I(),S=u("div"),L=P(V),D=I(),M=u("div"),H=u("div"),J=u("div"),F=P(W),se=I(),K=u("div"),B=u("input"),oe=I(),R=u("div"),$=u("button"),Z=P(ue),this.h()},l(T){e=d(T,"FORM",{class:!0});var w=m(e);t=d(w,"DIV",{class:!0});var A=m(t);l=d(A,"DIV",{});var te=m(l);o=d(te,"DIV",{class:!0});var U=m(o);i=j(U,n),U.forEach(c),f=x(te),h=d(te,"DIV",{});var q=m(h);g=d(q,"DIV",{class:!0});var fe=m(g);v=d(fe,"DIV",{class:!0});var ie=m(v);_=j(ie,p),ie.forEach(c),b=x(fe),y=d(fe,"BUTTON",{class:!0,type:!0});var X=m(y);z.l(X),X.forEach(c),fe.forEach(c),q.forEach(c),E=x(te),S=d(te,"DIV",{class:!0});var ne=m(S);L=j(ne,V),ne.forEach(c),D=x(te),M=d(te,"DIV",{});var O=m(M);H=d(O,"DIV",{class:!0});var ce=m(H);J=d(ce,"DIV",{class:!0});var he=m(J);F=j(he,W),he.forEach(c),se=x(ce),K=d(ce,"DIV",{class:!0});var Ve=m(K);B=d(Ve,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ve.forEach(c),ce.forEach(c),O.forEach(c),te.forEach(c),A.forEach(c),oe=x(w),R=d(w,"DIV",{class:!0});var we=m(R);$=d(we,"BUTTON",{class:!0,type:!0});var ke=m($);Z=j(ke,ue),ke.forEach(c),we.forEach(c),w.forEach(c),this.h()},h(){r(o,"class","mb-1 text-sm font-medium"),r(v,"class","self-center text-xs font-medium"),r(y,"class","p-1 px-3 text-xs flex rounded transition"),r(y,"type","button"),r(g,"class","py-0.5 flex w-full justify-between"),r(S,"class","mt-2 mb-1 text-sm font-medium"),r(J,"class","w-20 text-xs font-medium self-center"),r(B,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(B,"type","text"),r(B,"placeholder",ae=s[3].t("Enter language codes")),r(B,"autocomplete","off"),r(K,"class","flex-1 self-center"),r(H,"class","py-0.5 flex w-full justify-between"),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r($,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r($,"type","submit"),r(R,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(T,w){le(T,e,w),a(e,t),a(t,l),a(l,o),a(o,i),a(l,f),a(l,h),a(h,g),a(g,v),a(v,_),a(g,b),a(g,y),z.m(y,null),a(l,E),a(l,S),a(S,L),a(l,D),a(l,M),a(M,H),a(H,J),a(J,F),a(H,se),a(H,K),a(K,B),pe(B,s[2]),a(e,oe),a(e,R),a(R,$),a($,Z),G||(N=[re(y,"click",s[6]),re(B,"input",s[7]),re(e,"submit",Tt(s[8]))],G=!0)},p(T,[w]){w&8&&n!==(n=T[3].t("Web Loader Settings")+"")&&Y(i,n),w&8&&p!==(p=T[3].t("Bypass SSL verification for Websites")+"")&&Y(_,p),ee===(ee=Q(T))&&z?z.p(T,w):(z.d(1),z=ee(T),z&&(z.c(),z.m(y,null))),w&8&&V!==(V=T[3].t("Youtube Loader Settings")+"")&&Y(L,V),w&8&&W!==(W=T[3].t("Language")+"")&&Y(F,W),w&8&&ae!==(ae=T[3].t("Enter language codes"))&&r(B,"placeholder",ae),w&4&&B.value!==T[2]&&pe(B,T[2]),w&8&&ue!==(ue=T[3].t("Save")+"")&&Y(Z,ue)},i:st,o:st,d(T){T&&c(e),z.d(),G=!1,$e(N)}}}function ds(s,e,t){let l;const o=mt("i18n");lt(s,o,b=>t(3,l=b));let{saveHandler:n}=e,i=!0,f="en",h=null;const g=async()=>{await kl(localStorage.token,{web_loader_ssl_verification:i,youtube:{language:f.split(",").map(b=>b.trim()),translation:h}})};yt(async()=>{const b=await wl(localStorage.token);b&&(t(1,i=b.web_loader_ssl_verification),t(2,f=b.youtube.language.join(",")),h=b.youtube.translation)});const v=()=>{t(1,i=!i),g()};function p(){f=this.value,t(2,f)}const _=()=>{g(),n()};return s.$$set=b=>{"saveHandler"in b&&t(0,n=b.saveHandler)},[n,i,f,l,o,g,v,p,_]}class fs extends ut{constructor(e){super(),dt(this,e,ds,us,ot,{saveHandler:0})}}function hs(s){let e,t;return e=new fs({props:{saveHandler:s[12]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const n={};o&4&&(n.saveHandler=l[12]),e.$set(n)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function vs(s){let e,t;return e=new os({props:{saveHandler:s[11]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const n={};o&4&&(n.saveHandler=l[11]),e.$set(n)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function ms(s){let e,t;return e=new as({props:{saveHandler:s[10]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const n={};o&4&&(n.saveHandler=l[10]),e.$set(n)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function ps(s){let e,t;return e=new ts({props:{saveHandler:s[9]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const n={};o&4&&(n.saveHandler=l[9]),e.$set(n)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function gs(s){let e,t,l,o=s[2].t("Document Settings")+"",n,i,f,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',E,S,V=s[2].t("General")+"",L,D,M,H,J,W='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',F,se,K=s[2].t("Chunk Params")+"",B,ae,oe,R,$,ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Z,G,N=s[2].t("Query Params")+"",Q,ee,z,T,w,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',te,U,q=s[2].t("Web Params")+"",fe,ie,X,ne,O,ce,he,Ve,we;const ke=[ps,ms,vs,hs],ge=[];function He(de,ve){return de[1]==="general"?0:de[1]==="chunk"?1:de[1]==="query"?2:de[1]==="web"?3:-1}return~(O=He(s))&&(ce=ge[O]=ke[O](s)),{c(){e=u("div"),t=u("div"),l=u("div"),n=P(o),i=I(),f=u("button"),f.innerHTML=h,g=I(),v=u("div"),p=u("div"),_=u("button"),b=u("div"),b.innerHTML=y,E=I(),S=u("div"),L=P(V),M=I(),H=u("button"),J=u("div"),J.innerHTML=W,F=I(),se=u("div"),B=P(K),oe=I(),R=u("button"),$=u("div"),$.innerHTML=ue,Z=I(),G=u("div"),Q=P(N),z=I(),T=u("button"),w=u("div"),w.innerHTML=A,te=I(),U=u("div"),fe=P(q),X=I(),ne=u("div"),ce&&ce.c(),this.h()},l(de){e=d(de,"DIV",{});var ve=m(e);t=d(ve,"DIV",{class:!0});var Le=m(t);l=d(Le,"DIV",{class:!0});var je=m(l);n=j(je,o),je.forEach(c),i=x(Le),f=d(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(f)!=="svelte-745w2y"&&(f.innerHTML=h),Le.forEach(c),g=x(ve),v=d(ve,"DIV",{class:!0});var Te=m(v);p=d(Te,"DIV",{class:!0});var Me=m(p);_=d(Me,"BUTTON",{class:!0});var Be=m(_);b=d(Be,"DIV",{class:!0,"data-svelte-h":!0}),Ce(b)!=="svelte-1k1ieum"&&(b.innerHTML=y),E=x(Be),S=d(Be,"DIV",{class:!0});var Ue=m(S);L=j(Ue,V),Ue.forEach(c),Be.forEach(c),M=x(Me),H=d(Me,"BUTTON",{class:!0});var We=m(H);J=d(We,"DIV",{class:!0,"data-svelte-h":!0}),Ce(J)!=="svelte-sarula"&&(J.innerHTML=W),F=x(We),se=d(We,"DIV",{class:!0});var Qe=m(se);B=j(Qe,K),Qe.forEach(c),We.forEach(c),oe=x(Me),R=d(Me,"BUTTON",{class:!0});var et=m(R);$=d(et,"DIV",{class:!0,"data-svelte-h":!0}),Ce($)!=="svelte-1ray9mb"&&($.innerHTML=ue),Z=x(et),G=d(et,"DIV",{class:!0});var Ze=m(G);Q=j(Ze,N),Ze.forEach(c),et.forEach(c),z=x(Me),T=d(Me,"BUTTON",{class:!0});var xe=m(T);w=d(xe,"DIV",{class:!0,"data-svelte-h":!0}),Ce(w)!=="svelte-17j0plg"&&(w.innerHTML=A),te=x(xe),U=d(xe,"DIV",{class:!0});var Se=m(U);fe=j(Se,q),Se.forEach(c),xe.forEach(c),Me.forEach(c),X=x(Te),ne=d(Te,"DIV",{class:!0});var De=m(ne);ce&&ce.l(De),De.forEach(c),Te.forEach(c),ve.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(f,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(b,"class","self-center mr-2"),r(S,"class","self-center"),r(_,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(J,"class","self-center mr-2"),r(se,"class","self-center"),r(H,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r($,"class","self-center mr-2"),r(G,"class","self-center"),r(R,"class",ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(w,"class","self-center mr-2"),r(U,"class","self-center"),r(T,"class",ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(ne,"class","flex-1 md:min-h-[380px]"),r(v,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(de,ve){le(de,e,ve),a(e,t),a(t,l),a(l,n),a(t,i),a(t,f),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(_,E),a(_,S),a(S,L),a(p,M),a(p,H),a(H,J),a(H,F),a(H,se),a(se,B),a(p,oe),a(p,R),a(R,$),a(R,Z),a(R,G),a(G,Q),a(p,z),a(p,T),a(T,w),a(T,te),a(T,U),a(U,fe),a(v,X),a(v,ne),~O&&ge[O].m(ne,null),he=!0,Ve||(we=[re(f,"click",s[4]),re(_,"click",s[5]),re(H,"click",s[6]),re(R,"click",s[7]),re(T,"click",s[8])],Ve=!0)},p(de,ve){(!he||ve&4)&&o!==(o=de[2].t("Document Settings")+"")&&Y(n,o),(!he||ve&4)&&V!==(V=de[2].t("General")+"")&&Y(L,V),(!he||ve&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(_,"class",D),(!he||ve&4)&&K!==(K=de[2].t("Chunk Params")+"")&&Y(B,K),(!he||ve&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(H,"class",ae),(!he||ve&4)&&N!==(N=de[2].t("Query Params")+"")&&Y(Q,N),(!he||ve&2&&ee!==(ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(R,"class",ee),(!he||ve&4)&&q!==(q=de[2].t("Web Params")+"")&&Y(fe,q),(!he||ve&2&&ie!==(ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(T,"class",ie);let Le=O;O=He(de),O===Le?~O&&ge[O].p(de,ve):(ce&&(Ct(),Ee(ge[Le],1,1,()=>{ge[Le]=null}),Bt()),~O?(ce=ge[O],ce?ce.p(de,ve):(ce=ge[O]=ke[O](de),ce.c()),be(ce,1),ce.m(ne,null)):ce=null)},i(de){he||(be(ce),he=!0)},o(de){Ee(ce),he=!1},d(de){de&&c(e),~O&&ge[O].d(),Ve=!1,$e(we)}}}function _s(s){let e,t,l;function o(i){s[13](i)}let n={$$slots:{default:[gs]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new Zt({props:n}),ht.push(()=>xt(e,"show",o)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,f){Fe(e,i,f),l=!0},p(i,[f]){const h={};f&16391&&(h.$$scope={dirty:f,ctx:i}),!t&&f&1&&(t=!0,h.show=i[0],It(()=>t=!1)),e.$set(h)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function bs(s,e,t){let l;const o=mt("i18n");lt(s,o,V=>t(2,l=V));let{show:n=!1}=e,i="general";const f=()=>{t(0,n=!1)},h=()=>{t(1,i="general")},g=()=>{t(1,i="chunk")},v=()=>{t(1,i="query")},p=()=>{t(1,i="web")},_=()=>{ye.success(l.t("Settings saved successfully!"))},b=()=>{ye.success(l.t("Settings saved successfully!"))},y=()=>{ye.success(l.t("Settings saved successfully!"))},E=()=>{ye.success(l.t("Settings saved successfully!"))};function S(V){n=V,t(0,n)}return s.$$set=V=>{"show"in V&&t(0,n=V.show)},[n,i,l,o,f,h,g,v,p,_,b,y,E,S]}class ws extends ut{constructor(e){super(),dt(this,e,bs,_s,ot,{show:0})}}function ks(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=P(e)},l(l){t=j(l,e)},m(l,o){le(l,t,o)},p(l,o){o&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&Y(t,e)},d(l){l&&c(t)}}}function ys(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=P(e),l=P(" document(s) selected.")},l(o){t=j(o,e),l=j(o," document(s) selected.")},m(o,n){le(o,t,n),le(o,l,n)},p(o,n){n&4&&e!==(e=o[2].length>0?`${o[2].length}`:"")&&Y(t,e)},d(o){o&&(c(t),c(l))}}}function Es(s){let e,t,l,o=s[4].t("Add Docs")+"",n,i,f,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y,E,S,V,L,D,M,H=s[4].t("Tags")+"",J,W,F,se,K,B,ae=s[4].t("Save")+"",oe,R,$,ue;function Z(Q,ee){return Q[2]?ys:ks}let G=Z(s),N=G(s);return F=new Il({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=u("div"),t=u("div"),l=u("div"),n=P(o),i=I(),f=u("button"),f.innerHTML=h,g=I(),v=u("div"),p=u("div"),_=u("form"),b=u("div"),y=u("input"),E=I(),S=u("button"),N.c(),V=I(),L=u("div"),D=u("div"),M=u("div"),J=P(H),W=I(),ze(F.$$.fragment),se=I(),K=u("div"),B=u("button"),oe=P(ae),this.h()},l(Q){e=d(Q,"DIV",{});var ee=m(e);t=d(ee,"DIV",{class:!0});var z=m(t);l=d(z,"DIV",{class:!0});var T=m(l);n=j(T,o),T.forEach(c),i=x(z),f=d(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(f)!=="svelte-745w2y"&&(f.innerHTML=h),z.forEach(c),g=x(ee),v=d(ee,"DIV",{class:!0});var w=m(v);p=d(w,"DIV",{class:!0});var A=m(p);_=d(A,"FORM",{class:!0});var te=m(_);b=d(te,"DIV",{class:!0});var U=m(b);y=d(U,"INPUT",{id:!0,type:!0,class:!0}),E=x(U),S=d(U,"BUTTON",{class:!0,type:!0});var q=m(S);N.l(q),q.forEach(c),U.forEach(c),V=x(te),L=d(te,"DIV",{class:!0});var fe=m(L);D=d(fe,"DIV",{class:!0});var ie=m(D);M=d(ie,"DIV",{class:!0});var X=m(M);J=j(X,H),X.forEach(c),W=x(ie),qe(F.$$.fragment,ie),ie.forEach(c),fe.forEach(c),se=x(te),K=d(te,"DIV",{class:!0});var ne=m(K);B=d(ne,"BUTTON",{class:!0,type:!0});var O=m(B);oe=j(O,ae),O.forEach(c),ne.forEach(c),te.forEach(c),A.forEach(c),w.forEach(c),ee.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(f,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(y,"id","upload-doc-input"),y.hidden=!0,r(y,"type","file"),y.multiple=!0,r(y,"class","svelte-1vx7r9s"),r(S,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(S,"type","button"),r(b,"class","mb-3 w-full"),r(M,"class","mb-1.5 text-xs text-gray-500"),r(D,"class","flex flex-col w-full"),r(L,"class","flex flex-col space-y-1.5"),r(B,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(B,"type","submit"),r(K,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(Q,ee){le(Q,e,ee),a(e,t),a(t,l),a(l,n),a(t,i),a(t,f),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(b,y),s[10](y),a(b,E),a(b,S),N.m(S,null),a(_,V),a(_,L),a(L,D),a(D,M),a(M,J),a(D,W),Fe(F,D,null),a(_,se),a(_,K),a(K,B),a(B,oe),R=!0,$||(ue=[re(f,"click",s[9]),re(y,"change",s[11]),re(S,"click",s[12]),re(_,"submit",Tt(s[13]))],$=!0)},p(Q,ee){(!R||ee&16)&&o!==(o=Q[4].t("Add Docs")+"")&&Y(n,o),G===(G=Z(Q))&&N?N.p(Q,ee):(N.d(1),N=G(Q),N&&(N.c(),N.m(S,null))),(!R||ee&16)&&H!==(H=Q[4].t("Tags")+"")&&Y(J,H);const z={};ee&8&&(z.tags=Q[3]),F.$set(z),(!R||ee&16)&&ae!==(ae=Q[4].t("Save")+"")&&Y(oe,ae)},i(Q){R||(be(F.$$.fragment,Q),R=!0)},o(Q){Ee(F.$$.fragment,Q),R=!1},d(Q){Q&&c(e),s[10](null),N.d(),Ge(F),$=!1,$e(ue)}}}function Ds(s){let e,t,l;function o(i){s[14](i)}let n={size:"sm",$$slots:{default:[Es]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.show=s[0]),e=new Zt({props:n}),ht.push(()=>xt(e,"show",o)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,f){Fe(e,i,f),l=!0},p(i,[f]){const h={};f&131103&&(h.$$scope={dirty:f,ctx:i}),!t&&f&1&&(t=!0,h.show=i[0],It(()=>t=!1)),e.$set(h)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function Is(s,e,t){let l;const o=mt("i18n");lt(s,o,D=>t(4,l=D));let{show:n=!1}=e,i,f,h=[];const g=async D=>{const M=await yl(localStorage.token,"",D).catch(H=>(ye.error(H),null));M&&(await Pt(localStorage.token,M.collection_name,M.filename,El(M.filename),M.filename,h.length>0?{tags:h}:null).catch(H=>(ye.error(H),null)),await Je.set(await nt(localStorage.token)))},v=async()=>{if(f&&f.length>0){for(const D of f)console.log(D,D.name.split(".").at(-1)),pl.includes(D.type)||gl.includes(D.name.split(".").at(-1))||ye.error(`Unknown File Type '${D.type}', but accepting and treating as plain text`),g(D);t(2,f=null),t(1,i.value="",i)}else ye.error(l.t("File not found."));t(0,n=!1),Je.set(await nt(localStorage.token))},p=async D=>{!h.find(M=>M.name===D)&&D!==""?t(3,h=[...h,{name:D}]):console.log("tag already exists")},_=async D=>{t(3,h=h.filter(M=>M.name!==D))};yt(()=>{});const b=()=>{t(0,n=!1)};function y(D){ht[D?"unshift":"push"](()=>{i=D,t(1,i)})}function E(){f=this.files,t(2,f)}const S=()=>{i.click()},V=()=>{v()};function L(D){n=D,t(0,n)}return s.$$set=D=>{"show"in D&&t(0,n=D.show)},[n,i,f,h,l,o,v,p,_,b,y,E,S,V,L]}class xs extends ut{constructor(e){super(),dt(this,e,Is,Ds,ot,{show:0})}}const{document:Ut}=Vl;function al(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function rl(s,e,t){const l=s.slice();return l[40]=e[t],l}function nl(s){let e,t,l,o,n,i;return n=new Ul({props:{$$slots:{default:[Vs]},$$scope:{ctx:s}}}),{c(){e=u("div"),t=u("div"),l=u("div"),o=u("div"),ze(n.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var h=m(e);t=d(h,"DIV",{class:!0});var g=m(t);l=d(g,"DIV",{class:!0});var v=m(l);o=d(v,"DIV",{class:!0});var p=m(o);qe(n.$$.fragment,p),p.forEach(c),v.forEach(c),g.forEach(c),h.forEach(c),this.h()},h(){r(o,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(f,h){le(f,e,h),a(e,t),a(t,l),a(l,o),Fe(n,o,null),i=!0},i(f){i||(be(n.$$.fragment,f),i=!0)},o(f){Ee(n.$$.fragment,f),i=!1},d(f){f&&c(e),Ge(n)}}}function Vs(s){let e,t="Drop any files here to add to my documents";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){le(l,e,o)},p:st,d(l){l&&c(e)}}}function ol(s){let e,t,l;function o(i){s[18](i)}let n={selectedDoc:s[9]};return s[8]!==void 0&&(n.show=s[8]),e=new Rl({props:n}),ht.push(()=>xt(e,"show",o)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,f){Fe(e,i,f),l=!0},p(i,f){const h={};f[0]&512&&(h.selectedDoc=i[9]),!t&&f[0]&256&&(t=!0,h.show=i[8],It(()=>t=!1)),e.$set(h)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function il(s){let e,t,l,o,n,i;l=new Dl({props:{state:s[11].filter(dl).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(fl).length>0&&s[11].filter(hl).length!==s[11].length}}),l.$on("change",s[24]);function f(v,p){return p[0]&2048&&(n=null),n==null&&(n=v[11].filter(As).length===0),n?Ms:Ts}let h=f(s,[-1,-1]),g=h(s);return{c(){e=u("div"),t=u("div"),ze(l.$$.fragment),o=I(),g.c(),this.h()},l(v){e=d(v,"DIV",{class:!0});var p=m(e);t=d(p,"DIV",{class:!0});var _=m(t);qe(l.$$.fragment,_),_.forEach(c),o=x(p),g.l(p),p.forEach(c),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(v,p){le(v,e,p),a(e,t),Fe(l,t,null),a(e,o),g.m(e,null),i=!0},p(v,p){const _={};p[0]&2048&&(_.state=v[11].filter(dl).length===v[11].length?"checked":"unchecked"),p[0]&2048&&(_.indeterminate=v[11].filter(fl).length>0&&v[11].filter(hl).length!==v[11].length),l.$set(_),h===(h=f(v,p))&&g?g.p(v,p):(g.d(1),g=h(v),g&&(g.c(),g.m(e,null)))},i(v){i||(be(l.$$.fragment,v),i=!0)},o(v){Ee(l.$$.fragment,v),i=!1},d(v){v&&c(e),Ge(l),g.d()}}}function Ts(s){let e,t,l=s[11].filter(vl).length+"",o,n,i,f,h,g,v=s[12].t("delete")+"",p,_,b;return{c(){e=u("div"),t=u("div"),o=P(l),n=P(" Selected"),i=I(),f=u("div"),h=u("button"),g=u("div"),p=P(v),this.h()},l(y){e=d(y,"DIV",{class:!0});var E=m(e);t=d(E,"DIV",{class:!0});var S=m(t);o=j(S,l),n=j(S," Selected"),S.forEach(c),i=x(E),f=d(E,"DIV",{class:!0});var V=m(f);h=d(V,"BUTTON",{class:!0});var L=m(h);g=d(L,"DIV",{class:!0});var D=m(g);p=j(D,v),D.forEach(c),L.forEach(c),V.forEach(c),E.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(g,"class","text-xs font-medium self-center line-clamp-1"),r(h,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(f,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(y,E){le(y,e,E),a(e,t),a(t,o),a(t,n),a(e,i),a(e,f),a(f,h),a(h,g),a(g,p),_||(b=re(h,"click",s[27]),_=!0)},p(y,E){E[0]&2048&&l!==(l=y[11].filter(vl).length+"")&&Y(o,l),E[0]&4096&&v!==(v=y[12].t("delete")+"")&&Y(p,v)},d(y){y&&c(e),_=!1,b()}}}function Ms(s){let e,t,l=s[12].t("all")+"",o,n,i,f,h,g=Vt(s[5]),v=[];for(let p=0;p<g.length;p+=1)v[p]=cl(rl(s,g,p));return{c(){e=u("button"),t=u("div"),o=P(l),n=I();for(let p=0;p<v.length;p+=1)v[p].c();i=Nt(),this.h()},l(p){e=d(p,"BUTTON",{class:!0});var _=m(e);t=d(_,"DIV",{class:!0});var b=m(t);o=j(b,l),b.forEach(c),_.forEach(c),n=x(p);for(let y=0;y<v.length;y+=1)v[y].l(p);i=Nt(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(p,_){le(p,e,_),a(e,t),a(t,o),le(p,n,_);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(p,_);le(p,i,_),f||(h=re(e,"click",s[25]),f=!0)},p(p,_){if(_[0]&4096&&l!==(l=p[12].t("all")+"")&&Y(o,l),_[0]&34){g=Vt(p[5]);let b;for(b=0;b<g.length;b+=1){const y=rl(p,g,b);v[b]?v[b].p(y,_):(v[b]=cl(y),v[b].c(),v[b].m(i.parentNode,i))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}},d(p){p&&(c(e),c(n),c(i)),jt(v,p),f=!1,h()}}}function cl(s){let e,t,l,o=s[40]+"",n,i,f,h;function g(){return s[26](s[40])}return{c(){e=u("button"),t=u("div"),l=P("#"),n=P(o),i=I(),this.h()},l(v){e=d(v,"BUTTON",{class:!0});var p=m(e);t=d(p,"DIV",{class:!0});var _=m(t);l=j(_,"#"),n=j(_,o),_.forEach(c),i=x(p),p.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){le(v,e,p),a(e,t),a(t,l),a(t,n),a(e,i),f||(h=re(e,"click",g),f=!0)},p(v,p){s=v,p[0]&32&&o!==(o=s[40]+"")&&Y(n,o)},d(v){v&&c(e),f=!1,h()}}}function Ss(s){let e,t,l,o,n,i;return{c(){e=Oe("svg"),t=Oe("style"),l=P(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),o=Oe("circle"),n=Oe("circle"),i=Oe("circle"),this.h()},l(f){e=Ne(f,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var h=m(e);t=Ne(h,"style",{});var g=m(t);l=j(g,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),g.forEach(c),o=Ne(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(o).forEach(c),n=Ne(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(n).forEach(c),i=Ne(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(i).forEach(c),h.forEach(c),this.h()},h(){r(o,"class","spinner_qM83"),r(o,"cx","4"),r(o,"cy","12"),r(o,"r","2.5"),r(n,"class","spinner_qM83 spinner_oXPr"),r(n,"cx","12"),r(n,"cy","12"),r(n,"r","2.5"),r(i,"class","spinner_qM83 spinner_ZTLf"),r(i,"cx","20"),r(i,"cy","12"),r(i,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(f,h){le(f,e,h),a(e,t),a(t,l),a(e,o),a(e,n),a(e,i)},d(f){f&&c(e)}}}function Hs(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Ne(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=m(e);t=Ne(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(c),l=Ne(n,"path",{d:!0}),m(l).forEach(c),n.forEach(c),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(o,n){le(o,e,n),a(e,t),a(e,l)},d(o){o&&c(e)}}}function ul(s){var T;let e,t,l,o,n,i,f,h,g,v,p,_=s[37].name+"",b,y,E=s[37].filename+"",S,V,L,D,M=s[37].title+"",H,J,W,F,se='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',K,B,ae='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',oe,R,$,ue;l=new Dl({props:{state:((T=s[37])==null?void 0:T.selected)??"unchecked"}});function Z(w,A){return w[37]?Hs:Ss}let G=Z(s),N=G(s);function Q(...w){return s[28](s[37],...w)}function ee(...w){return s[29](s[37],...w)}function z(){return s[30](s[37],s[38],s[39])}return{c(){e=u("button"),t=u("div"),ze(l.$$.fragment),o=I(),n=u("div"),i=u("div"),f=u("div"),N.c(),h=I(),g=u("div"),v=u("div"),p=P("#"),b=P(_),y=P(" ("),S=P(E),V=P(")"),L=I(),D=u("div"),H=P(M),J=I(),W=u("div"),F=u("button"),F.innerHTML=se,K=I(),B=u("button"),B.innerHTML=ae,oe=I(),this.h()},l(w){e=d(w,"BUTTON",{class:!0});var A=m(e);t=d(A,"DIV",{class:!0});var te=m(t);qe(l.$$.fragment,te),te.forEach(c),o=x(A),n=d(A,"DIV",{class:!0});var U=m(n);i=d(U,"DIV",{class:!0});var q=m(i);f=d(q,"DIV",{class:!0});var fe=m(f);N.l(fe),fe.forEach(c),h=x(q),g=d(q,"DIV",{class:!0});var ie=m(g);v=d(ie,"DIV",{class:!0});var X=m(v);p=j(X,"#"),b=j(X,_),y=j(X," ("),S=j(X,E),V=j(X,")"),X.forEach(c),L=x(ie),D=d(ie,"DIV",{class:!0});var ne=m(D);H=j(ne,M),ne.forEach(c),ie.forEach(c),q.forEach(c),U.forEach(c),J=x(A),W=d(A,"DIV",{class:!0});var O=m(W);F=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ce(F)!=="svelte-105zedk"&&(F.innerHTML=se),K=x(O),B=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ce(B)!=="svelte-13wl5iz"&&(B.innerHTML=ae),O.forEach(c),oe=x(A),A.forEach(c),this.h()},h(){r(t,"class","my-auto flex items-center"),r(f,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(v,"class","font-bold line-clamp-1"),r(D,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(g,"class","self-center flex-1"),r(i,"class","flex items-center space-x-3"),r(n,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(F,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(F,"type","button"),r(B,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(B,"type","button"),r(W,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(w,A){le(w,e,A),a(e,t),Fe(l,t,null),a(e,o),a(e,n),a(n,i),a(i,f),N.m(f,null),a(i,h),a(i,g),a(g,v),a(v,p),a(v,b),a(v,y),a(v,S),a(v,V),a(g,L),a(g,D),a(D,H),a(e,J),a(e,W),a(W,F),a(W,K),a(W,B),a(e,oe),R=!0,$||(ue=[re(F,"click",Q),re(B,"click",ee),re(e,"click",z)],$=!0)},p(w,A){var U;s=w;const te={};A[0]&2048&&(te.state=((U=s[37])==null?void 0:U.selected)??"unchecked"),l.$set(te),G!==(G=Z(s))&&(N.d(1),N=G(s),N&&(N.c(),N.m(f,null))),(!R||A[0]&2048)&&_!==(_=s[37].name+"")&&Y(b,_),(!R||A[0]&2048)&&E!==(E=s[37].filename+"")&&Y(S,E),(!R||A[0]&2048)&&M!==(M=s[37].title+"")&&Y(H,M)},i(w){R||(be(l.$$.fragment,w),R=!0)},o(w){Ee(l.$$.fragment,w),R=!1},d(w){w&&c(e),Ge(l),N.d(),$=!1,$e(ue)}}}function Ls(s){let e,t,l,o=s[9],n,i,f,h,g,v,p,_,b,y,E=s[12].t("Documents")+"",S,V,L,D,M,H,J,W,F=s[12].t("Document Settings")+"",se,K,B,ae,oe=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",R,$,ue,Z,G,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',Q,ee,z,T,w,A,te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',U,q,fe,ie,X,ne,O,ce,he,Ve,we,ke,ge=s[12].t("Import Documents Mapping")+"",He,de,ve,Le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',je,Te,Me,Be=s[12].t("Export Documents Mapping")+"",Ue,We,Qe,et='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',Ze,xe,Se;Ut.title=e=`
		`+s[12].t("Documents")+" | "+s[13]+`
	`;let De=s[10]&&nl(s),Re=ol(s);function Ke(k){s[19](k)}let Mt={};s[7]!==void 0&&(Mt.show=s[7]),i=new xs({props:Mt}),ht.push(()=>xt(i,"show",Ke));function Et(k){s[20](k)}let Ye={};s[6]!==void 0&&(Ye.show=s[6]),g=new ws({props:Ye}),ht.push(()=>xt(g,"show",Et));let me=s[5].length>0&&il(s),at=Vt(s[11]),_e=[];for(let k=0;k<at.length;k+=1)_e[k]=ul(al(s,at,k));const Xe=k=>Ee(_e[k],1,1,()=>{_e[k]=null});return{c(){t=I(),De&&De.c(),l=I(),Re.c(),n=I(),ze(i.$$.fragment),h=I(),ze(g.$$.fragment),p=I(),_=u("div"),b=u("div"),y=u("div"),S=P(E),V=I(),L=u("div"),D=u("button"),M=Oe("svg"),H=Oe("path"),J=I(),W=u("div"),se=P(F),K=I(),B=u("div"),ae=P(" "),R=P(oe),$=I(),ue=u("div"),Z=u("div"),G=u("div"),G.innerHTML=N,Q=I(),ee=u("input"),T=I(),w=u("div"),A=u("button"),A.innerHTML=te,U=I(),q=u("hr"),fe=I(),me&&me.c(),ie=I(),X=u("div");for(let k=0;k<_e.length;k+=1)_e[k].c();ne=I(),O=u("div"),ce=u("div"),he=u("input"),Ve=I(),we=u("button"),ke=u("div"),He=P(ge),de=I(),ve=u("div"),ve.innerHTML=Le,je=I(),Te=u("button"),Me=u("div"),Ue=P(Be),We=I(),Qe=u("div"),Qe.innerHTML=et,this.h()},l(k){xl("svelte-vxyf60",Ut.head).forEach(c),t=x(k),De&&De.l(k),l=x(k),Re.l(k),n=x(k),qe(i.$$.fragment,k),h=x(k),qe(g.$$.fragment,k),p=x(k),_=d(k,"DIV",{class:!0});var Ie=m(_);b=d(Ie,"DIV",{class:!0});var Pe=m(b);y=d(Pe,"DIV",{class:!0});var Ae=m(y);S=j(Ae,E),Ae.forEach(c),V=x(Pe),L=d(Pe,"DIV",{});var rt=m(L);D=d(rt,"BUTTON",{class:!0,type:!0});var pt=m(D);M=Ne(pt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var gt=m(M);H=Ne(gt,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(H).forEach(c),gt.forEach(c),J=x(pt),W=d(pt,"DIV",{class:!0});var St=m(W);se=j(St,F),St.forEach(c),pt.forEach(c),rt.forEach(c),Pe.forEach(c),K=x(Ie),B=d(Ie,"DIV",{class:!0});var ft=m(B);ae=j(ft," "),R=j(ft,oe),ft.forEach(c),Ie.forEach(c),$=x(k),ue=d(k,"DIV",{class:!0});var _t=m(ue);Z=d(_t,"DIV",{class:!0});var bt=m(Z);G=d(bt,"DIV",{class:!0,"data-svelte-h":!0}),Ce(G)!=="svelte-v38fm1"&&(G.innerHTML=N),Q=x(bt),ee=d(bt,"INPUT",{class:!0,placeholder:!0}),bt.forEach(c),T=x(_t),w=d(_t,"DIV",{});var wt=m(w);A=d(wt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ce(A)!=="svelte-1rxkyow"&&(A.innerHTML=te),wt.forEach(c),_t.forEach(c),U=x(k),q=d(k,"HR",{class:!0}),fe=x(k),me&&me.l(k),ie=x(k),X=d(k,"DIV",{class:!0});var Ht=m(X);for(let Dt=0;Dt<_e.length;Dt+=1)_e[Dt].l(Ht);Ht.forEach(c),ne=x(k),O=d(k,"DIV",{class:!0});var Lt=m(O);ce=d(Lt,"DIV",{class:!0});var it=m(ce);he=d(it,"INPUT",{id:!0,type:!0,accept:!0}),Ve=x(it),we=d(it,"BUTTON",{class:!0});var ct=m(we);ke=d(ct,"DIV",{class:!0});var At=m(ke);He=j(At,ge),At.forEach(c),de=x(ct),ve=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),Ce(ve)!=="svelte-aqr4dt"&&(ve.innerHTML=Le),ct.forEach(c),je=x(it),Te=d(it,"BUTTON",{class:!0});var kt=m(Te);Me=d(kt,"DIV",{class:!0});var tt=m(Me);Ue=j(tt,Be),tt.forEach(c),We=x(kt),Qe=d(kt,"DIV",{class:!0,"data-svelte-h":!0}),Ce(Qe)!=="svelte-1n7zye"&&(Qe.innerHTML=et),kt.forEach(c),it.forEach(c),Lt.forEach(c),this.h()},h(){r(y,"class","text-lg font-semibold self-center"),r(H,"fill-rule","evenodd"),r(H,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(H,"clip-rule","evenodd"),r(M,"xmlns","http://www.w3.org/2000/svg"),r(M,"viewBox","0 0 16 16"),r(M,"fill","currentColor"),r(M,"class","w-4 h-4"),r(W,"class","text-xs"),r(D,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(D,"type","button"),r(b,"class","flex justify-between items-center"),r(B,"class","text-gray-500 text-xs mt-1"),r(_,"class","mb-3"),r(G,"class","self-center ml-1 mr-3"),r(ee,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(ee,"placeholder",z=s[12].t("Search Documents")),r(Z,"class","flex flex-1"),r(A,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(ue,"class","flex w-full space-x-2"),r(q,"class","dark:border-gray-850 my-2.5"),r(X,"class","my-3 mb-5"),r(he,"id","documents-import-input"),r(he,"type","file"),r(he,"accept",".json"),he.hidden=!0,r(ke,"class","self-center mr-2 font-medium"),r(ve,"class","self-center"),r(we,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(Me,"class","self-center mr-2 font-medium"),r(Qe,"class","self-center"),r(Te,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(ce,"class","flex space-x-2"),r(O,"class","flex justify-end w-full mb-2")},m(k,C){le(k,t,C),De&&De.m(k,C),le(k,l,C),Re.m(k,C),le(k,n,C),Fe(i,k,C),le(k,h,C),Fe(g,k,C),le(k,p,C),le(k,_,C),a(_,b),a(b,y),a(y,S),a(b,V),a(b,L),a(L,D),a(D,M),a(M,H),a(D,J),a(D,W),a(W,se),a(_,K),a(_,B),a(B,ae),a(B,R),le(k,$,C),le(k,ue,C),a(ue,Z),a(Z,G),a(Z,Q),a(Z,ee),pe(ee,s[0]),a(ue,T),a(ue,w),a(w,A),le(k,U,C),le(k,q,C),le(k,fe,C),me&&me.m(k,C),le(k,ie,C),le(k,X,C);for(let Ie=0;Ie<_e.length;Ie+=1)_e[Ie]&&_e[Ie].m(X,null);le(k,ne,C),le(k,O,C),a(O,ce),a(ce,he),s[31](he),a(ce,Ve),a(ce,we),a(we,ke),a(ke,He),a(we,de),a(we,ve),a(ce,je),a(ce,Te),a(Te,Me),a(Me,Ue),a(Te,We),a(Te,Qe),Ze=!0,xe||(Se=[re(D,"click",s[21]),re(ee,"input",s[22]),re(A,"click",s[23]),re(he,"change",s[32]),re(he,"change",s[33]),re(we,"click",s[34]),re(Te,"click",s[35])],xe=!0)},p(k,C){(!Ze||C[0]&12288)&&e!==(e=`
		`+k[12].t("Documents")+" | "+k[13]+`
	`)&&(Ut.title=e),k[10]?De?C[0]&1024&&be(De,1):(De=nl(k),De.c(),be(De,1),De.m(l.parentNode,l)):De&&(Ct(),Ee(De,1,1,()=>{De=null}),Bt()),C[0]&512&&ot(o,o=k[9])?(Ct(),Ee(Re,1,1,st),Bt(),Re=ol(k),Re.c(),be(Re,1),Re.m(n.parentNode,n)):Re.p(k,C);const Ie={};!f&&C[0]&128&&(f=!0,Ie.show=k[7],It(()=>f=!1)),i.$set(Ie);const Pe={};if(!v&&C[0]&64&&(v=!0,Pe.show=k[6],It(()=>v=!1)),g.$set(Pe),(!Ze||C[0]&4096)&&E!==(E=k[12].t("Documents")+"")&&Y(S,E),(!Ze||C[0]&4096)&&F!==(F=k[12].t("Document Settings")+"")&&Y(se,F),(!Ze||C[0]&4096)&&oe!==(oe=k[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&Y(R,oe),(!Ze||C[0]&4096&&z!==(z=k[12].t("Search Documents")))&&r(ee,"placeholder",z),C[0]&1&&ee.value!==k[0]&&pe(ee,k[0]),k[5].length>0?me?(me.p(k,C),C[0]&32&&be(me,1)):(me=il(k),me.c(),be(me,1),me.m(ie.parentNode,ie)):me&&(Ct(),Ee(me,1,1,()=>{me=null}),Bt()),C[0]&68352){at=Vt(k[11]);let Ae;for(Ae=0;Ae<at.length;Ae+=1){const rt=al(k,at,Ae);_e[Ae]?(_e[Ae].p(rt,C),be(_e[Ae],1)):(_e[Ae]=ul(rt),_e[Ae].c(),be(_e[Ae],1),_e[Ae].m(X,null))}for(Ct(),Ae=at.length;Ae<_e.length;Ae+=1)Xe(Ae);Bt()}(!Ze||C[0]&4096)&&ge!==(ge=k[12].t("Import Documents Mapping")+"")&&Y(He,ge),(!Ze||C[0]&4096)&&Be!==(Be=k[12].t("Export Documents Mapping")+"")&&Y(Ue,Be)},i(k){if(!Ze){be(De),be(Re),be(i.$$.fragment,k),be(g.$$.fragment,k),be(me);for(let C=0;C<at.length;C+=1)be(_e[C]);Ze=!0}},o(k){Ee(De),Ee(Re),Ee(i.$$.fragment,k),Ee(g.$$.fragment,k),Ee(me),_e=_e.filter(Boolean);for(let C=0;C<_e.length;C+=1)Ee(_e[C]);Ze=!1},d(k){k&&(c(t),c(l),c(n),c(h),c(p),c(_),c($),c(ue),c(U),c(q),c(fe),c(ie),c(X),c(ne),c(O)),De&&De.d(k),Re.d(k),Ge(i,k),Ge(g,k),me&&me.d(k),jt(_e,k),s[31](null),xe=!1,$e(Se)}}}const As=s=>(s==null?void 0:s.selected)==="checked",dl=s=>(s==null?void 0:s.selected)==="checked",fl=s=>(s==null?void 0:s.selected)==="checked",hl=s=>(s==null?void 0:s.selected)==="checked",vl=s=>(s==null?void 0:s.selected)==="checked";function Cs(s,e,t){let l,o,n;lt(s,Je,w=>t(2,l=w)),lt(s,Sl,w=>t(13,n=w));const{saveAs:i}=Tl,f=mt("i18n");lt(s,f,w=>t(12,o=w));let h="",g="",v,p=[],_=!1,b=!1,y=!1,E,S="",V=!1;const L=async w=>{await Qt(localStorage.token,w),await Je.set(await nt(localStorage.token))},D=async w=>{await Promise.all(w.map(async A=>await Qt(localStorage.token,A.name))),await Je.set(await nt(localStorage.token))},M=async w=>{const A=await yl(localStorage.token,"",w).catch(te=>(ye.error(te),null));A&&(await Pt(localStorage.token,A.collection_name,A.filename,El(A.filename),A.filename).catch(te=>(ye.error(te),null)),await Je.set(await nt(localStorage.token)))};yt(()=>{Je.subscribe(q=>{t(5,p=q.reduce((fe,ie,X,ne)=>{var O;return[...new Set([...fe,...(((O=ie==null?void 0:ie.content)==null?void 0:O.tags)??[]).map(ce=>ce.name)])]},[]))});const w=document.querySelector("body"),A=q=>{q.preventDefault(),t(10,V=!0)},te=()=>{t(10,V=!1)},U=async q=>{var fe,ie;if(q.preventDefault(),(fe=q.dataTransfer)!=null&&fe.files){let X=new FileReader;X.onload=O=>{files=[...files,{type:"image",url:`${O.target.result}`}]};const ne=(ie=q.dataTransfer)==null?void 0:ie.files;if(ne&&ne.length>0)for(const O of ne)console.log(O,O.name.split(".").at(-1)),pl.includes(O.type)||gl.includes(O.name.split(".").at(-1))||ye.error(`Unknown File Type '${O.type}', but accepting and treating as plain text`),M(O);else ye.error(o.t("File not found."))}t(10,V=!1)};return w==null||w.addEventListener("dragover",A),w==null||w.addEventListener("drop",U),w==null||w.addEventListener("dragleave",te),()=>{w==null||w.removeEventListener("dragover",A),w==null||w.removeEventListener("drop",U),w==null||w.removeEventListener("dragleave",te)}});let H;function J(w){y=w,t(8,y)}function W(w){b=w,t(7,b)}function F(w){_=w,t(6,_)}const se=()=>{t(6,_=!_)};function K(){g=this.value,t(0,g)}const B=()=>{t(7,b=!0)},ae=w=>{w.detail==="checked"?t(11,H=H.map(A=>({...A,selected:"checked"}))):w.detail==="unchecked"&&t(11,H=H.map(A=>({...A,selected:"unchecked"})))},oe=async()=>{t(1,S="")},R=async w=>{t(1,S=w)},$=async()=>{D(H.filter(w=>w.selected==="checked"))},ue=async(w,A)=>{A.stopPropagation(),t(8,y=!y),t(9,E=w)},Z=(w,A)=>{A.stopPropagation(),L(w.name)},G=(w,A,te)=>{(w==null?void 0:w.selected)==="checked"?t(11,A[te].selected="unchecked",H):t(11,A[te].selected="checked",H)};function N(w){ht[w?"unshift":"push"](()=>{v=w,t(4,v)})}function Q(){h=this.files,t(3,h)}const ee=()=>{console.log(h);const w=new FileReader;w.onload=async A=>{const te=JSON.parse(A.target.result);console.log(te);for(const U of te)await Pt(localStorage.token,U.collection_name,U.filename,U.name,U.title).catch(q=>(ye.error(q),null));await Je.set(await nt(localStorage.token))},w.readAsText(h[0])},z=()=>{v.click()},T=async()=>{let w=new Blob([JSON.stringify(l)],{type:"application/json"});i(w,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,H=l.filter(w=>{var A;return(S===""||(((A=w==null?void 0:w.content)==null?void 0:A.tags)??[]).map(te=>te.name).includes(S))&&(g===""||w.name.includes(g))}))},[g,S,l,h,v,p,_,b,y,E,V,H,o,n,i,f,L,D,J,W,F,se,K,B,ae,oe,R,$,ue,Z,G,N,Q,ee,z,T]}class Bs extends ut{constructor(e){super(),dt(this,e,Cs,Ls,ot,{},null,[-1,-1])}}function Os(s){let e,t;return e=new Bs({}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p:st,i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}class Xs extends ut{constructor(e){super(),dt(this,e,null,Os,ot,{})}}export{Xs as component};
//# sourceMappingURL=9.de4731b8.js.map
