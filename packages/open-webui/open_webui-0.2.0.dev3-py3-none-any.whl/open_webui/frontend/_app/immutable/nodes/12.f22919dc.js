import{s as Gl,f as d,a as D,l as P,g as f,h,c as V,R as at,m as A,d as u,j as o,i as O,r as n,u as X,n as C,v as Qt,w as Yt,P as Kl,o as Ql,Q as re,O as xl,K as xt,U as $l,V as Il,p as Jl,X as es,C as $t,T as ts,z as Dl,A as Vl,S as Tl,e as Nl}from"../chunks/scheduler.bc5a4ea8.js";import{S as ls,i as ss,a as ne,t as Ve,c as Gt,g as Kt,f as as,b as Wl,d as ql,m as Xl,e as Yl}from"../chunks/index.5e522d2c.js";import{e as Xe}from"../chunks/each.eda84b85.js";import{a as rs}from"../chunks/Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{g as Zt}from"../chunks/navigation.a54d0b03.js";import{p as ns}from"../chunks/stores.3ea588a2.js";import{e as Sl}from"../chunks/index.a679fc74.js";import"../chunks/sha256.8dba905a.js";import{u as os}from"../chunks/index.72175eab.js";import{A as is}from"../chunks/AdvancedParams.a797b5e7.js";import{b as us}from"../chunks/index.955a9245.js";import{C as cs}from"../chunks/Checkbox.f3d4e893.js";function Pl(a,e,t){const s=a.slice();return s[37]=e[t],s}function Al(a,e,t){const s=a.slice();return s[40]=e[t],s[41]=e,s[42]=t,s}function Ml(a,e,t){const s=a.slice();return s[12]=e[t],s}function Bl(a){let e,t,s,l,r,p,m,g,w,E=a[11].t("Name")+"",T,v,N,I,i,b,k,M,L,oe=a[11].t("Model ID")+"",ie,Ye,Ze,Te,Z,Ce,Ge,Oe,ue,ke,Ne=a[11].t("Description")+"",Ue,Ke,Se,x,Qe,rt,_e,y,H,ce=a[11].t("Model Params")+"",G,$,R,Y,ee,de=a[11].t("System Prompt")+"",je,xe,Pe,fe,St,we,He,$e=a[11].t("Advanced Params")+"",nt,Pt,pe,At,Mt,he,me,ye,Le,et=a[11].t("Prompt suggestions")+"",ot,Bt,ve,Ct,Ot,Ut,Ee,Re,ze,tt=a[11].t("Capabilities")+"",it,jt,Ae,Ht,ge,Ie,Fe,lt=a[11].t("JSON Preview")+"",ut,Lt,be,Rt,zt,Je,K,We,st=a[11].t("Save & Update")+"",ct,Ft,dt,B,Jt,el;function tl(c,_){var Q,De;return(De=(Q=c[7])==null?void 0:Q.meta)!=null&&De.profile_image_url?fs:ds}let ft=tl(a),te=ft(a),z=a[12].preset&&Cl(a);function ll(c,_){return c[3]?ps:_s}let _t=ll(a),le=_t(a),U=a[3]&&Ul(a);function sl(c,_){return c[7].meta.suggestion_prompts===null?ms:hs}let pt=sl(a),se=pt(a),F=a[7].meta.suggestion_prompts!==null&&jl(a),J=a[7].meta.suggestion_prompts&&Hl(a),Me=Xe(Object.keys(a[9])),S=[];for(let c=0;c<Me.length;c+=1)S[c]=Rl(Pl(a,Me,c));const Zl=c=>Ve(S[c],1,1,()=>{S[c]=null});function al(c,_){return c[4]?ks:bs}let ht=al(a),ae=ht(a),W=a[4]&&zl(a),q=a[0]&&Fl();return{c(){e=d("form"),t=d("div"),s=d("div"),l=d("button"),te.c(),p=D(),m=d("div"),g=d("div"),w=d("div"),T=P(E),v=P("*"),N=D(),I=d("div"),i=d("input"),k=D(),M=d("div"),L=d("div"),ie=P(oe),Ye=P("*"),Ze=D(),Te=d("div"),Z=d("input"),Ge=D(),z&&z.c(),Oe=D(),ue=d("div"),ke=d("div"),Ue=P(Ne),Ke=D(),Se=d("div"),x=d("input"),rt=D(),_e=d("div"),y=d("div"),H=d("div"),G=P(ce),$=D(),R=d("div"),Y=d("div"),ee=d("div"),je=P(de),xe=D(),Pe=d("div"),fe=d("textarea"),St=D(),we=d("div"),He=d("div"),nt=P($e),Pt=D(),pe=d("button"),le.c(),At=D(),U&&U.c(),Mt=D(),he=d("div"),me=d("div"),ye=d("div"),Le=d("div"),ot=P(et),Bt=D(),ve=d("button"),se.c(),Ct=D(),F&&F.c(),Ot=D(),J&&J.c(),Ut=D(),Ee=d("div"),Re=d("div"),ze=d("div"),it=P(tt),jt=D(),Ae=d("div");for(let c=0;c<S.length;c+=1)S[c].c();Ht=D(),ge=d("div"),Ie=d("div"),Fe=d("div"),ut=P(lt),Lt=D(),be=d("button"),ae.c(),Rt=D(),W&&W.c(),zt=D(),Je=d("div"),K=d("button"),We=d("div"),ct=P(st),Ft=D(),q&&q.c(),this.h()},l(c){e=f(c,"FORM",{class:!0});var _=h(e);t=f(_,"DIV",{class:!0});var Q=h(t);s=f(Q,"DIV",{class:!0});var De=h(s);l=f(De,"BUTTON",{class:!0,type:!0});var j=h(l);te.l(j),j.forEach(u),De.forEach(u),Q.forEach(u),p=V(_),m=f(_,"DIV",{class:!0});var Be=h(m);g=f(Be,"DIV",{class:!0});var mt=h(g);w=f(mt,"DIV",{class:!0});var Wt=h(w);T=A(Wt,E),v=A(Wt,"*"),Wt.forEach(u),N=V(mt),I=f(mt,"DIV",{});var rl=h(I);i=f(rl,"INPUT",{class:!0,placeholder:!0}),rl.forEach(u),mt.forEach(u),k=V(Be),M=f(Be,"DIV",{class:!0});var vt=h(M);L=f(vt,"DIV",{class:!0});var qt=h(L);ie=A(qt,oe),Ye=A(qt,"*"),qt.forEach(u),Ze=V(vt),Te=f(vt,"DIV",{});var nl=h(Te);Z=f(nl,"INPUT",{class:!0,placeholder:!0}),nl.forEach(u),vt.forEach(u),Be.forEach(u),Ge=V(_),z&&z.l(_),Oe=V(_),ue=f(_,"DIV",{class:!0});var gt=h(ue);ke=f(gt,"DIV",{class:!0});var ol=h(ke);Ue=A(ol,Ne),ol.forEach(u),Ke=V(gt),Se=f(gt,"DIV",{});var il=h(Se);x=f(il,"INPUT",{class:!0,placeholder:!0}),il.forEach(u),gt.forEach(u),rt=V(_),_e=f(_,"DIV",{class:!0});var bt=h(_e);y=f(bt,"DIV",{class:!0});var ul=h(y);H=f(ul,"DIV",{class:!0});var cl=h(H);G=A(cl,ce),cl.forEach(u),ul.forEach(u),$=V(bt),R=f(bt,"DIV",{class:!0});var qe=h(R);Y=f(qe,"DIV",{class:!0});var kt=h(Y);ee=f(kt,"DIV",{class:!0});var dl=h(ee);je=A(dl,de),dl.forEach(u),xe=V(kt),Pe=f(kt,"DIV",{});var fl=h(Pe);fe=f(fl,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),h(fe).forEach(u),fl.forEach(u),kt.forEach(u),St=V(qe),we=f(qe,"DIV",{class:!0});var wt=h(we);He=f(wt,"DIV",{class:!0});var _l=h(He);nt=A(_l,$e),_l.forEach(u),Pt=V(wt),pe=f(wt,"BUTTON",{class:!0,type:!0});var pl=h(pe);le.l(pl),pl.forEach(u),wt.forEach(u),At=V(qe),U&&U.l(qe),qe.forEach(u),bt.forEach(u),Mt=V(_),he=f(_,"DIV",{class:!0});var yt=h(he);me=f(yt,"DIV",{class:!0});var Et=h(me);ye=f(Et,"DIV",{class:!0});var It=h(ye);Le=f(It,"DIV",{class:!0});var hl=h(Le);ot=A(hl,et),hl.forEach(u),Bt=V(It),ve=f(It,"BUTTON",{class:!0,type:!0});var ml=h(ve);se.l(ml),ml.forEach(u),It.forEach(u),Ct=V(Et),F&&F.l(Et),Et.forEach(u),Ot=V(yt),J&&J.l(yt),yt.forEach(u),Ut=V(_),Ee=f(_,"DIV",{class:!0});var Dt=h(Ee);Re=f(Dt,"DIV",{class:!0});var vl=h(Re);ze=f(vl,"DIV",{class:!0});var gl=h(ze);it=A(gl,tt),gl.forEach(u),vl.forEach(u),jt=V(Dt),Ae=f(Dt,"DIV",{class:!0});var bl=h(Ae);for(let Xt=0;Xt<S.length;Xt+=1)S[Xt].l(bl);bl.forEach(u),Dt.forEach(u),Ht=V(_),ge=f(_,"DIV",{class:!0});var Vt=h(ge);Ie=f(Vt,"DIV",{class:!0});var Tt=h(Ie);Fe=f(Tt,"DIV",{class:!0});var kl=h(Fe);ut=A(kl,lt),kl.forEach(u),Lt=V(Tt),be=f(Tt,"BUTTON",{class:!0,type:!0});var wl=h(be);ae.l(wl),wl.forEach(u),Tt.forEach(u),Rt=V(Vt),W&&W.l(Vt),Vt.forEach(u),zt=V(_),Je=f(_,"DIV",{class:!0});var yl=h(Je);K=f(yl,"BUTTON",{class:!0,type:!0});var Nt=h(K);We=f(Nt,"DIV",{class:!0});var El=h(We);ct=A(El,st),El.forEach(u),Ft=V(Nt),q&&q.l(Nt),Nt.forEach(u),yl.forEach(u),_.forEach(u),this.h()},h(){var c,_;o(l,"class",r=((_=(c=a[7])==null?void 0:c.meta)!=null&&_.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),o(l,"type","button"),o(s,"class","self-center"),o(t,"class","flex justify-center my-4"),o(w,"class","text-sm font-semibold mb-2"),o(i,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(i,"placeholder",b=a[11].t("Name your model")),i.required=!0,o(g,"class","flex-1"),o(L,"class","text-sm font-semibold mb-2"),o(Z,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),o(Z,"placeholder",Ce=a[11].t("Add a model id")),Z.value=a[5],Z.disabled=!0,Z.required=!0,o(M,"class","flex-1"),o(m,"class","my-2 flex space-x-2"),o(ke,"class","text-sm font-semibold mb-2"),o(x,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(x,"placeholder",Qe=a[11].t("Add a short description about what this model does")),o(ue,"class","my-2"),o(H,"class","self-center text-sm font-semibold"),o(y,"class","flex w-full justify-between"),o(ee,"class","text-xs font-semibold mb-2"),o(fe,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),o(fe,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),o(fe,"rows","4"),o(Y,"class","my-1"),o(He,"class","self-center text-xs font-semibold"),o(pe,"class","p-1 px-3 text-xs flex rounded transition"),o(pe,"type","button"),o(we,"class","flex w-full justify-between"),o(R,"class","mt-2"),o(_e,"class","my-2"),o(Le,"class","self-center text-sm font-semibold"),o(ve,"class","p-1 text-xs flex rounded transition"),o(ve,"type","button"),o(ye,"class","flex w-full justify-between items-center"),o(me,"class","flex w-full justify-between items-center"),o(he,"class","my-2"),o(ze,"class","self-center text-sm font-semibold"),o(Re,"class","flex w-full justify-between"),o(Ae,"class","flex flex-col"),o(Ee,"class","my-2"),o(Fe,"class","self-center text-sm font-semibold"),o(be,"class","p-1 px-3 text-xs flex rounded transition"),o(be,"type","button"),o(Ie,"class","flex w-full justify-between mb-2"),o(ge,"class","my-2 text-gray-500"),o(We,"class","self-center font-medium"),o(K,"class",dt="text-sm px-3 py-2 transition rounded-xl "+(a[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),o(K,"type","submit"),K.disabled=a[0],o(Je,"class","my-2 flex justify-end mb-20"),o(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(c,_){O(c,e,_),n(e,t),n(t,s),n(s,l),te.m(l,null),n(e,p),n(e,m),n(m,g),n(g,w),n(w,T),n(w,v),n(g,N),n(g,I),n(I,i),re(i,a[6]),n(m,k),n(m,M),n(M,L),n(L,ie),n(L,Ye),n(M,Ze),n(M,Te),n(Te,Z),n(e,Ge),z&&z.m(e,null),n(e,Oe),n(e,ue),n(ue,ke),n(ke,Ue),n(ue,Ke),n(ue,Se),n(Se,x),re(x,a[7].meta.description),n(e,rt),n(e,_e),n(_e,y),n(y,H),n(H,G),n(_e,$),n(_e,R),n(R,Y),n(Y,ee),n(ee,je),n(Y,xe),n(Y,Pe),n(Pe,fe),re(fe,a[7].params.system),n(R,St),n(R,we),n(we,He),n(He,nt),n(we,Pt),n(we,pe),le.m(pe,null),n(R,At),U&&U.m(R,null),n(e,Mt),n(e,he),n(he,me),n(me,ye),n(ye,Le),n(Le,ot),n(ye,Bt),n(ye,ve),se.m(ve,null),n(me,Ct),F&&F.m(me,null),n(he,Ot),J&&J.m(he,null),n(e,Ut),n(e,Ee),n(Ee,Re),n(Re,ze),n(ze,it),n(Ee,jt),n(Ee,Ae);for(let Q=0;Q<S.length;Q+=1)S[Q]&&S[Q].m(Ae,null);n(e,Ht),n(e,ge),n(ge,Ie),n(Ie,Fe),n(Fe,ut),n(Ie,Lt),n(Ie,be),ae.m(be,null),n(ge,Rt),W&&W.m(ge,null),n(e,zt),n(e,Je),n(Je,K),n(K,We),n(We,ct),n(K,Ft),q&&q.m(K,null),B=!0,Jt||(el=[X(l,"click",a[19]),X(i,"input",a[20]),X(x,"input",a[23]),X(fe,"input",a[24]),X(pe,"click",a[25]),X(ve,"click",a[28]),X(be,"click",a[33]),X(e,"submit",xl(a[34]))],Jt=!0)},p(c,_){var Q,De;if(ft===(ft=tl(c))&&te?te.p(c,_):(te.d(1),te=ft(c),te&&(te.c(),te.m(l,null))),(!B||_[0]&1152&&r!==(r=((De=(Q=c[7])==null?void 0:Q.meta)!=null&&De.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"))&&o(l,"class",r),(!B||_[0]&2048)&&E!==(E=c[11].t("Name")+"")&&C(T,E),(!B||_[0]&2048&&b!==(b=c[11].t("Name your model")))&&o(i,"placeholder",b),_[0]&64&&i.value!==c[6]&&re(i,c[6]),(!B||_[0]&2048)&&oe!==(oe=c[11].t("Model ID")+"")&&C(ie,oe),(!B||_[0]&2048&&Ce!==(Ce=c[11].t("Add a model id")))&&o(Z,"placeholder",Ce),(!B||_[0]&32&&Z.value!==c[5])&&(Z.value=c[5]),c[12].preset?z?z.p(c,_):(z=Cl(c),z.c(),z.m(e,Oe)):z&&(z.d(1),z=null),(!B||_[0]&2048)&&Ne!==(Ne=c[11].t("Description")+"")&&C(Ue,Ne),(!B||_[0]&2048&&Qe!==(Qe=c[11].t("Add a short description about what this model does")))&&o(x,"placeholder",Qe),_[0]&1152&&x.value!==c[7].meta.description&&re(x,c[7].meta.description),(!B||_[0]&2048)&&ce!==(ce=c[11].t("Model Params")+"")&&C(G,ce),(!B||_[0]&2048)&&de!==(de=c[11].t("System Prompt")+"")&&C(je,de),_[0]&1152&&re(fe,c[7].params.system),(!B||_[0]&2048)&&$e!==($e=c[11].t("Advanced Params")+"")&&C(nt,$e),_t===(_t=ll(c))&&le?le.p(c,_):(le.d(1),le=_t(c),le&&(le.c(),le.m(pe,null))),c[3]?U?(U.p(c,_),_[0]&8&&ne(U,1)):(U=Ul(c),U.c(),ne(U,1),U.m(R,null)):U&&(Kt(),Ve(U,1,1,()=>{U=null}),Gt()),(!B||_[0]&2048)&&et!==(et=c[11].t("Prompt suggestions")+"")&&C(ot,et),pt===(pt=sl(c))&&se?se.p(c,_):(se.d(1),se=pt(c),se&&(se.c(),se.m(ve,null))),c[7].meta.suggestion_prompts!==null?F?F.p(c,_):(F=jl(c),F.c(),F.m(me,null)):F&&(F.d(1),F=null),c[7].meta.suggestion_prompts?J?J.p(c,_):(J=Hl(c),J.c(),J.m(he,null)):J&&(J.d(1),J=null),(!B||_[0]&2048)&&tt!==(tt=c[11].t("Capabilities")+"")&&C(it,tt),_[0]&2560){Me=Xe(Object.keys(c[9]));let j;for(j=0;j<Me.length;j+=1){const Be=Pl(c,Me,j);S[j]?(S[j].p(Be,_),ne(S[j],1)):(S[j]=Rl(Be),S[j].c(),ne(S[j],1),S[j].m(Ae,null))}for(Kt(),j=Me.length;j<S.length;j+=1)Zl(j);Gt()}(!B||_[0]&2048)&&lt!==(lt=c[11].t("JSON Preview")+"")&&C(ut,lt),ht===(ht=al(c))&&ae?ae.p(c,_):(ae.d(1),ae=ht(c),ae&&(ae.c(),ae.m(be,null))),c[4]?W?W.p(c,_):(W=zl(c),W.c(),W.m(ge,null)):W&&(W.d(1),W=null),(!B||_[0]&2048)&&st!==(st=c[11].t("Save & Update")+"")&&C(ct,st),c[0]?q||(q=Fl(),q.c(),q.m(K,null)):q&&(q.d(1),q=null),(!B||_[0]&1&&dt!==(dt="text-sm px-3 py-2 transition rounded-xl "+(c[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&o(K,"class",dt),(!B||_[0]&1)&&(K.disabled=c[0])},i(c){if(!B){ne(U);for(let _=0;_<Me.length;_+=1)ne(S[_]);B=!0}},o(c){Ve(U),S=S.filter(Boolean);for(let _=0;_<S.length;_+=1)Ve(S[_]);B=!1},d(c){c&&u(e),te.d(),z&&z.d(),le.d(),U&&U.d(),se.d(),F&&F.d(),J&&J.d(),xt(S,c),ae.d(),W&&W.d(),q&&q.d(),Jt=!1,Qt(el)}}}function ds(a){let e,t;return{c(){e=Dl("svg"),t=Dl("path"),this.h()},l(s){e=Vl(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=h(e);t=Vl(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),h(t).forEach(u),l.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","w-8")},m(s,l){O(s,e,l),n(e,t)},p:$t,d(s){s&&u(e)}}}function fs(a){let e,t;return{c(){e=d("img"),this.h()},l(s){e=f(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var s,l;Tl(e.src,t=(l=(s=a[7])==null?void 0:s.meta)==null?void 0:l.profile_image_url)||o(e,"src",t),o(e,"alt","modelfile profile"),o(e,"class","rounded-full w-20 h-20 object-cover")},m(s,l){O(s,e,l)},p(s,l){var r,p;l[0]&1152&&!Tl(e.src,t=(p=(r=s[7])==null?void 0:r.meta)==null?void 0:p.profile_image_url)&&o(e,"src",t)},d(s){s&&u(e)}}}function Cl(a){let e,t,s=a[11].t("Base Model (From)")+"",l,r,p,m,g,w=a[11].t("Select a base model")+"",E,T,v,N=Xe(a[10].filter(a[21])),I=[];for(let i=0;i<N.length;i+=1)I[i]=Ol(Ml(a,N,i));return{c(){e=d("div"),t=d("div"),l=P(s),r=D(),p=d("div"),m=d("select"),g=d("option"),E=P(w);for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){e=f(i,"DIV",{class:!0});var b=h(e);t=f(b,"DIV",{class:!0});var k=h(t);l=A(k,s),k.forEach(u),r=V(b),p=f(b,"DIV",{});var M=h(p);m=f(M,"SELECT",{class:!0,placeholder:!0});var L=h(m);g=f(L,"OPTION",{class:!0});var oe=h(g);E=A(oe,w),oe.forEach(u);for(let ie=0;ie<I.length;ie+=1)I[ie].l(L);L.forEach(u),M.forEach(u),b.forEach(u),this.h()},h(){o(t,"class","text-sm font-semibold mb-2"),g.__value=null,re(g,g.__value),o(g,"class","text-gray-900"),o(m,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(m,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),m.required=!0,a[7].base_model_id===void 0&&$l(()=>a[22].call(m)),o(e,"class","my-2")},m(i,b){O(i,e,b),n(e,t),n(t,l),n(e,r),n(e,p),n(p,m),n(m,g),n(g,E);for(let k=0;k<I.length;k+=1)I[k]&&I[k].m(m,null);Il(m,a[7].base_model_id,!0),T||(v=X(m,"change",a[22]),T=!0)},p(i,b){if(b[0]&2048&&s!==(s=i[11].t("Base Model (From)")+"")&&C(l,s),b[0]&2048&&w!==(w=i[11].t("Select a base model")+"")&&C(E,w),b[0]&5120){N=Xe(i[10].filter(i[21]));let k;for(k=0;k<N.length;k+=1){const M=Ml(i,N,k);I[k]?I[k].p(M,b):(I[k]=Ol(M),I[k].c(),I[k].m(m,null))}for(;k<I.length;k+=1)I[k].d(1);I.length=N.length}b[0]&1152&&Il(m,i[7].base_model_id)},d(i){i&&u(e),xt(I,i),T=!1,v()}}}function Ol(a){let e,t=a[12].name+"",s,l;return{c(){e=d("option"),s=P(t),this.h()},l(r){e=f(r,"OPTION",{class:!0});var p=h(e);s=A(p,t),p.forEach(u),this.h()},h(){e.__value=l=a[12].id,re(e,e.__value),o(e,"class","text-gray-900")},m(r,p){O(r,e,p),n(e,s)},p(r,p){p[0]&5120&&t!==(t=r[12].name+"")&&C(s,t),p[0]&5120&&l!==(l=r[12].id)&&(e.__value=l,re(e,e.__value))},d(r){r&&u(e)}}}function _s(a){let e,t=a[11].t("Show")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&C(s,t)},d(l){l&&u(e)}}}function ps(a){let e,t=a[11].t("Hide")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&C(s,t)},d(l){l&&u(e)}}}function Ul(a){let e,t,s,l;function r(m){a[26](m)}let p={};return a[8]!==void 0&&(p.params=a[8]),t=new is({props:p}),Jl.push(()=>as(t,"params",r)),t.$on("change",a[27]),{c(){e=d("div"),Wl(t.$$.fragment),this.h()},l(m){e=f(m,"DIV",{class:!0});var g=h(e);ql(t.$$.fragment,g),g.forEach(u),this.h()},h(){o(e,"class","my-2")},m(m,g){O(m,e,g),Xl(t,e,null),l=!0},p(m,g){const w={};!s&&g[0]&256&&(s=!0,w.params=m[8],es(()=>s=!1)),t.$set(w)},i(m){l||(ne(t.$$.fragment,m),l=!0)},o(m){Ve(t.$$.fragment,m),l=!1},d(m){m&&u(e),Yl(t)}}}function hs(a){let e,t=a[11].t("Custom")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Custom")+"")&&C(s,t)},d(l){l&&u(e)}}}function ms(a){let e,t=a[11].t("Default")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Default")+"")&&C(s,t)},d(l){l&&u(e)}}}function jl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',s,l;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=f(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-1 px-2 text-xs flex rounded transition"),o(e,"type","button")},m(r,p){O(r,e,p),s||(l=X(e,"click",a[29]),s=!0)},p:$t,d(r){r&&u(e),s=!1,l()}}}function Hl(a){let e;function t(r,p){return r[7].meta.suggestion_prompts.length>0?gs:vs}let s=t(a),l=s(a);return{c(){e=d("div"),l.c(),this.h()},l(r){e=f(r,"DIV",{class:!0});var p=h(e);l.l(p),p.forEach(u),this.h()},h(){o(e,"class","flex flex-col space-y-1 mt-2")},m(r,p){O(r,e,p),l.m(e,null)},p(r,p){s===(s=t(r))&&l?l.p(r,p):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&u(e),l.d()}}}function vs(a){let e,t="No suggestion prompts";return{c(){e=d("div"),e.textContent=t,this.h()},l(s){e=f(s,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-center")},m(s,l){O(s,e,l)},p:$t,d(s){s&&u(e)}}}function gs(a){let e,t=Xe(a[7].meta.suggestion_prompts),s=[];for(let l=0;l<t.length;l+=1)s[l]=Ll(Al(a,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Nl()},l(l){for(let r=0;r<s.length;r+=1)s[r].l(l);e=Nl()},m(l,r){for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(l,r);O(l,e,r)},p(l,r){if(r[0]&2176){t=Xe(l[7].meta.suggestion_prompts);let p;for(p=0;p<t.length;p+=1){const m=Al(l,t,p);s[p]?s[p].p(m,r):(s[p]=Ll(m),s[p].c(),s[p].m(e.parentNode,e))}for(;p<s.length;p+=1)s[p].d(1);s.length=t.length}},d(l){l&&u(e),xt(s,l)}}}function Ll(a){let e,t,s,l,r,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,w;function E(){a[30].call(t,a[41],a[42])}function T(){return a[31](a[42])}return{c(){e=d("div"),t=d("input"),l=D(),r=d("button"),r.innerHTML=p,m=D(),this.h()},l(v){e=f(v,"DIV",{class:!0});var N=h(e);t=f(N,"INPUT",{class:!0,placeholder:!0}),l=V(N),r=f(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),at(r)!=="svelte-8f7b7y"&&(r.innerHTML=p),m=V(N),N.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),o(t,"placeholder",s=a[11].t("Write a prompt suggestion (e.g. Who are you?)")),o(r,"class","px-2"),o(r,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(v,N){O(v,e,N),n(e,t),re(t,a[40].content),n(e,l),n(e,r),n(e,m),g||(w=[X(t,"input",E),X(r,"click",T)],g=!0)},p(v,N){a=v,N[0]&2048&&s!==(s=a[11].t("Write a prompt suggestion (e.g. Who are you?)"))&&o(t,"placeholder",s),N[0]&1152&&t.value!==a[40].content&&re(t,a[40].content)},d(v){v&&u(e),g=!1,Qt(w)}}}function Rl(a){let e,t,s,l,r=a[11].t(a[37])+"",p,m,g;function w(...E){return a[32](a[37],...E)}return t=new cs({props:{state:a[9][a[37]]?"checked":"unchecked"}}),t.$on("change",w),{c(){e=d("div"),Wl(t.$$.fragment),s=D(),l=d("div"),p=P(r),m=D(),this.h()},l(E){e=f(E,"DIV",{class:!0});var T=h(e);ql(t.$$.fragment,T),s=V(T),l=f(T,"DIV",{class:!0});var v=h(l);p=A(v,r),v.forEach(u),m=V(T),T.forEach(u),this.h()},h(){o(l,"class","py-1.5 text-sm w-full capitalize"),o(e,"class","flex items-center gap-2")},m(E,T){O(E,e,T),Xl(t,e,null),n(e,s),n(e,l),n(l,p),n(e,m),g=!0},p(E,T){a=E;const v={};T[0]&512&&(v.state=a[9][a[37]]?"checked":"unchecked"),t.$set(v),(!g||T[0]&2560)&&r!==(r=a[11].t(a[37])+"")&&C(p,r)},i(E){g||(ne(t.$$.fragment,E),g=!0)},o(E){Ve(t.$$.fragment,E),g=!1},d(E){E&&u(e),Yl(t)}}}function bs(a){let e,t=a[11].t("Show")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Show")+"")&&C(s,t)},d(l){l&&u(e)}}}function ks(a){let e,t=a[11].t("Hide")+"",s;return{c(){e=d("span"),s=P(t),this.h()},l(l){e=f(l,"SPAN",{class:!0});var r=h(e);s=A(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,s)},p(l,r){r[0]&2048&&t!==(t=l[11].t("Hide")+"")&&C(s,t)},d(l){l&&u(e)}}}function zl(a){let e,t,s;return{c(){e=d("div"),t=d("textarea"),this.h()},l(l){e=f(l,"DIV",{});var r=h(e);t=f(r,"TEXTAREA",{class:!0,rows:!0}),h(t).forEach(u),r.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(t,"rows","10"),t.value=s=JSON.stringify(a[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){O(l,e,r),n(e,t)},p(l,r){r[0]&1152&&s!==(s=JSON.stringify(l[7],null,2))&&(t.value=s)},d(l){l&&u(e)}}}function Fl(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=f(s,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-1.5 self-center")},m(s,l){O(s,e,l)},d(s){s&&u(e)}}}function ws(a){let e,t,s,l,r,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',m,g,w=a[11].t("Back")+"",E,T,v,N,I,i=a[12]&&Bl(a);return{c(){e=d("div"),t=d("input"),s=D(),l=d("button"),r=d("div"),r.innerHTML=p,m=D(),g=d("div"),E=P(w),T=D(),i&&i.c(),this.h()},l(b){e=f(b,"DIV",{class:!0});var k=h(e);t=f(k,"INPUT",{type:!0,accept:!0}),s=V(k),l=f(k,"BUTTON",{class:!0});var M=h(l);r=f(M,"DIV",{class:!0,"data-svelte-h":!0}),at(r)!=="svelte-1klo87r"&&(r.innerHTML=p),m=V(M),g=f(M,"DIV",{class:!0});var L=h(g);E=A(L,w),L.forEach(u),M.forEach(u),T=V(k),i&&i.l(k),k.forEach(u),this.h()},h(){o(t,"type","file"),t.hidden=!0,o(t,"accept","image/*"),o(r,"class","self-center"),o(g,"class","self-center font-medium text-sm"),o(l,"class","flex space-x-1"),o(e,"class","w-full max-h-full")},m(b,k){O(b,e,k),n(e,t),a[15](t),n(e,s),n(e,l),n(l,r),n(l,m),n(l,g),n(g,E),n(e,T),i&&i.m(e,null),v=!0,N||(I=[X(t,"change",a[16]),X(t,"change",a[17]),X(l,"click",a[18])],N=!0)},p(b,k){(!v||k[0]&2048)&&w!==(w=b[11].t("Back")+"")&&C(E,w),b[12]?i?(i.p(b,k),k[0]&4096&&ne(i,1)):(i=Bl(b),i.c(),ne(i,1),i.m(e,null)):i&&(Kt(),Ve(i,1,1,()=>{i=null}),Gt())},i(b){v||(ne(i),v=!0)},o(b){Ve(i),v=!1},d(b){b&&u(e),a[15](null),i&&i.d(),N=!1,Qt(I)}}}function ys(a,e,t){let s,l,r;Yt(a,Sl,y=>t(10,s=y)),Yt(a,ns,y=>t(36,l=y));const p=Kl("i18n");Yt(a,p,y=>t(11,r=y));let m=!1,g,w,E=!1,T=!1,v=null,N="",I="",i={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/favicon.png",description:"",suggestion_prompts:null},params:{system:""}},b={},k={vision:!0};const M=async()=>{t(0,m=!0),t(7,i.id=N,i),t(7,i.name=I,i),t(7,i.meta.capabilities=k,i),t(7,i.params.stop=b.stop?b.stop.split(",").filter(H=>H.trim()):null,i),await os(localStorage.token,i.id,i)&&(rs.success("Model updated successfully"),await Zt("/workspace/models"),await Sl.set(await us(localStorage.token))),t(0,m=!1)};Ql(()=>{var H,ce,G,$,R;const y=l.url.searchParams.get("id");y?(t(12,v=s.find(Y=>Y.id===y)),v?(t(5,N=v.id),t(6,I=v.name),t(7,i={...i,...JSON.parse(JSON.stringify(v!=null&&v.info?v==null?void 0:v.info:{id:v.id,name:v.name}))}),v.preset&&v.owned_by==="ollama"&&!i.base_model_id.includes(":")&&t(7,i.base_model_id=`${i.base_model_id}:latest`,i),t(8,b={...b,...(H=v==null?void 0:v.info)==null?void 0:H.params}),t(8,b.stop=b!=null&&b.stop?((b==null?void 0:b.stop)??[]).join(","):null,b),(v==null?void 0:v.owned_by)==="openai"&&t(9,k.usage=!1,k),(G=(ce=v==null?void 0:v.info)==null?void 0:ce.meta)!=null&&G.capabilities&&t(9,k={...k,...(R=($=v==null?void 0:v.info)==null?void 0:$.meta)==null?void 0:R.capabilities}),console.log(v)):Zt("/workspace/models")):Zt("/workspace/models")});function L(y){Jl[y?"unshift":"push"](()=>{g=y,t(1,g)})}function oe(){w=this.files,t(2,w)}const ie=()=>{let y=new FileReader;y.onload=H=>{let ce=`${H.target.result}`;const G=new Image;G.src=ce,G.onload=function(){const $=document.createElement("canvas"),R=$.getContext("2d"),Y=G.width/G.height;let ee,de;Y>1?(ee=100*Y,de=100):(ee=100,de=100/Y),$.width=100,$.height=100;const je=(100-ee)/2,xe=(100-de)/2;R.drawImage(G,je,xe,ee,de);const Pe=$.toDataURL("image/jpeg");t(7,i.meta.profile_image_url=Pe,i),t(2,w=null)}},w&&w.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(w[0].type)?y.readAsDataURL(w[0]):(console.log(`Unsupported File Type '${w[0].type}'.`),t(2,w=null))},Ye=()=>{history.back()},Ze=()=>{g.click()};function Te(){I=this.value,t(6,I)}const Z=y=>y.id!==v.id&&!(y!=null&&y.preset);function Ce(){i.base_model_id=ts(this),t(7,i)}function Ge(){i.meta.description=this.value,t(7,i)}function Oe(){i.params.system=this.value,t(7,i)}const ue=()=>{t(3,E=!E)};function ke(y){b=y,t(8,b)}const Ne=y=>{t(7,i.params={...i.params,...b},i)},Ue=()=>{i.meta.suggestion_prompts===null?t(7,i.meta.suggestion_prompts=[{content:""}],i):t(7,i.meta.suggestion_prompts=null,i)},Ke=()=>{(i.meta.suggestion_prompts.length===0||i.meta.suggestion_prompts.at(-1).content!=="")&&t(7,i.meta.suggestion_prompts=[...i.meta.suggestion_prompts,{content:""}],i)};function Se(y,H){y[H].content=this.value,t(7,i)}return[m,g,w,E,T,N,I,i,b,k,s,r,v,p,M,L,oe,ie,Ye,Ze,Te,Z,Ce,Ge,Oe,ue,ke,Ne,Ue,Ke,Se,y=>{i.meta.suggestion_prompts.splice(y,1),t(7,i)},(y,H)=>{t(9,k[y]=H.detail==="checked",k)},()=>{t(4,T=!T)},()=>{M()}]}class Os extends ls{constructor(e){super(),ss(this,e,ys,ws,Gl,{},null,[-1,-1])}}export{Os as component};
//# sourceMappingURL=12.f22919dc.js.map
