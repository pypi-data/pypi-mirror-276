(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{26609:function(e,n,t){"use strict";t.d(n,{Z:function(){return D}});var r=t(59003),i=t(92222),u=t(49686),o=t(86677),s=t(27378),c=t(55162),a=t(37522),l=t(90849),d=t(57984),f=t(65408),g=t(15266),h=t(67115),m=t(89329),x=t(73959),j=t(24246);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){var n=e.resourceType,t=(0,i.Cl)(),r=[];return n?n===h.X.SCHEMA?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,j.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Name"},e))}}),t.accessor((function(e){return e.urn}),{id:"project",cell:function(e){return(0,j.jsx)(c.G3,{value:(0,x.Z)(e.getValue())})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Project"},e))}}),t.display({id:"type",cell:function(){return(0,j.jsx)(c.G3,{value:"Dataset"})},header:"Type"}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,j.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,j.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,j.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.TABLE?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,j.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Table name"},e))}}),t.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,j.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,j.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,j.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,j.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:n===h.X.FIELD?{columns:[t.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,j.jsx)(g.Z,{result:e.row.original})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Field name"},e))}}),t.accessor((function(e){return(0,m.Z)(e)}),{id:"type",cell:function(e){return(0,j.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Type"},e))}}),t.accessor((function(e){return e.monitor_config_id}),{id:"monitor",cell:function(e){return(0,j.jsx)(c.G3,{value:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"Detected by"},e))}}),t.accessor((function(e){return e.source_modified}),{id:"time",cell:function(e){return(0,j.jsx)(d.Cy,{time:e.getValue()})},header:function(e){return(0,j.jsx)(c.Rr,v({value:"When"},e))}}),t.display({id:"actions",cell:function(e){return(0,j.jsx)(f.Z,{resource:e.row.original})},header:"Actions"})]}:{columns:r}:{columns:r}},w=t(1673),b=t(47079),R=t(288),P=t(54012),O={items:[],total:0,page:1,size:50,pages:1},_=function(){return(0,j.jsx)(u.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,j.jsxs)(u.gCW,{children:[(0,j.jsx)(u.xvT,{fontSize:"md",fontWeight:"600",children:"No activity found"}),(0,j.jsx)(u.xvT,{fontSize:"sm",children:"You're up to date!"})]})})},D=function(e){var n,t=e.resourceUrn,l=(0,o.useRouter)(),d=(0,s.useState)(""),f=d[0],g=d[1],m=(0,s.useState)("true"===(null===(n=l.query)||void 0===n?void 0:n.showFullSchema)||!1),x=m[0],p=m[1],v=[R.LL.ADDITION,R.LL.REMOVAL];x&&(v.push(R.LL.MONITORED),v.push(R.LL.MUTED));var D=[R.LL.ADDITION,R.LL.REMOVAL];x&&(D.push(R.LL.MONITORED),D.push(R.LL.MUTED));var L=(0,c.oi)(),C=L.PAGE_SIZES,T=L.pageSize,E=L.setPageSize,S=L.onPreviousPageClick,Z=L.isPreviousPageDisabled,N=L.onNextPageClick,k=L.isNextPageDisabled,I=L.startRange,M=L.endRange,V=L.pageIndex,z=L.setTotalPages,A=(0,a.z8)({staged_resource_urn:t,page:V,size:T,child_diff_status:D,diff_status:v,search:f}),G=A.isFetching,W=A.isLoading,F=A.data,X=(0,b.G)(null===F||void 0===F?void 0:F.items[0]),U=y({resourceType:X}).columns,q=(0,s.useMemo)((function(){return null!==F&&void 0!==F?F:O}),[F]),H=q.items,Y=q.total,B=q.pages;(0,s.useEffect)((function(){z(B)}),[B,z]);var K=(0,s.useMemo)((function(){return U}),[U]),Q=(0,w.Z)().navigateToDetectionResults,$=X!==h.X.FIELD?function(e){return Q({resourceUrn:e.urn,showFullSchema:x})}:void 0,J=(0,r.b7)({getCoreRowModel:(0,i.sC)(),getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),getRowId:function(e){var n;return null!==(n=e.name)&&void 0!==n?n:e.urn},columns:K,manualPagination:!0,data:H});return W?(0,j.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Q$,{children:(0,j.jsxs)(u.kCb,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,j.jsx)(u.xuv,{w:400,flexShrink:0,children:(0,j.jsx)(P.Z,{value:f,onChange:g})}),(0,j.jsxs)(u.kCb,{direction:"row",alignItems:"center",children:[(0,j.jsx)(u.rsf,{size:"sm",isChecked:x,onChange:function(){return p(!x)},colorScheme:"purple","data-testid":"full-schema-toggle"}),(0,j.jsx)(u.xvT,{marginLeft:2,fontSize:"xs",fontWeight:"medium",children:"Show full schema"})]})]})}),(0,j.jsx)(c.ZK,{tableInstance:J,onRowClick:$,emptyTableNotice:(0,j.jsx)(_,{})}),(0,j.jsx)(c.s8,{totalRows:Y,pageSizes:C,setPageSize:E,onPreviousPageClick:S,isPreviousPageDisabled:Z||G,onNextPageClick:N,isNextPageDisabled:k||G,startRange:I,endRange:M})]})}},76861:function(e,n,t){"use strict";t.r(n);t(27378);var r=t(68512),i=t(60709),u=t(30957),o=t(26609),s=t(24246);n.default=function(){return(0,s.jsxs)(r.Z,{title:"Data detection",mainProps:{padding:"40px",paddingRight:"48px"},children:[(0,s.jsx)(u.Z,{parentTitle:"Data detection",parentLink:i.XY}),(0,s.jsx)(o.Z,{})]})}},35041:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/detection",function(){return t(76861)}])}},function(e){e.O(0,[8033,6936,1114,338,5162,9547,9774,2888,179],(function(){return n=35041,e(e.s=n);var n}));var n=e.O();_N_E=n}]);